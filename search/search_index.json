{"config":{"lang":["ja"],"separator":"[\\s\\-\u3000\u3001\u3002\uff0c\uff0e]+","pipeline":["stemmer"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"togikaidrive","text":""},{"location":"#mobility-for-all-to-study","title":"Mobility for All to Study!","text":"<p>\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u7b49\u3067\u81ea\u52d5\u904b\u8ee2\u3059\u308b\u30df\u30cb\u30ab\u30fc\u306e\u5236\u5fa1\u30d7\u30ed\u30b0\u30e9\u30e0\u3002 \u81ea\u52d5\u904b\u8ee2\u30df\u30cb\u30ab\u30fc\u30d0\u30c8\u30eb\u3068\u51fa\u524d\u6388\u696d\u7b49\u3067\u6d3b\u7528\u3002</p> <p></p>"},{"location":"#_1","title":"\u4e3b\u306a\u30d7\u30ed\u30b0\u30e9\u30e0\u6982\u8981","text":"<p><code>python run.py</code> \u3067\u8d70\u884c\uff01</p> \u30d7\u30ed\u30b0\u30e9\u30e0\u540d \u8aac\u660e run.py \u8d70\u884c\u6642\u306e\u30eb\u30fc\u30d7\u51e6\u7406\u3092\u3059\u308b\u30e1\u30a4\u30f3\u30d7\u30ed\u30b0\u30e9\u30e0 config.py \u30d1\u30e9\u30e1\u30fc\u30bf\u7528\u30d7\u30ed\u30b0\u30e9\u30e0\uff08\u30c7\u30d0\u30a4\u30b9\u81ea\u52d5\u691c\u51fa\u6a5f\u80fd\u4ed8\u304d\uff09 ultrasonic.py \u8d85\u97f3\u6ce2\u6e2c\u5b9a\u7528\u30d7\u30ed\u30b0\u30e9\u30e0\uff08RPi4/5/Jetson\u81ea\u52d5\u5bfe\u5fdc\uff09 planner.py \u8d70\u884c\u30ed\u30b8\u30c3\u30af\u7528\u30d7\u30ed\u30b0\u30e9\u30e0 motor.py \u64cd\u8235\u30fb\u30e2\u30fc\u30bf\u30fc\u51fa\u529b/\u8abf\u6574\u7528\u30d7\u30ed\u30b0\u30e9\u30e0 train_pytorch.py \u6a5f\u68b0\u5b66\u7fd2\u7528\u30d7\u30ed\u30b0\u30e9\u30e0 <p>\u753b\u50cf\u8a8d\u8b58\u30e2\u30c7\u30eb\u306b\u3064\u3044\u3066</p> <p>\u753b\u50cf\u5165\u529b\u3092\u4f7f\u3063\u305fCNN\u30e2\u30c7\u30eb\u306b\u3088\u308b\u63a8\u8ad6\u306b\u306fannotation_training_d2j\u306e\u7d71\u5408\u304c\u5fc5\u8981\u3067\u3059\u3002</p>"},{"location":"#_2","title":"\u4e3b\u306a\u30d7\u30ed\u30b0\u30e9\u30e0\u69cb\u6210","text":""},{"location":"#_3","title":"\u81ea\u52d5\u904b\u8ee2\u306e\u6d41\u308c","text":"<pre><code>graph TB\n    subgraph \u8a8d\u77e5[\"\ud83d\udd0d \u8a8d\u77e5\"]\n        US[ultrasonic.py&lt;br/&gt;\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc]\n        CAM[camera.py&lt;br/&gt;\u30ab\u30e1\u30e9]\n        LI[lidar.py&lt;br/&gt;LiDAR]\n    end\n\n    subgraph \u5224\u65ad[\"\ud83e\udde0 \u5224\u65ad\"]\n        PL[planner.py&lt;br/&gt;\u8d70\u884c\u30ed\u30b8\u30c3\u30af]\n    end\n\n    subgraph \u64cd\u4f5c[\"\ud83d\udede \u64cd\u4f5c\"]\n        MT[motor.py&lt;br/&gt;\u30e2\u30fc\u30bf\u30fc\u5236\u5fa1]\n    end\n\n    US --&gt; PL\n    CAM --&gt; PL\n    LI --&gt; PL\n    PL --&gt; MT</code></pre>"},{"location":"#_4","title":"\u30af\u30a4\u30c3\u30af\u30b9\u30bf\u30fc\u30c8","text":""},{"location":"#1","title":"1. \u30bb\u30f3\u30b5\u30fc\u78ba\u8a8d","text":"<pre><code>python ultrasonic.py\n</code></pre>"},{"location":"#2","title":"2. \u30e2\u30fc\u30bf\u30fc\u8abf\u6574","text":"<pre><code>python motor.py\n</code></pre>"},{"location":"#3","title":"3. \u8d70\u884c\u958b\u59cb","text":"<pre><code>python run.py\n</code></pre>"},{"location":"#_5","title":"\u8b1b\u5ea7\u306e\u9032\u3081\u65b9","text":"<ol> <li>\u57fa\u672c\u78ba\u8a8d - \u30bb\u30f3\u30b5\u30fc\u30fb\u30e2\u30fc\u30bf\u30fc\u30fb\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u52d5\u4f5c\u78ba\u8a8d</li> <li>\u8a8d\u77e5 - \u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u306e\u4ed5\u7d44\u307f\u3092\u7406\u89e3</li> <li>\u5224\u65ad - \u8d70\u884c\u30e2\u30fc\u30c9\u3068\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3092\u5b66\u3076</li> <li>\u64cd\u4f5c - \u30e2\u30fc\u30bf\u30fc\u5236\u5fa1\u306e\u57fa\u672c\u3092\u7fd2\u5f97</li> <li>\u6f14\u7fd2 - \u5b9f\u8df5\u7684\u306a\u8ab2\u984c\u306b\u6311\u6226</li> </ol>"},{"location":"#_6","title":"\u30ea\u30f3\u30af","text":"<ul> <li>GitHub \u30ea\u30dd\u30b8\u30c8\u30ea</li> <li>data_viewer - \u30c7\u30fc\u30bf\u30c1\u30a7\u30c3\u30af\u30fb\u7c21\u6613\u5b66\u7fd2\u30c4\u30fc\u30eb</li> <li>annotation_training_d2j - \u753b\u50cf\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u30fb\u5b66\u7fd2\u30c4\u30fc\u30eb</li> </ul>"},{"location":"course/","title":"\u30b3\u30fc\u30b9","text":"<p>\u30bf\u30a4\u30e0\u30a2\u30bf\u30c3\u30af\u3067\u4f7f\u7528\u3059\u308b\u30b3\u30fc\u30b9\u306e\u8aac\u660e\u3067\u3059\u3002</p>"},{"location":"course/#_2","title":"\u30b7\u30f3\u30d7\u30eb\u30b3\u30fc\u30b9","text":"<p>\u57fa\u672c\u7684\u306a\u5468\u56de\u30b3\u30fc\u30b9\u3002\u76f4\u7dda\u3068\u30ab\u30fc\u30d6\u3067\u69cb\u6210\u3055\u308c\u3001\u81ea\u52d5\u8d70\u884c\u306e\u57fa\u790e\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"course/#_3","title":"\u8d70\u884c\u306e\u30b3\u30c4","text":"\u533a\u9593 \u8d70\u884c\u306e\u30b3\u30c4 \u30b9\u30c8\u30ec\u30fc\u30c8 \u30b9\u30ed\u30c3\u30c8\u30eb\u4e00\u5b9a\u3001\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u771f\u3093\u4e2d \u30b3\u30fc\u30ca\u30fc \u9032\u5165\u524d\u306b\u6e1b\u901f\u3001\u3086\u3063\u304f\u308a\u30cf\u30f3\u30c9\u30eb"},{"location":"course/#_4","title":"\u30bf\u30b9\u30af\u30b3\u30fc\u30b9","text":"<p>\u30dc\u30fc\u30ca\u30b9\u30bf\u30b9\u30af\u4ed8\u304d\u306e\u5fdc\u7528\u30b3\u30fc\u30b9\u30021\u5468\u8d70\u884c\u3068P\u30a8\u30ea\u30a2\u505c\u6b62\u3067\u30bf\u30a4\u30e0\u77ed\u7e2e\u3092\u72d9\u3048\u307e\u3059\u3002</p>"},{"location":"course/#_5","title":"\u8d70\u884c\u306e\u30b3\u30c4","text":"\u533a\u9593 \u8d70\u884c\u306e\u30b3\u30c4 \u30b9\u30c8\u30ec\u30fc\u30c8 \u30b9\u30ed\u30c3\u30c8\u30eb\u4e00\u5b9a\u3001\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u771f\u3093\u4e2d \u76f4\u89d2\u30b3\u30fc\u30ca\u30fc \u9032\u5165\u524d\u306b\u6e1b\u901f\u3001\u3086\u3063\u304f\u308a\u30cf\u30f3\u30c9\u30eb \u30b8\u30b0\u30b6\u30b0 \u614c\u3066\u305a\u4e00\u3064\u305a\u3064\u4e01\u5be7\u306b U\u5b57\u30ab\u30fc\u30d6 \u4e00\u5b9a\u306e\u30cf\u30f3\u30c9\u30eb\u89d2\u5ea6\u3092\u4fdd\u3064 P\u30a8\u30ea\u30a2 \u6e1b\u901f\u3057\u3066\u67a0\u5185\u306b\u505c\u6b62"},{"location":"course/#_6","title":"\u30bf\u30a4\u30e0\u30a2\u30bf\u30c3\u30af\u30eb\u30fc\u30eb","text":"<p>\u5404\u30c1\u30fc\u30e03\u56de\u307e\u3067\u6311\u6226\u53ef\u80fd</p>"},{"location":"course/#_7","title":"\u30da\u30ca\u30eb\u30c6\u30a3\uff08\u52a0\u7b97\uff09","text":"\u9805\u76ee \u30da\u30ca\u30eb\u30c6\u30a3 \u58c1\u3084\u969c\u5bb3\u7269\u306b\u63a5\u89e6 +1\u79d2 \u624b\u3067\u4fee\u6b63 +3\u79d2"},{"location":"course/#_8","title":"\u30dc\u30fc\u30ca\u30b9\uff08\u6e1b\u7b97\uff09","text":"\u30bf\u30b9\u30af \u30dc\u30fc\u30ca\u30b9 \u77e2\u5370\u306e\u5411\u304d\u306b1\u5468\u56de\u308b -5\u79d2\uff082\u5468\u76ee\u4ee5\u4e0a\u306f\u306a\u3057\uff09 P\u306e\u67a0\u5185\u3067\u58c1\u306b\u3076\u3064\u304b\u3089\u305a\u505c\u6b62 -3\u79d2"},{"location":"course/#_9","title":"\u8a08\u6e2c\u65b9\u6cd5","text":"<ol> <li>\u30b9\u30bf\u30fc\u30c8\u30e9\u30a4\u30f3\u306b\u30df\u30cb\u30ab\u30fc\u3092\u914d\u7f6e</li> <li>S\u30dc\u30bf\u30f3\u3067\u81ea\u52d5\u30e2\u30fc\u30c9\u306b\u5207\u66ff</li> <li>\u30b9\u30c8\u30c3\u30d7\u30a6\u30a9\u30c3\u30c1\u3067\u8a08\u6e2c</li> <li>\u30b4\u30fc\u30eb\u901a\u904e\u307e\u305f\u306fP\u30a8\u30ea\u30a2\u505c\u6b62\u3067\u7d42\u4e86</li> </ol>"},{"location":"course/#_10","title":"\u8a18\u9332\u30b7\u30fc\u30c8","text":"<p>\u8a18\u9332\u30b7\u30fc\u30c8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 (CSV)</p> \u30c1\u30fc\u30e0 1\u56de\u76ee 2\u56de\u76ee 3\u56de\u76ee \u30d9\u30b9\u30c8 \u30da\u30ca\u30eb\u30c6\u30a3 \u30dc\u30fc\u30ca\u30b9 \u6700\u7d42\u30bf\u30a4\u30e0 A __\u79d2 __\u79d2 __\u79d2 __\u79d2 +__\u79d2 -__\u79d2 __\u79d2 B __\u79d2 __\u79d2 __\u79d2 __\u79d2 +__\u79d2 -__\u79d2 __\u79d2 C __\u79d2 __\u79d2 __\u79d2 __\u79d2 +__\u79d2 -__\u79d2 __\u79d2 <p>\u6700\u7d42\u30bf\u30a4\u30e0 = \u30d9\u30b9\u30c8\u30bf\u30a4\u30e0 + \u30da\u30ca\u30eb\u30c6\u30a3 - \u30dc\u30fc\u30ca\u30b9</p>"},{"location":"handson/","title":"\u30cf\u30f3\u30ba\u30aa\u30f3 \u30ac\u30a4\u30c9","text":"<p>\u81ea\u52d5\u904b\u8ee2\u30df\u30cb\u30ab\u30fc\u8b1b\u7fd2\u306e\u9032\u884c\u30ac\u30a4\u30c9\u3067\u3059\u3002\u3053\u306e\u30da\u30fc\u30b8\u3092\u898b\u306a\u304c\u3089\u9032\u3081\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"handson/#3","title":"\u30bf\u30a4\u30e0\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\uff083\u6642\u9593\uff09","text":"\u6642\u9593 \u5185\u5bb9 \u6240\u8981\u6642\u9593 00:00-00:20 0. \u5168\u4f53\u50cf\u30fb\u74b0\u5883\u78ba\u8a8d 20\u5206 00:20-00:40 1. \u30bb\u30f3\u30b5\u30fc\u78ba\u8a8d 20\u5206 00:40-01:00 2. \u30e2\u30fc\u30bf\u30fc\u8abf\u6574 20\u5206 01:00-01:10 \u4f11\u61a9 10\u5206 01:10-01:30 3. \u30c7\u30fc\u30bf\u53ce\u96c6 20\u5206 01:30-01:40 4. \u30c7\u30fc\u30bf\u5206\u6790 10\u5206 01:40-02:10 5. \u5b66\u7fd2 30\u5206 02:10-02:30 6. \u7df4\u7fd2\u30bf\u30a4\u30e0 20\u5206 02:30-03:00 7. \u30bf\u30a4\u30e0\u30a2\u30bf\u30c3\u30af 30\u5206"},{"location":"handson/#0","title":"0. \u5168\u4f53\u50cf","text":""},{"location":"handson/#3_1","title":"\u81ea\u52d5\u904b\u8ee2\u306e3\u30b9\u30c6\u30c3\u30d7","text":"<pre><code>\u8a8d\u77e5\uff08\u30bb\u30f3\u30b5\u30fc\uff09\u2192 \u5224\u65ad\uff08\u30d7\u30e9\u30f3\u30ca\u30fc\uff09\u2192 \u64cd\u4f5c\uff08\u30e2\u30fc\u30bf\u30fc\uff09\n</code></pre> <p>\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u8a73\u7d30\u306a\u69cb\u6210\u306f \u30d7\u30ed\u30b0\u30e9\u30e0\u5168\u4f53\u50cf \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"handson/#1","title":"1. \u30bb\u30f3\u30b5\u30fc\u78ba\u8a8d","text":""},{"location":"handson/#_2","title":"\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc","text":"<pre><code>python ultrasonic.py\n</code></pre> <ul> <li>\u5b9a\u898f\u3067\u5b9f\u969b\u306e\u8ddd\u96e2\u3092\u6e2c\u308a\u3001\u30bb\u30f3\u30b5\u30fc\u5024\u3068\u6bd4\u8f03</li> <li>\u691c\u77e5\u89d2\u5ea6\uff08\u7d04\u00b115\u5ea6\uff09\u3092\u624b\u3092\u304b\u3056\u3057\u3066\u78ba\u8a8d</li> </ul>"},{"location":"handson/#lidar","title":"LiDAR\uff08\u4f7f\u7528\u3059\u308b\u5834\u5408\uff09","text":"<pre><code>python lidar.py\n</code></pre> <p>\u30d6\u30e9\u30a6\u30b6\u3067 <code>http://localhost:8080</code> \u306b\u30a2\u30af\u30bb\u30b9</p>"},{"location":"handson/#_3","title":"\u30ab\u30e1\u30e9\u30fb\u30bb\u30f3\u30b5\u30fc\u7d71\u5408\u78ba\u8a8d","text":"<pre><code>python monitor.py\n</code></pre> <p>\u30d6\u30e9\u30a6\u30b6\u3067 <code>http://localhost:8888</code> \u306b\u30a2\u30af\u30bb\u30b9</p> <p>\u8a73\u7d30</p> <p>\u8a73\u3057\u304f\u306f \u30bb\u30f3\u30b5\u30fc\u78ba\u8a8d \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"handson/#2","title":"2. \u30e2\u30fc\u30bf\u30fc\u8abf\u6574","text":""},{"location":"handson/#_4","title":"\u5b9f\u884c","text":"<pre><code>python motor.py\n</code></pre>"},{"location":"handson/#_5","title":"\u8abf\u6574\u624b\u9806","text":"<ol> <li>\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0: \u771f\u3093\u4e2d\u2192\u5de6\u6700\u5927\u8235\u89d2\u2192\u53f3\u6700\u5927\u8235\u89d2\u306e\u5024\u3092\u63a2\u3059</li> <li>\u30b9\u30ed\u30c3\u30c8\u30eb: \u30cb\u30e5\u30fc\u30c8\u30e9\u30eb\uff08\u30d4\u30c3\u30d4\u30c3\u30d4\u97f3\uff09\u2192\u524d\u9032\u6700\u5927\u51fa\u529b\u2192\u5f8c\u9032\u6700\u5927\u51fa\u529b\u306e\u5024\u3092\u63a2\u3059</li> </ol>"},{"location":"handson/#configpy","title":"config.py \u306b\u4fdd\u5b58","text":"<pre><code># \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\nSTEERING_CENTER_PWM = 420    # \u771f\u3093\u4e2d\u306e\u5024\nSTEERING_WIDTH_PWM = 80      # \u5de6\u53f3\u306e\u632f\u308c\u5e45\n\n# \u30b9\u30ed\u30c3\u30c8\u30eb\nTHROTTLE_STOPPED_PWM = 390   # \u30cb\u30e5\u30fc\u30c8\u30e9\u30eb\nTHROTTLE_FORWARD_PWM = 450   # \u524d\u9032\nTHROTTLE_REVERSE_PWM = 330   # \u5f8c\u9032\n</code></pre> <p>\u6ce8\u610f</p> <p>\u6975\u7aef\u306a\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u5024\u306b\u3088\u308a\u30b5\u30fc\u30dc\u30e2\u30fc\u30bf\u304c\u7834\u640d\u3059\u308b\u6050\u308c\u304c\u3042\u308a\u307e\u3059 \u6700\u5927\u8235\u89d2\u3092\u5165\u529b\u3057\u305f\u969b\u306b\u3001\u30b5\u30fc\u30dc\u30e2\u30fc\u30bf\u304b\u3089\u30b8-\u3063\u3068\u3044\u3046\u97f3\u304c\u9cf4\u3089\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044</p> <p>\u8a73\u7d30</p> <p>\u8a73\u3057\u304f\u306f \u30e2\u30fc\u30bf\u30fc\u78ba\u8a8d \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"handson/#3_2","title":"3. \u30c7\u30fc\u30bf\u53ce\u96c6","text":""},{"location":"handson/#configpy_1","title":"config.py \u8a2d\u5b9a","text":"<pre><code>PLAN = \"manual\"\nSAVE_FORMAT = \"donkeycar\"\nACTIVE_SENSORS = [\"lidar\", \"camera_0\"]  # \u307e\u305f\u306f [\"ultrasonic\", \"camera_0\"]\n</code></pre>"},{"location":"handson/#_6","title":"\u5b9f\u884c","text":"<pre><code>python run.py\n</code></pre>"},{"location":"handson/#_7","title":"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u64cd\u4f5c","text":"<p>Logicool F710\u306a\u3069\u3092\u5229\u7528</p> \u64cd\u4f5c \u30dc\u30bf\u30f3/\u30b9\u30c6\u30a3\u30c3\u30af \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0 \u5de6\u30b9\u30c6\u30a3\u30c3\u30af\uff08\u5de6\u53f3\uff09 \u30b9\u30ed\u30c3\u30c8\u30eb \u53f3\u30b9\u30c6\u30a3\u30c3\u30af\uff08\u4e0a\u4e0b\uff09 \u4e00\u5b9a\u901f\u5ea61\uff08\u76f4\u7dda\u7528\uff09 X\u30dc\u30bf\u30f3 \u4e00\u5b9a\u901f\u5ea62\uff08\u30ab\u30fc\u30d6\u7528\uff09 B\u30dc\u30bf\u30f3 \u30d6\u30ec\u30fc\u30ad A\u30dc\u30bf\u30f3 \u8a18\u9332\u958b\u59cb/\u505c\u6b62 Y\u30dc\u30bf\u30f3 \u30e2\u30fc\u30c9\u5207\u66ff S\u30dc\u30bf\u30f3"},{"location":"handson/#_8","title":"\u8a18\u9332\u624b\u9806","text":"<ol> <li>Y\u30dc\u30bf\u30f3 \u2192 \u8a18\u9332\u958b\u59cb</li> <li>\u30b3\u30fc\u30b9\u3092\u8d70\u884c\uff08\u6700\u4f4e3\u5468\u3001\u6ed1\u3089\u304b\u306b\u64cd\u4f5c\uff09</li> <li>Y\u30dc\u30bf\u30f3 \u2192 \u8a18\u9332\u505c\u6b62</li> </ol> <p>\u8a18\u9332\u306e\u30b3\u30c4</p> <ul> <li>\u6025\u306a\u30cf\u30f3\u30c9\u30eb\u64cd\u4f5c\u306f\u907f\u3051\u308b</li> <li>\u69d8\u3005\u306a\u5834\u6240\u3092\u8d70\u308b</li> <li>1000\u30d5\u30ec\u30fc\u30e0\u4ee5\u4e0a\u63a8\u5968</li> </ul> <p>\u8a73\u7d30</p> <p>\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u306b\u3064\u3044\u3066\u306f \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc \u3001\u30d1\u30e9\u30e1\u30fc\u30bf\u8a2d\u5b9a\u306b\u3064\u3044\u3066\u306f \u30d1\u30e9\u30e1\u30fc\u30bf\u8a2d\u5b9a \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"handson/#4-data_viewer","title":"4. \u30c7\u30fc\u30bf\u5206\u6790\uff08data_viewer\uff09","text":""},{"location":"handson/#_9","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff08\u521d\u56de\u306e\u307f\uff09","text":"<pre><code>git clone https://github.com/Romihi/data_viewer.git\ncd data_viewer\npip install -r requirements.txt\n</code></pre>"},{"location":"handson/#_10","title":"\u8d77\u52d5","text":"<pre><code>python app.py\n</code></pre> <p>\u30d6\u30e9\u30a6\u30b6\u3067 <code>http://localhost:5000</code> \u306b\u30a2\u30af\u30bb\u30b9</p>"},{"location":"handson/#_11","title":"\u4e3b\u306a\u6a5f\u80fd","text":"\u6a5f\u80fd \u8aac\u660e \u30bf\u30a4\u30e0\u30e9\u30a4\u30f3 \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u30fb\u30b9\u30ed\u30c3\u30c8\u30eb\u306e\u6642\u7cfb\u5217\u8868\u793a \u30d2\u30b9\u30c8\u30b0\u30e9\u30e0 \u30c7\u30fc\u30bf\u5206\u5e03\u306e\u78ba\u8a8d \u753b\u50cf\u78ba\u8a8d \u30b9\u30e9\u30a4\u30c0\u30fc\u3067\u4efb\u610f\u30d5\u30ec\u30fc\u30e0\u3092\u78ba\u8a8d \u524a\u9664\u7ba1\u7406 \u4e0d\u826f\u30c7\u30fc\u30bf\u306e\u7bc4\u56f2\u3092\u9664\u5916 \u5b66\u7fd2 \u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u5b66\u7fd2\u5b9f\u884c"},{"location":"handson/#_12","title":"\u78ba\u8a8d\u30dd\u30a4\u30f3\u30c8","text":"<ul> <li>\u30c7\u30fc\u30bf\u91cf\u306f\u5341\u5206\u304b\uff082000\u30d5\u30ec\u30fc\u30e0\u4ee5\u4e0a\uff09</li> <li>\u64cd\u4f5c\u304c\u6ed1\u3089\u304b\u304b\uff08\u30ae\u30b6\u30ae\u30b6\u3057\u3066\u3044\u306a\u3044\u304b\uff09</li> <li>\u5de6\u53f3\u306e\u30d0\u30e9\u30f3\u30b9\u306f\u53d6\u308c\u3066\u3044\u308b\u304b</li> </ul> <p>\u8a73\u7d30</p> <p>data_viewer\u306b\u3064\u3044\u3066\u306f \u95a2\u9023\u30d7\u30ed\u30b8\u30a7\u30af\u30c8 \u3001\u30c7\u30fc\u30bf\u5f62\u5f0f\u306b\u3064\u3044\u3066\u306f \u30c7\u30fc\u30bf\u30d5\u30a9\u30fc\u30de\u30c3\u30c8 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"handson/#5","title":"5. \u5b66\u7fd2","text":""},{"location":"handson/#configpy_2","title":"config.py \u8a2d\u5b9a","text":"<pre><code>PLAN = \"donkeycar\"  \nEPOCHS = 30\nBATCH_SIZE = 64\nMODEL_INPUT_IMAGE = \"cam1/image_array\"\n</code></pre>"},{"location":"handson/#_13","title":"\u30e2\u30c7\u30eb\u9078\u629e","text":"\u30e2\u30c7\u30eb \u7279\u5fb4 \u304a\u3059\u3059\u3081\u5ea6 nn \u30bb\u30f3\u30b5\u30fc\u5024\u306e\u307f\u3001\u9ad8\u901f \u2605\u2605\u2605\u2606\u2606 donkeycar \u8efd\u91cfCNN\u3001\u30d0\u30e9\u30f3\u30b9\u578b \u2605\u2605\u2605\u2605\u2605 resnet18 \u9ad8\u7cbe\u5ea6\u3001\u5b66\u7fd2\u6642\u9593\u9577\u3044 \u2605\u2605\u2605\u2605\u2606"},{"location":"handson/#data_viewer","title":"\u5b9f\u884c\uff08data_viewer\u3092\u4f7f\u7528\uff09","text":"<p>data_viewer\u306e\u5b66\u7fd2\u6a5f\u80fd\u3092\u4f7f\u7528\u3059\u308b\u304b\u3001\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\u5b9f\u884c\uff1a</p> <pre><code>python train_pytorch.py\n</code></pre>"},{"location":"handson/#_14","title":"\u5b66\u7fd2\u306e\u8a55\u4fa1","text":"<pre><code>\u826f\u3044\u4f8b: Train Loss: 0.008, Val Loss: 0.009\uff08\u4e21\u65b9\u4e0b\u304c\u308b\uff09\n\u60aa\u3044\u4f8b: Train Loss: 0.003, Val Loss: 0.040\uff08Val Loss\u304c\u4e0a\u304c\u308b\uff1d\u904e\u5b66\u7fd2\uff09\n</code></pre> <p>\u8a73\u7d30</p> <p>\u8a73\u3057\u304f\u306f \u6a5f\u68b0\u5b66\u7fd2 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"handson/#6","title":"6. \u81ea\u52d5\u8d70\u884c","text":""},{"location":"handson/#configpy_3","title":"config.py \u8a2d\u5b9a","text":"<pre><code>PLAN = \"donkeycar\"\nMODEL_NAME = \"donkeycar_YYYYMMDD_HHMMSS.pth\"  # \u5b66\u7fd2\u3067\u751f\u6210\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u540d\n</code></pre>"},{"location":"handson/#_15","title":"\u5b9f\u884c","text":"<pre><code>python run.py\n</code></pre>"},{"location":"handson/#s","title":"\u30e2\u30fc\u30c9\u5207\u66ff\uff08S\u30dc\u30bf\u30f3\uff09","text":"<pre><code>user\uff08\u624b\u52d5\uff09\u2192 auto_str\uff08\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u81ea\u52d5\uff09\u2192 auto\uff08\u5b8c\u5168\u81ea\u52d5\uff09\u2192 user \u2192 ...\n</code></pre> \u30e2\u30fc\u30c9 \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0 \u30b9\u30ed\u30c3\u30c8\u30eb user \u624b\u52d5 \u624b\u52d5 auto_str \u81ea\u52d5 \u624b\u52d5 auto \u81ea\u52d5 \u81ea\u52d5"},{"location":"handson/#_16","title":"\u52d5\u4f5c\u78ba\u8a8d\u624b\u9806","text":"<ol> <li>user\u30e2\u30fc\u30c9\u3067\u624b\u52d5\u8d70\u884c\u30c6\u30b9\u30c8</li> <li>\u30df\u30cb\u30ab\u30fc\u3092\u30b9\u30bf\u30fc\u30c8\u4f4d\u7f6e\u306b\u914d\u7f6e</li> <li>S\u30dc\u30bf\u30f3\u3067auto\u30e2\u30fc\u30c9\u306b\u5207\u66ff</li> <li>\u8d70\u884c\u958b\u59cb</li> <li>\u505c\u6b62\u306fA\u30dc\u30bf\u30f3\u307e\u305f\u306fS\u30dc\u30bf\u30f3\u3067user\u306b\u623b\u3059</li> </ol>"},{"location":"handson/#_17","title":"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0","text":"\u73fe\u8c61 \u5bfe\u7b56 \u52d5\u304b\u306a\u3044 MODEL_PATH\u3092\u78ba\u8a8d \u30cf\u30f3\u30c9\u30eb\u3092\u5207\u3089\u306a\u3044 \u30c7\u30fc\u30bf\u3092\u8ffd\u52a0\u3057\u3066\u518d\u5b66\u7fd2\u3001\u5b66\u7fd2\u306eepoch\u3092\u9032\u3081\u308b \u58c1\u306b\u3076\u3064\u304b\u308b\u30fb\u3075\u3089\u3075\u3089\u3059\u308b \u30c7\u30fc\u30bf\u30af\u30ec\u30f3\u30b8\u30f3\u30b0\u3092\u884c\u3044\u3001\u30c7\u30fc\u30bf\u306e\u7cbe\u5ea6\u3092\u9ad8\u3081\u3066\u518d\u5b66\u7fd2 <p>\u8a73\u7d30</p> <p>\u30d1\u30e9\u30e1\u30fc\u30bf\u8a2d\u5b9a\u306b\u3064\u3044\u3066\u306f \u30d1\u30e9\u30e1\u30fc\u30bf\u8a2d\u5b9a \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"handson/#7","title":"7. \u30bf\u30a4\u30e0\u30a2\u30bf\u30c3\u30af","text":"<p>\u30b7\u30f3\u30d7\u30eb\u30b3\u30fc\u30b9 \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002</p> <p>\u30b3\u30fc\u30b9\u306e\u8a73\u7d30\u3001\u30eb\u30fc\u30eb\u3001\u8a18\u9332\u30b7\u30fc\u30c8\u306f \u30b3\u30fc\u30b9 \u30da\u30fc\u30b8\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"handson/#_18","title":"\u30af\u30a4\u30c3\u30af\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9","text":""},{"location":"handson/#_19","title":"\u3088\u304f\u4f7f\u3046\u30b3\u30de\u30f3\u30c9","text":"<pre><code>python motor.py        # \u30e2\u30fc\u30bf\u30fc\u8abf\u6574\npython ultrasonic.py   # \u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u78ba\u8a8d\npython lidar.py        # LiDAR\u78ba\u8a8d\npython monitor.py      # \u7d71\u5408\u30e2\u30cb\u30bf\u30fc\npython run.py          # \u8d70\u884c\uff08\u624b\u52d5/\u81ea\u52d5\uff09\npython train_pytorch.py # \u5b66\u7fd2\n</code></pre>"},{"location":"handson/#_20","title":"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u30dc\u30bf\u30f3\u65e9\u898b\u8868","text":"\u30dc\u30bf\u30f3 \u6a5f\u80fd Y \u8a18\u9332\u958b\u59cb/\u505c\u6b62 S \u30e2\u30fc\u30c9\u5207\u66ff\uff08user\u2192auto_str\u2192auto\uff09 X \u4e00\u5b9a\u901f\u5ea61\uff08\u76f4\u7dda\u7528\uff09 B \u4e00\u5b9a\u901f\u5ea62\uff08\u30ab\u30fc\u30d6\u7528\uff09 A \u30d6\u30ec\u30fc\u30ad"},{"location":"handson/#_21","title":"\u6539\u5584\u30b5\u30a4\u30af\u30eb","text":"<pre><code>\u30c7\u30fc\u30bf\u53ce\u96c6 \u2192 \u5206\u6790 \u2192 \u30c7\u30fc\u30bf\u30af\u30ec\u30f3\u30b8\u30f3\u30b0 \u2192 \u5b66\u7fd2 \u2192 \u81ea\u52d5\u8d70\u884c \u2192 \u8a55\u4fa1 \u2192 \uff08\u7e70\u308a\u8fd4\u3057\uff09\n</code></pre> <p>\u305d\u308c\u3067\u306f\u3001\u3054\u81ea\u8eab\u306e\u30da\u30fc\u30b9\u3067\u958b\u767a\u3092\u958b\u59cb\u3057\u3066\u304f\u3060\u3055\u3044\uff01</p>"},{"location":"minicar-build/","title":"\u30df\u30cb\u30ab\u30fc\u88fd\u4f5c","text":"<p>\u5de5\u4e8b\u4e2d</p> <p>\u3053\u306e\u30da\u30fc\u30b8\u306f\u73fe\u5728\u4f5c\u6210\u4e2d\u3067\u3059\u3002</p> <p></p>"},{"location":"projects/","title":"\u81ea\u52d5\u904b\u8ee2\u30df\u30cb\u30ab\u30fc\u30d7\u30ed\u30b8\u30a7\u30af\u30c8","text":"<p>\u4e16\u754c\u3067\u6d3b\u7528\u3055\u308c\u3066\u3044\u308b\u4ee3\u8868\u7684\u306a\u81ea\u52d5\u904b\u8ee2\u30df\u30cb\u30ab\u30fc\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002</p>"},{"location":"projects/#_2","title":"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u6bd4\u8f03","text":"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8 \u958b\u767a\u5143 \u4e3b\u306a\u7279\u5fb4 \u5bfe\u5fdc\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2 Donkey Car \u30b3\u30df\u30e5\u30cb\u30c6\u30a3 \u6700\u3082\u666e\u53ca\u3001\u8c4a\u5bcc\u306a\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 Raspberry Pi, Jetson Nano JetRacer NVIDIA Jetson\u6700\u9069\u5316\u3001\u9ad8\u901f\u63a8\u8ad6 Jetson Nano/Orin RumiCar \u65e5\u672c\u30b3\u30df\u30e5\u30cb\u30c6\u30a3 \u65e5\u672c\u8a9e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3001\u6559\u80b2\u5411\u3051 Arduino, Raspberry Pi Roboracer F1TENTH\u6d3e\u751f \u672c\u683c\u7684\u306a\u30ec\u30fc\u30b9\u3001ROS2\u5bfe\u5fdc Jetson, \u9ad8\u6027\u80fdPC"},{"location":"projects/#donkey-car","title":"Donkey Car","text":"<p>\u6700\u3082\u5e83\u304f\u4f7f\u308f\u308c\u3066\u3044\u308b\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u306e\u81ea\u52d5\u904b\u8ee2\u30df\u30cb\u30ab\u30fc\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3067\u3059\u3002</p>"},{"location":"projects/#_3","title":"\u7279\u5fb4","text":"<ul> <li>\u8c4a\u5bcc\u306a\u30b3\u30df\u30e5\u30cb\u30c6\u30a3: \u4e16\u754c\u4e2d\u306e\u30e6\u30fc\u30b6\u30fc\u304c\u60c5\u5831\u3092\u5171\u6709</li> <li>\u30b7\u30f3\u30d7\u30eb\u306a\u69cb\u6210: Raspberry Pi + \u30ab\u30e1\u30e9 + RC\u30ab\u30fc\u3067\u69cb\u7bc9\u53ef\u80fd</li> <li>Keras/TensorFlow: \u6a5f\u68b0\u5b66\u7fd2\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u4f7f\u7528</li> <li>Web\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9: \u30d6\u30e9\u30a6\u30b6\u304b\u3089\u306e\u64cd\u4f5c\u30fb\u76e3\u8996</li> </ul>"},{"location":"projects/#_4","title":"\u6280\u8853\u4ed5\u69d8","text":"\u9805\u76ee \u4ed5\u69d8 \u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af Python, Keras/TensorFlow \u5165\u529b \u30ab\u30e1\u30e9\u753b\u50cf\uff08160\u00d7120\u307e\u305f\u306f224\u00d7224\uff09 \u51fa\u529b \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u3001\u30b9\u30ed\u30c3\u30c8\u30eb \u30e2\u30c7\u30eb Linear, Categorical, RNN \u306a\u3069 \u30c7\u30fc\u30bf\u5f62\u5f0f Tub\u5f62\u5f0f\uff08JSON + \u753b\u50cf\uff09"},{"location":"projects/#_5","title":"\u30ea\u30f3\u30af","text":"<ul> <li>\u516c\u5f0f\u30b5\u30a4\u30c8</li> <li>\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8</li> <li>GitHub</li> </ul>"},{"location":"projects/#jetracer","title":"JetRacer","text":"<p>NVIDIA Jetson\u306b\u6700\u9069\u5316\u3055\u308c\u305f\u81ea\u52d5\u904b\u8ee2\u30df\u30cb\u30ab\u30fc\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u3059\u3002 JetRacer\u306f\u682a\u5f0f\u4f1a\u793eFaBo\u306b\u3088\u308bFaBo JetRacer Docs\u3092\u53c2\u7167\u3057\u3001\u6700\u65b0\u306e\u5b9f\u88c5\u3084\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u53c2\u7167\u3059\u308b\u306e\u304c\u671b\u307e\u3057\u3044\u3002</p>"},{"location":"projects/#_6","title":"\u7279\u5fb4","text":"<ul> <li>NVIDIA\u6700\u9069\u5316: TensorRT\u3001CUDA \u306b\u3088\u308b\u9ad8\u901f\u63a8\u8ad6</li> <li>JetBot\u6d3e\u751f: NVIDIA JetBot\u306e\u6280\u8853\u3092\u30d9\u30fc\u30b9\u306b\u958b\u767a</li> <li>Jupyter Notebook: \u5bfe\u8a71\u7684\u306a\u958b\u767a\u74b0\u5883</li> <li>\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u51e6\u7406: GPU\u306b\u3088\u308b\u9ad8\u901f\u753b\u50cf\u51e6\u7406</li> </ul>"},{"location":"projects/#_7","title":"\u6280\u8853\u4ed5\u69d8","text":"\u9805\u76ee \u4ed5\u69d8 \u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af Python, PyTorch, TensorRT \u5bfe\u5fdc\u30c7\u30d0\u30a4\u30b9 Jetson Nano, Jetson Orin Nano \u5165\u529b CSI\u30ab\u30e1\u30e9\uff08224\u00d7224\uff09 \u63a8\u8ad6\u901f\u5ea6 30FPS\u4ee5\u4e0a\uff08TensorRT\u4f7f\u7528\u6642\uff09 \u7279\u5fb4 Road Following, Object Avoidance"},{"location":"projects/#_8","title":"\u30ea\u30f3\u30af","text":"<ul> <li>GitHub</li> <li>JetBot\uff08\u95a2\u9023\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\uff09</li> </ul>"},{"location":"projects/#rumicar","title":"RumiCar","text":"<p>\u65e5\u672c\u767a\u306e\u6559\u80b2\u5411\u3051\u81ea\u52d5\u904b\u8ee2\u30df\u30cb\u30ab\u30fc\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u3059\u3002</p>"},{"location":"projects/#_9","title":"\u7279\u5fb4","text":"<ul> <li>\u65e5\u672c\u8a9e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8: \u65e5\u672c\u8a9e\u3067\u306e\u60c5\u5831\u304c\u5145\u5b9f</li> <li>\u6559\u80b2\u5411\u3051\u8a2d\u8a08: \u5b66\u6821\u3084\u7814\u4fee\u3067\u306e\u5229\u7528\u3092\u60f3\u5b9a</li> <li>Arduino\u5bfe\u5fdc: \u5c0f\u578b\u30de\u30a4\u30b3\u30f3\u3067\u52d5\u4f5c\u53ef\u80fd</li> <li>ToF\u30bb\u30f3\u30b5\u30fc: \u8ddd\u96e2\u30bb\u30f3\u30b5\u30fc\u3092\u6d3b\u7528\u3057\u305f\u5236\u5fa1</li> </ul>"},{"location":"projects/#_10","title":"\u6280\u8853\u4ed5\u69d8","text":"\u9805\u76ee \u4ed5\u69d8 \u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af Arduino, MicroPython \u5bfe\u5fdc\u30c7\u30d0\u30a4\u30b9 Arduino, Raspberry Pi \u30bb\u30f3\u30b5\u30fc ToF\u30bb\u30f3\u30b5\u30fc\uff08VL53L0X\u7b49\uff09 \u5236\u5fa1\u65b9\u5f0f \u30eb\u30fc\u30eb\u30d9\u30fc\u30b9\u3001\u6a5f\u68b0\u5b66\u7fd2 \u7279\u5fb4 \u4f4e\u30b3\u30b9\u30c8\u3001\u6559\u80b2\u5411\u3051"},{"location":"projects/#_11","title":"\u30ea\u30f3\u30af","text":"<ul> <li>\u516c\u5f0f\u30b5\u30a4\u30c8</li> <li>GitHub</li> </ul>"},{"location":"projects/#roboracer-f1tenth","title":"Roboracer / F1TENTH","text":"<p>\u672c\u683c\u7684\u306a\u81ea\u52d5\u904b\u8ee2\u30ec\u30fc\u30b9\u3092\u76ee\u6307\u3059\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u3059\u3002</p>"},{"location":"projects/#_12","title":"\u7279\u5fb4","text":"<ul> <li>ROS2\u5bfe\u5fdc: \u30ed\u30dc\u30c3\u30c8\u958b\u767a\u306e\u6a19\u6e96\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af</li> <li>\u9ad8\u901f\u8d70\u884c: \u5b9f\u969b\u306e\u30ec\u30fc\u30b9\u3067\u6642\u901f30km\u4ee5\u4e0a</li> <li>LiDAR\u5fc5\u9808: 2D LiDAR\u306b\u3088\u308b\u74b0\u5883\u8a8d\u8b58</li> <li>\u56fd\u969b\u5927\u4f1a: \u4e16\u754c\u5404\u5730\u3067\u30ec\u30fc\u30b9\u30a4\u30d9\u30f3\u30c8\u958b\u50ac</li> </ul>"},{"location":"projects/#_13","title":"\u6280\u8853\u4ed5\u69d8","text":"\u9805\u76ee \u4ed5\u69d8 \u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af ROS2, Python/C++ \u5bfe\u5fdc\u30c7\u30d0\u30a4\u30b9 Jetson, \u9ad8\u6027\u80fdPC \u30bb\u30f3\u30b5\u30fc 2D LiDAR\uff08\u5fc5\u9808\uff09\u3001\u30ab\u30e1\u30e9\uff08\u30aa\u30d7\u30b7\u30e7\u30f3\uff09 \u8d70\u884c\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0 Pure Pursuit, Follow the Gap, MPC \u8eca\u4e21\u30b5\u30a4\u30ba 1/10\u30b9\u30b1\u30fc\u30eb"},{"location":"projects/#_14","title":"\u30ea\u30f3\u30af","text":"<ul> <li>F1TENTH\u516c\u5f0f</li> <li>F1TENTH GitHub</li> <li>Roboracer</li> </ul>"},{"location":"projects/#togikidrive","title":"togikidrive\u306e\u4f4d\u7f6e\u3065\u3051","text":"<p>togikidrive\u306f\u3001\u3053\u308c\u3089\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u826f\u3044\u70b9\u3092\u53d6\u308a\u5165\u308c\u3064\u3064\u3001\u65e5\u672c\u306e\u6559\u80b2\u73fe\u5834\u306b\u6700\u9069\u5316\u3057\u305f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u3059\u3002</p>"},{"location":"projects/#_15","title":"\u4ed6\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3068\u306e\u6bd4\u8f03","text":"\u9805\u76ee togikaidrive Donkey Car JetRacer RumiCar \u65e5\u672c\u8a9e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u25ce \u25b3 \u25b3 \u25ce \u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u96e3\u6613\u5ea6 \u4f4e \u4e2d \u4e2d \u4f4e \u6a5f\u68b0\u5b66\u7fd2 PyTorch Keras PyTorch \u9650\u5b9a\u7684 LiDAR\u5bfe\u5fdc \u25ce \u25b3 \u00d7 \u00d7 ROS\u5bfe\u5fdc \u00d7 \u00d7 \u00d7 \u00d7 \u6559\u80b2\u5411\u3051 \u25ce \u25cb \u25cb \u25ce"},{"location":"projects/#togikidrive_1","title":"togikidrive\u306e\u7279\u5fb4","text":"<ul> <li>Donkey Car\u4e92\u63db: \u30c7\u30fc\u30bf\u5f62\u5f0f\u304cDonkey Car\u3068\u4e92\u63db\u6027\u3042\u308a</li> <li>PyTorch\u63a1\u7528: \u6700\u65b0\u306e\u6a5f\u68b0\u5b66\u7fd2\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af</li> <li>LiDAR\u7d71\u5408: \u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u3068LiDAR\u306e\u4e21\u65b9\u306b\u5bfe\u5fdc</li> <li>\u65e5\u672c\u8a9e\u5b8c\u5168\u5bfe\u5fdc: \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3001\u30b3\u30e1\u30f3\u30c8\u3059\u3079\u3066\u65e5\u672c\u8a9e</li> </ul>"},{"location":"projects/#_16","title":"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u9078\u629e\u30ac\u30a4\u30c9","text":""},{"location":"projects/#_17","title":"\u76ee\u7684\u5225\u304a\u3059\u3059\u3081","text":"\u76ee\u7684 \u304a\u3059\u3059\u3081\u30d7\u30ed\u30b8\u30a7\u30af\u30c8 \u521d\u3081\u3066\u306e\u81ea\u52d5\u904b\u8ee2\u5b66\u7fd2 togikaidrive, RumiCar \u672c\u683c\u7684\u306a\u6a5f\u68b0\u5b66\u7fd2 Donkey Car, JetRacer \u9ad8\u901f\u30ec\u30fc\u30b9 F1TENTH, Roboracer NVIDIA Jetson\u6d3b\u7528 JetRacer, togikaidrive \u4f4e\u4e88\u7b97\u3067\u59cb\u3081\u308b RumiCar"},{"location":"projects/#_18","title":"\u30b9\u30c6\u30c3\u30d7\u30a2\u30c3\u30d7\u30d1\u30b9","text":"<pre><code>\u5165\u9580\n  \u2502\n  \u251c\u2500\u2192 togikaidrive / RumiCar\uff08\u65e5\u672c\u8a9e\u3067\u5b66\u7fd2\uff09\n  \u2502         \u2502\n  \u2502         \u25bc\n  \u251c\u2500\u2192 Donkey Car\uff08\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u53c2\u52a0\uff09\n  \u2502         \u2502\n  \u2502         \u25bc\n  \u2514\u2500\u2192 JetRacer\uff08GPU\u6d3b\u7528\uff09\n            \u2502\n            \u25bc\n      F1TENTH / Roboracer\uff08\u672c\u683c\u30ec\u30fc\u30b9\uff09\n</code></pre>"},{"location":"setup/","title":"\u74b0\u5883\u69cb\u7bc9","text":"<p>togikidrive\u306e\u74b0\u5883\u69cb\u7bc9\u624b\u9806\u3092\u89e3\u8aac\u3057\u307e\u3059\u3002</p>"},{"location":"setup/#_2","title":"\u5bfe\u5fdc\u30c7\u30d0\u30a4\u30b9","text":"\u30c7\u30d0\u30a4\u30b9 GPIO \u63a8\u5968\u7528\u9014 Raspberry Pi 4 RPi.GPIO \u5165\u9580\u30fb\u5b66\u7fd2 Raspberry Pi 5 gpiozero \u5165\u9580\u30fb\u5b66\u7fd2 Jetson Orin Nano Jetson.GPIO \u9ad8\u5ea6\u306a\u753b\u50cf\u8a8d\u8b58"},{"location":"setup/#_3","title":"\u57fa\u672c\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7","text":""},{"location":"setup/#1","title":"1. \u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30af\u30ed\u30fc\u30f3","text":"<pre><code>git clone https://github.com/autonomous-minicar-battle/togikaidrive-dev.git\ncd togikaidrive-dev\n</code></pre>"},{"location":"setup/#2","title":"2. \u4eee\u60f3\u74b0\u5883\u306e\u4f5c\u6210","text":"<pre><code>python3 -m venv --system-site-packages venv\nsource venv/bin/activate\n</code></pre>"},{"location":"setup/#3","title":"3. \u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<pre><code>pip install -r requirements.txt\n</code></pre>"},{"location":"setup/#raspberry-pi","title":"Raspberry Pi \u30bb\u30c3\u30c8\u30a2\u30c3\u30d7","text":""},{"location":"setup/#gpio","title":"GPIO\u6a29\u9650\u306e\u8a2d\u5b9a","text":"<pre><code>sudo usermod -aG gpio $USER\n# \u30ed\u30b0\u30a2\u30a6\u30c8/\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u53cd\u6620\n</code></pre>"},{"location":"setup/#i2c","title":"I2C\u6709\u52b9\u5316\uff08\u30d7\u30ed\u30dd\u4f7f\u7528\u6642\uff09","text":"<pre><code>sudo raspi-config\n# Interface Options \u2192 I2C \u2192 Enable\n</code></pre>"},{"location":"setup/#_4","title":"\u30ab\u30e1\u30e9\u6709\u52b9\u5316","text":"<pre><code>sudo raspi-config\n# Interface Options \u2192 Camera \u2192 Enable\n</code></pre>"},{"location":"setup/#jetson-orin-nano","title":"Jetson Orin Nano \u30bb\u30c3\u30c8\u30a2\u30c3\u30d7","text":""},{"location":"setup/#_5","title":"\u524d\u63d0\u6761\u4ef6","text":"<ul> <li>JetPack 6.1 \u307e\u305f\u306f 6.2 \u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f</li> <li>Python 3.10.12 \u304c\u30d7\u30ea\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f</li> </ul>"},{"location":"setup/#jetpack","title":"JetPack\u78ba\u8a8d","text":"<pre><code>cat /etc/nv_tegra_release\n</code></pre>"},{"location":"setup/#_6","title":"\u4eee\u60f3\u74b0\u5883\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7","text":"<pre><code># \u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo apt update\nsudo apt install -y python3.10-venv python3.10-dev\n\n# user home\u4e0b\u306b\u4f5c\u6210\ncd /home/jetson\n\n# \u4eee\u60f3\u74b0\u5883\u3092\u4f5c\u6210\uff08Python 3.10\u3092\u4f7f\u7528\u3001\u30b7\u30b9\u30c6\u30e0\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u53c2\u7167\uff09\npython3.10 -m venv --system-site-packages venv\n\n# \u4eee\u60f3\u74b0\u5883\u3092\u6709\u52b9\u5316\nsource venv/bin/activate\n\n# pip\u3092\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\npip install --upgrade pip\n</code></pre>"},{"location":"setup/#_7","title":"\u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<pre><code># \u57fa\u672c\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4e00\u62ec\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\npip install -r setup/requirements-jetson.txt\n</code></pre> <p>requirements-jetson.txt\u306e\u5185\u5bb9</p> <p>\u4ee5\u4e0b\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\uff1a</p> <ul> <li>Web Framework (Flask, tornado\u7b49)</li> <li>Jetson GPIO</li> <li>Hardware Control (Adafruit-PCA9685, smbus, pmw3901\u7b49)</li> <li>Data Processing (numpy, pandas, scipy, matplotlib\u7b49)</li> <li>Utilities (onnx, pygame, pillow\u7b49)</li> </ul> <p>PyTorch\u3001torchvision\u3001OpenCV\u306a\u3069\u7279\u5225\u306a\u5bfe\u5fdc\u304c\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u3001\u4ee5\u4e0b\u306e\u500b\u5225\u624b\u9806\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002</p>"},{"location":"setup/#gpio_1","title":"GPIO\u6a29\u9650\u306e\u8a2d\u5b9a","text":"<pre><code>sudo groupadd -f -r gpio\nsudo usermod -aG gpio $USER\nsudo cp /opt/nvidia/jetson-gpio/etc/99-gpio.rules /etc/udev/rules.d/\nsudo udevadm control --reload-rules &amp;&amp; sudo udevadm trigger\n# \u30ed\u30b0\u30a2\u30a6\u30c8/\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u53cd\u6620\n</code></pre> <p>JetPack 6.2 \u3067\u5229\u7528\u3059\u308b\u5834\u5408\u306f\u3001\u8ffd\u52a0\u306e\u8a2d\u5b9a\u304c\u5fc5\u8981\u306a\u5834\u5408\u304c\u3042\u308a\u307e\u3059\uff1a</p> <ul> <li>\u53c2\u8003: FaBo JetsonGPIO \u8a2d\u5b9a\u30ac\u30a4\u30c9</li> </ul>"},{"location":"setup/#i2c_1","title":"I2C\u6a29\u9650\u306e\u8a2d\u5b9a","text":"<pre><code>sudo usermod -aG i2c $USER\n# \u30ed\u30b0\u30a2\u30a6\u30c8/\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u53cd\u6620\n</code></pre>"},{"location":"setup/#pytorchnvidiawheel","title":"PyTorch\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff08NVIDIA\u516c\u5f0fWheel\uff09","text":"<pre><code># PyTorch 2.5.0 for Jetson\uff08JetPack 6.1/6.2\u5171\u901a\u3001Python 3.10\u7528\uff09\npip3 install --no-cache https://developer.download.nvidia.com/compute/redist/jp/v61/pytorch/torch-2.5.0a0+872d972e41.nv24.08.17622132-cp310-cp310-linux_aarch64.whl\n</code></pre> <p>Python \u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u6ce8\u610f</p> <p>NVIDIA \u306e PyTorch wheel \u306f Python 3.10 \u7528\u3067\u3059\u3002\u5fc5\u305a Python 3.10 \u306e\u4eee\u60f3\u74b0\u5883\u3092\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"setup/#libcusparselt","title":"libcusparseLt\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff08\u5fc5\u9808\uff09","text":"<p>PyTorch\u306e\u5b9f\u884c\u306b\u5fc5\u8981\u306aCUDA\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\uff1a</p> <pre><code># cuSPARSELt \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30fb\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nwget https://developer.download.nvidia.com/compute/cusparselt/0.6.3/local_installers/cusparselt-local-tegra-repo-ubuntu2204-0.6.3_1.0-1_arm64.deb\nsudo dpkg -i cusparselt-local-tegra-repo-ubuntu2204-0.6.3_1.0-1_arm64.deb\nsudo cp /var/cusparselt-local-tegra-repo-ubuntu2204-0.6.3/cusparselt-*-keyring.gpg /usr/share/keyrings/\nsudo apt-get update\nsudo apt-get -y install libcusparselt0 libcusparselt-dev\n</code></pre> <p>\u53c2\u8003: NVIDIA cuSPARSELt Downloads</p>"},{"location":"setup/#torchvision","title":"torchvision\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff08\u30bd\u30fc\u30b9\u304b\u3089\u30d3\u30eb\u30c9\uff09","text":"<pre><code># \u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo apt-get install -y libjpeg-dev zlib1g-dev libpython3-dev libopenblas-dev \\\n    libavcodec-dev libavformat-dev libswscale-dev\n\n# torchvision \u3092\u30af\u30ed\u30fc\u30f3\ngit clone --branch release/0.20 https://github.com/pytorch/vision torchvision\ncd torchvision\n\n# \u30d3\u30eb\u30c9\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nexport BUILD_VERSION=0.20.0\npython3 setup.py install\n\ncd ..\n</code></pre>"},{"location":"setup/#opencv","title":"OpenCV\u306e\u78ba\u8a8d","text":"<p>Jetson \u306b\u306f OpenCV \u304c\u30d7\u30ea\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u307e\u3059\uff1a</p> <pre><code>python3 -c \"import cv2; print(cv2.__version__)\"\n</code></pre>"},{"location":"setup/#_8","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u78ba\u8a8d","text":"<pre><code># Python \u3068\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\npython --version\npip list\n\n# PyTorch \u306e\u52d5\u4f5c\u78ba\u8a8d\npython -c \"import torch; print(f'PyTorch version: {torch.__version__}'); print(f'CUDA available: {torch.cuda.is_available()}')\"\n\n# GPIO \u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u78ba\u8a8d\npython -c \"import Jetson.GPIO; print('Jetson.GPIO OK')\"\n</code></pre>"},{"location":"setup/#_9","title":"\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u63a5\u7d9a","text":""},{"location":"setup/#hc-sr04","title":"\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\uff08HC-SR04\uff09","text":"\u30bb\u30f3\u30b5\u30fc\u30d4\u30f3 Raspberry Pi Jetson VCC 5V 5V GND GND GND TRIG GPIO\u6307\u5b9a GPIO\u6307\u5b9a ECHO GPIO\u6307\u5b9a GPIO\u6307\u5b9a <p>\u96fb\u5727\u306b\u6ce8\u610f</p> <p>HC-SR04\u306eECHO\u30d4\u30f3\u306f5V\u51fa\u529b\u3067\u3059\u3002Raspberry Pi/Jetson\u306eGPIO\u306f3.3V\u5165\u529b\u306e\u305f\u3081\u3001\u5206\u5727\u56de\u8def\u304c\u5fc5\u8981\u306a\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"setup/#escpca9685","title":"\u30b5\u30fc\u30dc/ESC\uff08PCA9685\u7d4c\u7531\uff09","text":"PCA9685 Raspberry Pi Jetson VCC 3.3V 3.3V GND GND GND SDA GPIO2 (SDA) Pin 3 (SDA) SCL GPIO3 (SCL) Pin 5 (SCL) V+ \u5916\u90e8\u96fb\u6e90 \u5916\u90e8\u96fb\u6e90"},{"location":"setup/#_10","title":"\u30ab\u30e1\u30e9","text":"<p>Raspberry Pi: - CSI\u30ab\u30e1\u30e9\u307e\u305f\u306fUSB\u30ab\u30e1\u30e9</p> <p>Jetson: - CSI\u30ab\u30e1\u30e9\uff08\u63a8\u5968\uff09\u307e\u305f\u306fUSB\u30ab\u30e1\u30e9</p>"},{"location":"setup/#ydlidar-tmini","title":"YDLIDAR TMINI \u30bb\u30c3\u30c8\u30a2\u30c3\u30d7","text":"<p>YDLIDAR TMINI\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u306e\u8a2d\u5b9a\u624b\u9806\u3067\u3059\u3002</p>"},{"location":"setup/#1-ydlidar-sdk","title":"1. YDLidar SDK\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<pre><code># SDK\u3092\u30af\u30ed\u30fc\u30f3\ncd ~\ngit clone https://github.com/YDLIDAR/YDLidar-SDK.git\ncd YDLidar-SDK\n\n# \u30d3\u30eb\u30c9\nmkdir build\ncd build\ncmake ..\nmake\nsudo make install\n\n# Python\u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\ncd ..\npip install .\n</code></pre>"},{"location":"setup/#2_1","title":"2. \u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\u306e\u8a2d\u5b9a","text":"<p>YDLIDAR TMINI\u306f\u30b7\u30ea\u30a2\u30eb\uff08UART\uff09\u63a5\u7d9a\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002</p> <p>Raspberry Pi:</p> <pre><code># Bluetooth\u3092\u7121\u52b9\u5316\u3057\u3066\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2UART\u3092\u958b\u653e\nsudo raspi-config\n# Interface Options \u2192 Serial Port\n# - login shell over serial: No\n# - serial port hardware: Yes\n\n# /boot/config.txt\u306b\u8ffd\u8a18\uff08RPi5\u306e\u5834\u5408\uff09\necho \"dtoverlay=disable-bt\" | sudo tee -a /boot/config.txt\n\n# \u518d\u8d77\u52d5\nsudo reboot\n</code></pre> <p>\u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\u306e\u6a29\u9650\u8a2d\u5b9a:</p> <pre><code># dialout\u30b0\u30eb\u30fc\u30d7\u306b\u8ffd\u52a0\nsudo usermod -aG dialout $USER\n# \u30ed\u30b0\u30a2\u30a6\u30c8/\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u53cd\u6620\n</code></pre>"},{"location":"setup/#3-udev","title":"3. udev\u30eb\u30fc\u30eb\u306e\u8a2d\u5b9a\uff08\u63a8\u5968\uff09","text":"<p>\u30c7\u30d0\u30a4\u30b9\u540d\u3092\u56fa\u5b9a\u3059\u308b\u305f\u3081\u306eudev\u30eb\u30fc\u30eb\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002</p> <pre><code># udev\u30eb\u30fc\u30eb\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\nsudo nano /etc/udev/rules.d/99-ydlidar.rules\n</code></pre> <p>\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u8ffd\u52a0: <pre><code>KERNEL==\"ttyAMA0\", MODE=\"0666\"\nKERNEL==\"ttyUSB*\", ATTRS{idVendor}==\"10c4\", ATTRS{idProduct}==\"ea60\", MODE=\"0666\", SYMLINK+=\"ydlidar\"\n</code></pre></p> <pre><code># \u30eb\u30fc\u30eb\u3092\u9069\u7528\nsudo udevadm control --reload-rules &amp;&amp; sudo udevadm trigger\n</code></pre>"},{"location":"setup/#4-configpy","title":"4. config.py\u306e\u8a2d\u5b9a","text":"<pre><code># LiDAR\u3092\u6709\u52b9\u5316\nHAVE_LIDAR = True\nLIDAR_TYPE = \"TMINI\"\n\n# \u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\u8a2d\u5b9a\nLIDAR_SERIAL_PORT = \"/dev/ttyAMA0\"  # RPi\u306e\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2UART\nLIDAR_SERIAL_BAUDRATE = 230400\n\n# \u30a2\u30af\u30c6\u30a3\u30d6\u30bb\u30f3\u30b5\u30fc\u306bLiDAR\u3092\u8ffd\u52a0\nACTIVE_SENSORS = [\"lidar\"]  # \u307e\u305f\u306f [\"ultrasonic\", \"lidar\"]\n</code></pre>"},{"location":"setup/#5","title":"5. \u63a5\u7d9a\u56f3","text":"YDLIDAR TMINI Raspberry Pi TX GPIO15 (RXD) RX GPIO14 (TXD) VCC 5V GND GND <p>\u96fb\u6e90\u306b\u6ce8\u610f</p> <p>YDLIDAR TMINI\u306f5V\u96fb\u6e90\u304c\u5fc5\u8981\u3067\u3059\u3002GPIO5V\u30d4\u30f3\u3001USB\u96fb\u6e90\u304b\u3089\u306e\u4f9b\u7d66\u3001\u307e\u305f\u306f\u5225\u96fb\u6e90\u3092\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"setup/#6","title":"6. \u52d5\u4f5c\u78ba\u8a8d","text":"<pre><code># \u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\u306e\u78ba\u8a8d\nls -la /dev/ttyAMA0\n\n# LiDAR\u5358\u4f53\u30c6\u30b9\u30c8\npython lidar.py\n</code></pre> <p>\u30d6\u30e9\u30a6\u30b6\u3067 <code>http://localhost:8080</code> \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u70b9\u7fa4\u30c7\u30fc\u30bf\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"setup/#_11","title":"\u52d5\u4f5c\u78ba\u8a8d","text":""},{"location":"setup/#1_1","title":"1. \u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc","text":"<pre><code>python ultrasonic.py\n</code></pre>"},{"location":"setup/#2_2","title":"2. \u30e2\u30fc\u30bf\u30fc","text":"<pre><code>python motor.py\n</code></pre>"},{"location":"setup/#3_1","title":"3. \u30ab\u30e1\u30e9","text":"<pre><code>python camera_test.py\n</code></pre>"},{"location":"setup/#4-lidarydlidar-tmini","title":"4. LiDAR\uff08YDLIDAR TMINI\u306e\u5834\u5408\uff09","text":"<pre><code>python lidar.py\n</code></pre> <p>\u30d6\u30e9\u30a6\u30b6\u3067 <code>http://localhost:8080</code> \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u78ba\u8a8d\u3002</p>"},{"location":"setup/#5_1","title":"5. \u7d71\u5408\u30c6\u30b9\u30c8","text":"<pre><code>python run.py\n</code></pre>"},{"location":"setup/#_12","title":"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0","text":""},{"location":"setup/#gpio_2","title":"GPIO\u30a2\u30af\u30bb\u30b9\u30a8\u30e9\u30fc","text":"<pre><code>RuntimeError: No access to /dev/mem\n</code></pre> <p>\u5bfe\u7b56: <pre><code>sudo usermod -aG gpio $USER\n# \u30ed\u30b0\u30a2\u30a6\u30c8/\u30ed\u30b0\u30a4\u30f3\n</code></pre></p>"},{"location":"setup/#i2c_2","title":"I2C\u30c7\u30d0\u30a4\u30b9\u304c\u898b\u3064\u304b\u3089\u306a\u3044","text":"<pre><code># \u30c7\u30d0\u30a4\u30b9\u78ba\u8a8d\nsudo i2cdetect -y 1  # Raspberry Pi\nsudo i2cdetect -y 7  # Jetson\n</code></pre>"},{"location":"setup/#_13","title":"\u30ab\u30e1\u30e9\u304c\u8a8d\u8b58\u3055\u308c\u306a\u3044","text":"<pre><code># Raspberry Pi\nvcgencmd get_camera\n\n# Jetson\nls /dev/video*\n</code></pre>"},{"location":"setup/#_14","title":"\u30e2\u30fc\u30bf\u30fc\u304c\u52d5\u304b\u306a\u3044","text":"<ol> <li>\u96fb\u6e90\u304c\u5165\u3063\u3066\u3044\u308b\u304b\u78ba\u8a8d</li> <li>PWM\u5024\u304c\u9069\u5207\u304b\u78ba\u8a8d\uff08motor.py\u3067\u8abf\u6574\uff09</li> <li>\u914d\u7dda\u3092\u78ba\u8a8d</li> </ol>"},{"location":"setup/#lidarydlidar-tmini","title":"LiDAR\u304c\u52d5\u4f5c\u3057\u306a\u3044\uff08YDLIDAR TMINI\uff09","text":"<p>\u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\u304c\u898b\u3064\u304b\u3089\u306a\u3044: <pre><code># \u30c7\u30d0\u30a4\u30b9\u78ba\u8a8d\nls -la /dev/ttyAMA0\nls -la /dev/ttyUSB*\n\n# \u6a29\u9650\u78ba\u8a8d\ngroups  # dialout\u30b0\u30eb\u30fc\u30d7\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u304b\u78ba\u8a8d\n</code></pre></p> <p>ydlidar\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u898b\u3064\u304b\u3089\u306a\u3044: <pre><code># SDK\u306e\u518d\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\ncd ~/YDLidar-SDK\npip install .\n</code></pre></p> <p>\u30c7\u30fc\u30bf\u304c\u53d6\u5f97\u3067\u304d\u306a\u3044: <pre><code># Bluetooth\u304c\u7121\u52b9\u5316\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\uff08RPi\u306e\u5834\u5408\uff09\nhciconfig  # \u4f55\u3082\u8868\u793a\u3055\u308c\u306a\u3051\u308c\u3070\u7121\u52b9\u5316\u6e08\u307f\n\n# \u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\u306e\u30dc\u30fc\u30ec\u30fc\u30c8\u78ba\u8a8d\n# config.py\u306eLIDAR_SERIAL_BAUDRATE\u304c230400\u306b\u306a\u3063\u3066\u3044\u308b\u304b\u78ba\u8a8d\n</code></pre></p>"},{"location":"setup/#oled","title":"OLED\u304c\u8868\u793a\u3055\u308c\u306a\u3044","text":"<p>I2C\u63a5\u7d9a\u3092\u78ba\u8a8d: <pre><code>sudo i2cdetect -y -r 7  # Jetson\nsudo i2cdetect -y 1     # Raspberry Pi\n</code></pre></p> <p>I2C\u30a2\u30c9\u30ec\u30b9\u304c\u7570\u306a\u308b\u5834\u5408:</p> <p><code>oled_ip_display.py</code> \u306e <code>addr=0x3C</code> \u3092\u5b9f\u969b\u306e\u30a2\u30c9\u30ec\u30b9\u306b\u5909\u66f4\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>\u30b5\u30fc\u30d3\u30b9\u30ed\u30b0\u3092\u78ba\u8a8d: <pre><code>sudo journalctl -u oled-ip-display.service -f\n</code></pre></p>"},{"location":"setup/#pytorchcudajetson","title":"PyTorch\u3067CUDA\u304c\u8a8d\u8b58\u3055\u308c\u306a\u3044\uff08Jetson\uff09","text":"<pre><code># libcusparseLt\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\ndpkg -l | grep cusparselt\n\n# \u672a\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u5834\u5408\u306f\u518d\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo apt-get install libcusparselt0 libcusparselt-dev\n</code></pre>"},{"location":"setup/#oled_1","title":"OLED\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\uff08\u30aa\u30d7\u30b7\u30e7\u30f3\uff09","text":"<p>\u8d77\u52d5\u6642\u306bIP\u30a2\u30c9\u30ec\u30b9\u3092\u8868\u793a\u3059\u308bOLED\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\uff08SSD1306\uff09\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u306e\u8a2d\u5b9a\u3067\u3059\u3002</p>"},{"location":"setup/#1-i2c","title":"1. I2C\u306e\u6709\u52b9\u5316","text":"<pre><code># I2C\u30c4\u30fc\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo apt install -y i2c-tools\n\n# I2C\u30c7\u30d0\u30a4\u30b9\u3092\u78ba\u8a8d\uff080x3C\u306b\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u304c\u8868\u793a\u3055\u308c\u308b\u306f\u305a\uff09\nsudo i2cdetect -y -r 7  # Jetson\nsudo i2cdetect -y 1     # Raspberry Pi\n</code></pre>"},{"location":"setup/#2_3","title":"2. \u30b9\u30af\u30ea\u30d7\u30c8\u306b\u5b9f\u884c\u6a29\u9650\u3092\u4ed8\u4e0e","text":"<p>OLED\u30e9\u30a4\u30d6\u30e9\u30ea</p> <p>OLED\u30e9\u30a4\u30d6\u30e9\u30ea\uff08adafruit-circuitpython-ssd1306\uff09\u306f\u3001requirements-jetson.txt\u304b\u3089\u65e2\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3067\u3059\u3002</p> <pre><code># \u5b9f\u884c\u6a29\u9650\u3092\u4ed8\u4e0e\nchmod +x setup/ip_address_display/oled_ip_display.sh\nchmod +x setup/ip_address_display/oled_ip_display.py\n</code></pre>"},{"location":"setup/#3-systemd","title":"3. systemd\u30b5\u30fc\u30d3\u30b9\u306e\u8a2d\u5b9a","text":"<pre><code># \u30b5\u30fc\u30d3\u30b9\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30d4\u30fc\nsudo cp setup/ip_address_display/oled-ip-display.service /etc/systemd/system/\n\n# systemd\u3092\u30ea\u30ed\u30fc\u30c9\nsudo systemctl daemon-reload\n\n# \u30b5\u30fc\u30d3\u30b9\u3092\u6709\u52b9\u5316\u3057\u3066\u8d77\u52d5\nsudo systemctl enable oled-ip-display.service\nsudo systemctl start oled-ip-display.service\n\n# \u30b9\u30c6\u30fc\u30bf\u30b9\u78ba\u8a8d\nsudo systemctl status oled-ip-display.service\n</code></pre>"},{"location":"setup/#4","title":"4. \u624b\u52d5\u3067\u306e\u30c6\u30b9\u30c8","text":"<pre><code># \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304b\u3089\u5b9f\u884c\n./setup/ip_address_display/oled_ip_display.sh\n\n# \u307e\u305f\u306fPython\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u76f4\u63a5\u5b9f\u884c\nsource venv/bin/activate\npython3 setup/ip_address_display/oled_ip_display.py\n</code></pre>"},{"location":"setup/#oled_2","title":"OLED\u63a5\u7d9a\u56f3","text":"OLED (SSD1306) Jetson / Raspberry Pi VCC 3.3V GND GND SDA Pin 3 (GPIO2/SDA) SCL Pin 5 (GPIO3/SCL)"},{"location":"setup/#ros2","title":"ROS2\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff08\u30aa\u30d7\u30b7\u30e7\u30f3\uff09","text":"<p>ROS2\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806\u3067\u3059\u3002</p>"},{"location":"setup/#1_2","title":"1. \u30bb\u30c3\u30c8\u30a2\u30c3\u30d7","text":"<pre><code># \u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo apt install software-properties-common\nsudo add-apt-repository universe\n\n# ROS\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u8ffd\u52a0\nsudo apt update &amp;&amp; sudo apt install curl -y\nsudo curl -sSL https://raw.githubusercontent.com/ros/rosdistro/master/ros.key -o /usr/share/keyrings/ros-archive-keyring.gpg\necho \"deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/ros-archive-keyring.gpg] http://packages.ros.org/ros2/ubuntu $(. /etc/os-release &amp;&amp; echo $UBUNTU_CODENAME) main\" | sudo tee /etc/apt/sources.list.d/ros2.list &gt; /dev/null\nsudo apt update &amp;&amp; sudo apt upgrade\n</code></pre>"},{"location":"setup/#2_4","title":"2. \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<pre><code># ROS2 Humble\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo apt install ros-humble-desktop ros-dev-tools\n</code></pre>"},{"location":"setup/#3_2","title":"3. \u74b0\u5883\u5909\u6570\u8a2d\u5b9a","text":"<pre><code># bashrc\u306b\u8ffd\u52a0\u3057\u3066\u81ea\u52d5\u3067\u8aad\u307f\u8fbc\u307e\u308c\u308b\u3088\u3046\u306b\u3059\u308b\necho \"source /opt/ros/humble/setup.bash\" &gt;&gt; ~/.bashrc\nsource ~/.bashrc\n</code></pre>"},{"location":"setup/#4_1","title":"4. \u52d5\u4f5c\u30c6\u30b9\u30c8","text":"<p>\u5225\u3005\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u3067\u4ee5\u4e0b\u3092\u5b9f\u884c\u3057\u3066\u3001\u901a\u4fe1\u3092\u78ba\u8a8d\u3057\u307e\u3059\uff1a</p> <p>\u30bf\u30fc\u30df\u30ca\u30eb1: Talker\u3092\u5b9f\u884c <pre><code>ros2 run demo_nodes_cpp talker\n</code></pre></p> <p>\u30bf\u30fc\u30df\u30ca\u30eb2: Listener\u3092\u5b9f\u884c <pre><code>ros2 run demo_nodes_py listener\n</code></pre></p> <p>Listener\u304c\u300cI heard: [Hello World: X]\u300d\u306e\u3088\u3046\u306a\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u4fe1\u3067\u304d\u308c\u3070\u6210\u529f\u3067\u3059\u3002</p>"},{"location":"setup/#_15","title":"\u53c2\u8003\u30ea\u30f3\u30af","text":"<ul> <li>PyTorch for Jetson</li> <li>JetPack SDK</li> <li>Jetson.GPIO</li> <li>Adafruit SSD1306 Library</li> <li>ROS2 Documentation</li> <li>YDLidar SDK</li> </ul>"},{"location":"advanced/follow-the-gap/","title":"Follow the Gap\uff08FTG\uff09\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0","text":"<p>LiDAR\u306e\u70b9\u7fa4\u30c7\u30fc\u30bf\u3092\u4f7f\u3063\u3066\u969c\u5bb3\u7269\u3092\u56de\u907f\u3057\u306a\u304c\u3089\u8d70\u884c\u3059\u308b\u300cFollow the Gap\u300d\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3092\u5b66\u3073\u307e\u3059\u3002</p>"},{"location":"advanced/follow-the-gap/#_1","title":"\u6982\u8981","text":"<p>Follow the Gap\uff08FTG\uff09\u306f\u3001LiDAR\u3067\u691c\u51fa\u3057\u305f\u70b9\u7fa4\u304b\u3089\u6700\u3082\u5e83\u3044\u7a7a\u9593\uff08Gap\uff09\u3092\u898b\u3064\u3051\u3001\u305d\u3053\u306b\u5411\u304b\u3063\u3066\u8d70\u884c\u3059\u308b\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3067\u3059\u3002</p> <pre><code>graph LR\n    A[LiDAR\u70b9\u7fa4] --&gt; B[Find the Gap]\n    B --&gt; C[\u76ee\u6a19\u70b9\u6c7a\u5b9a]\n    C --&gt; D[Pure Pursuit]\n    D --&gt; E[\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u51fa\u529b]</code></pre> \u30b9\u30c6\u30c3\u30d7 \u51e6\u7406\u5185\u5bb9 Find the Gap \u70b9\u7fa4\u304b\u3089Gap\uff08\u7a7a\u9593\uff09\u3092\u691c\u51fa \u76ee\u6a19\u70b9\u6c7a\u5b9a Gap\u306e\u4e2d\u5fc3\u307e\u305f\u306f\u6700\u6df1\u70b9\u3092\u9078\u629e Pure Pursuit \u76ee\u6a19\u70b9\u306b\u5411\u304b\u3046\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u3092\u8a08\u7b97"},{"location":"advanced/follow-the-gap/#step-1-find-the-gap","title":"Step 1: Find the Gap","text":""},{"location":"advanced/follow-the-gap/#_2","title":"\u57fa\u672c\u7684\u306a\u8003\u3048\u65b9","text":"<p>LiDAR\u306e\u70b9\u7fa4\u30c7\u30fc\u30bf\u304b\u3089\u3001\u969c\u5bb3\u7269\u306e\u306a\u3044\u7a7a\u9593\uff08Gap\uff09\u3092\u898b\u3064\u3051\u307e\u3059\u3002</p> <pre><code>        LiDAR\u70b9\u7fa4\u306e\u4f8b\uff08\u4e0a\u304b\u3089\u898b\u305f\u56f3\uff09\n\n              \u969c\u5bb3\u7269A    Gap!    \u969c\u5bb3\u7269B\n                \u25cf\u25cf\u25cf              \u25cf\u25cf\u25cf\n               \u25cf   \u25cf            \u25cf   \u25cf\n              \u25cf     \u25cf          \u25cf     \u25cf\n\n                     \u2191\n                   \u8eca\u4e21\n</code></pre>"},{"location":"advanced/follow-the-gap/#_3","title":"\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306e\u6d41\u308c","text":"<pre><code>1. LiDAR\u30c7\u30fc\u30bf\u3092\u89d2\u5ea6\u9806\u306b\u30bd\u30fc\u30c8\n2. \u5404\u70b9\u9593\u306e\u8ddd\u96e2\u5dee\u3092\u8a08\u7b97\n3. \u8ddd\u96e2\u5dee\u304c\u5927\u304d\u3044\u7b87\u6240 = Gap\n4. \u6700\u3082\u5e83\u3044Gap\u3092\u9078\u629e\n</code></pre>"},{"location":"advanced/follow-the-gap/#_4","title":"\u5b9f\u88c5\u4f8b","text":"<pre><code>import numpy as np\n\ndef find_the_gap(ranges, angles, threshold=0.5):\n    \"\"\"\n    LiDAR\u70b9\u7fa4\u304b\u3089Gap\u3092\u691c\u51fa\u3059\u308b\n\n    Args:\n        ranges: \u5404\u89d2\u5ea6\u306e\u8ddd\u96e2\u30c7\u30fc\u30bf (mm)\n        angles: \u5404\u70b9\u306e\u89d2\u5ea6 (rad)\n        threshold: Gap\u5224\u5b9a\u306e\u8ddd\u96e2\u95be\u5024 (m)\n\n    Returns:\n        gap_start: Gap\u306e\u958b\u59cb\u89d2\u5ea6\n        gap_end: Gap\u306e\u7d42\u4e86\u89d2\u5ea6\n        gap_center: Gap\u306e\u4e2d\u5fc3\u89d2\u5ea6\n    \"\"\"\n    # \u8ddd\u96e2\u3092\u30e1\u30fc\u30c8\u30eb\u306b\u5909\u63db\n    ranges_m = np.array(ranges) / 1000.0\n\n    # \u7121\u52b9\u306a\u5024\u3092\u6700\u5927\u8ddd\u96e2\u306b\u7f6e\u63db\n    max_range = 10.0\n    ranges_m = np.where(ranges_m &lt;= 0, max_range, ranges_m)\n\n    # \u9023\u7d9a\u3059\u308b\u70b9\u9593\u306e\u8ddd\u96e2\u5dee\u3092\u8a08\u7b97\n    gaps = []\n    for i in range(len(ranges_m) - 1):\n        diff = abs(ranges_m[i+1] - ranges_m[i])\n        if diff &gt; threshold:\n            gaps.append({\n                'start_idx': i,\n                'end_idx': i + 1,\n                'start_angle': angles[i],\n                'end_angle': angles[i + 1],\n                'width': abs(angles[i + 1] - angles[i])\n            })\n\n    # \u6700\u3082\u5e83\u3044Gap\u3092\u9078\u629e\n    if gaps:\n        best_gap = max(gaps, key=lambda g: g['width'])\n        gap_center = (best_gap['start_angle'] + best_gap['end_angle']) / 2\n        return best_gap['start_angle'], best_gap['end_angle'], gap_center\n\n    # Gap\u304c\u898b\u3064\u304b\u3089\u306a\u3044\u5834\u5408\u306f\u6b63\u9762\u3092\u8fd4\u3059\n    return -0.1, 0.1, 0.0\n</code></pre>"},{"location":"advanced/follow-the-gap/#disparity-extender","title":"Disparity Extender\uff08\u767a\u5c55\uff09","text":"<p>\u5358\u7d14\u306aGap\u691c\u51fa\u3067\u306f\u3001\u969c\u5bb3\u7269\u306e\u7aef\u304e\u308a\u304e\u308a\u3092\u901a\u308d\u3046\u3068\u3057\u3066\u885d\u7a81\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002 Disparity Extender\u306f\u3001\u969c\u5bb3\u7269\u306e\u300c\u5f71\u300d\u3092\u62e1\u5f35\u3057\u3066\u5b89\u5168\u30de\u30fc\u30b8\u30f3\u3092\u78ba\u4fdd\u3057\u307e\u3059\u3002</p> <pre><code>Before (\u5358\u7d14\u306aGap\u691c\u51fa):\n    \u25cf\u25cf\u25cf       \u25cf\u25cf\u25cf\n       \u2191Gap\u2191        \u2190 \u72ed\u3044Gap\u3092\u901a\u308d\u3046\u3068\u3059\u308b\n\nAfter (Disparity Extender\u9069\u7528):\n    \u25cf\u25cf\u25cf\u25cf\u25cf   \u25cf\u25cf\u25cf\u25cf\u25cf\n         \u2191Gap\u2191      \u2190 \u5b89\u5168\u306aGap\u306e\u307f\u9078\u629e\n</code></pre> <pre><code>def disparity_extender(ranges, angles, car_width=0.3):\n    \"\"\"\n    \u969c\u5bb3\u7269\u306e\u5f71\u3092\u8eca\u5e45\u5206\u62e1\u5f35\u3059\u308b\n\n    Args:\n        ranges: \u8ddd\u96e2\u30c7\u30fc\u30bf (m)\n        angles: \u89d2\u5ea6\u30c7\u30fc\u30bf (rad)\n        car_width: \u8eca\u5e45 (m)\n    \"\"\"\n    extended_ranges = ranges.copy()\n\n    for i in range(len(ranges) - 1):\n        # \u8ddd\u96e2\u306e\u6025\u6fc0\u306a\u5909\u5316\u3092\u691c\u51fa\n        if abs(ranges[i+1] - ranges[i]) &gt; 0.5:\n            # \u8fd1\u3044\u65b9\u306e\u70b9\u3092\u57fa\u6e96\u306b\u3001\u8eca\u5e45\u5206\u306e\u89d2\u5ea6\u3092\u8a08\u7b97\n            closer_dist = min(ranges[i], ranges[i+1])\n            extend_angle = np.arctan2(car_width / 2, closer_dist)\n\n            # \u8a72\u5f53\u3059\u308b\u89d2\u5ea6\u7bc4\u56f2\u306e\u8ddd\u96e2\u3092\u300c\u58c1\u300d\u3068\u3057\u3066\u8a2d\u5b9a\n            extend_points = int(extend_angle / (angles[1] - angles[0]))\n            for j in range(max(0, i - extend_points),\n                          min(len(ranges), i + extend_points + 1)):\n                extended_ranges[j] = min(extended_ranges[j], closer_dist)\n\n    return extended_ranges\n</code></pre>"},{"location":"advanced/follow-the-gap/#step-2-pure-pursuit","title":"Step 2: Pure Pursuit","text":""},{"location":"advanced/follow-the-gap/#_5","title":"\u57fa\u672c\u7684\u306a\u8003\u3048\u65b9","text":"<p>Pure Pursuit\u306f\u3001\u8eca\u4e21\u524d\u65b9\u306e\u76ee\u6a19\u70b9\uff08Look-ahead point\uff09\u306b\u5411\u304b\u3063\u3066\u6ed1\u3089\u304b\u306b\u66f2\u304c\u308b\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3067\u3059\u3002</p> <pre><code>                    \u25cb \u76ee\u6a19\u70b9\uff08Look-ahead point\uff09\n                   /\n                  /  Look-ahead\u8ddd\u96e2 (Ld)\n                 /\n                /\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510/\n    \u2502  \u8eca\u4e21   \u2502\u2500\u2500\u2500\u2500\u2500\u2192 \u9032\u884c\u65b9\u5411\n    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"advanced/follow-the-gap/#_6","title":"\u5e7e\u4f55\u5b66\u7684\u95a2\u4fc2","text":"<p>\u76ee\u6a19\u70b9\u3078\u306e\u89d2\u5ea6\u3068\u65cb\u56de\u534a\u5f84\u306e\u95a2\u4fc2\u306f\u3001\u30a2\u30c3\u30ab\u30fc\u30de\u30f3\u30fb\u30b8\u30aa\u30e1\u30c8\u30ea\u304b\u3089\u5c0e\u51fa\u3055\u308c\u307e\u3059\u3002</p> <pre><code>              \u76ee\u6a19\u70b9\n                \u25cb\n               /|\n              / |\n             /  | y\n            /   |\n           / \u03b1  |\n    \u8eca\u4e21 \u25cf\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n              x\n\n    \u03b1: \u76ee\u6a19\u70b9\u3078\u306e\u89d2\u5ea6\n    Ld: Look-ahead\u8ddd\u96e2 = \u221a(x\u00b2 + y\u00b2)\n</code></pre> <p>\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u89d2\u306e\u8a08\u7b97\u5f0f:</p> <pre><code>\u03b4 = arctan(2 \u00d7 L \u00d7 sin(\u03b1) / Ld)\n\n\u03b4: \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u89d2\nL: \u30db\u30a4\u30fc\u30eb\u30d9\u30fc\u30b9\n\u03b1: \u76ee\u6a19\u70b9\u3078\u306e\u89d2\u5ea6\nLd: Look-ahead\u8ddd\u96e2\n</code></pre>"},{"location":"advanced/follow-the-gap/#_7","title":"\u5b9f\u88c5\u4f8b","text":"<pre><code>import math\n\ndef pure_pursuit(target_x, target_y, wheelbase=0.15, max_steering=0.5):\n    \"\"\"\n    Pure Pursuit\u3067\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u89d2\u3092\u8a08\u7b97\n\n    Args:\n        target_x: \u76ee\u6a19\u70b9\u306eX\u5ea7\u6a19\uff08\u524d\u65b9\u5411\u3001m\uff09\n        target_y: \u76ee\u6a19\u70b9\u306eY\u5ea7\u6a19\uff08\u5de6\u65b9\u5411\u304c\u6b63\u3001m\uff09\n        wheelbase: \u30db\u30a4\u30fc\u30eb\u30d9\u30fc\u30b9 (m)\n        max_steering: \u6700\u5927\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u5024\n\n    Returns:\n        steering: \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u5024 (-1.0 ~ 1.0)\n    \"\"\"\n    # Look-ahead\u8ddd\u96e2\n    ld = math.sqrt(target_x**2 + target_y**2)\n\n    if ld &lt; 0.01:  # \u76ee\u6a19\u70b9\u304c\u8fd1\u3059\u304e\u308b\u5834\u5408\n        return 0.0\n\n    # \u76ee\u6a19\u70b9\u3078\u306e\u89d2\u5ea6\n    alpha = math.atan2(target_y, target_x)\n\n    # \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u89d2\u3092\u8a08\u7b97\n    steering_angle = math.atan2(2 * wheelbase * math.sin(alpha), ld)\n\n    # -1.0 ~ 1.0 \u306b\u6b63\u898f\u5316\n    steering = steering_angle / (math.pi / 4)  # \u00b145\u5ea6\u3092\u00b11.0\u306b\n    steering = max(-max_steering, min(max_steering, steering))\n\n    return steering\n</code></pre>"},{"location":"advanced/follow-the-gap/#look-ahead","title":"Look-ahead\u8ddd\u96e2\u306e\u8abf\u6574","text":"Look-ahead\u8ddd\u96e2 \u7279\u5fb4 \u77ed\u3044 \u53cd\u5fdc\u304c\u901f\u3044\u304c\u3001\u3075\u3089\u3064\u304d\u3084\u3059\u3044 \u9577\u3044 \u6ed1\u3089\u304b\u3060\u304c\u3001\u969c\u5bb3\u7269\u3078\u306e\u53cd\u5fdc\u304c\u9045\u3044 <p>\u901f\u5ea6\u306b\u5fdc\u3058\u305f\u8abf\u6574</p> <p>\u4e00\u822c\u7684\u306b\u3001\u901f\u5ea6\u304c\u9ad8\u3044\u307b\u3069Look-ahead\u8ddd\u96e2\u3092\u9577\u304f\u3057\u307e\u3059\u3002 <pre><code>Ld = Ld_min + k * velocity\n</code></pre></p>"},{"location":"advanced/follow-the-gap/#step-3-follow-the-gap","title":"Step 3: Follow the Gap \u7d71\u5408","text":"<p>Find the Gap\u3068Pure Pursuit\u3092\u7d44\u307f\u5408\u308f\u305b\u305f\u5b8c\u5168\u306a\u5b9f\u88c5\u3067\u3059\u3002</p> <pre><code>import numpy as np\nimport math\n\nclass FollowTheGap:\n    def __init__(self, wheelbase=0.15, car_width=0.2):\n        self.wheelbase = wheelbase\n        self.car_width = car_width\n        self.look_ahead = 0.5  # Look-ahead\u8ddd\u96e2 (m)\n\n    def process(self, ranges, angles):\n        \"\"\"\n        LiDAR\u30c7\u30fc\u30bf\u304b\u3089\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u3092\u8a08\u7b97\n\n        Args:\n            ranges: \u8ddd\u96e2\u30c7\u30fc\u30bf (mm)\n            angles: \u89d2\u5ea6\u30c7\u30fc\u30bf (rad)\n\n        Returns:\n            steering: \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u5024 (-1.0 ~ 1.0)\n            throttle: \u30b9\u30ed\u30c3\u30c8\u30eb\u5024 (0.0 ~ 1.0)\n        \"\"\"\n        # Step 1: \u8ddd\u96e2\u30c7\u30fc\u30bf\u3092\u30e1\u30fc\u30c8\u30eb\u306b\u5909\u63db\n        ranges_m = np.array(ranges) / 1000.0\n\n        # Step 2: Disparity Extender\u3067\u5b89\u5168\u30de\u30fc\u30b8\u30f3\u78ba\u4fdd\n        safe_ranges = self._disparity_extender(ranges_m, angles)\n\n        # Step 3: Find the Gap\n        gap_start, gap_end, gap_center = self._find_gap(safe_ranges, angles)\n\n        # Step 4: \u76ee\u6a19\u70b9\u3092\u8a08\u7b97\n        target_x = self.look_ahead * math.cos(gap_center)\n        target_y = self.look_ahead * math.sin(gap_center)\n\n        # Step 5: Pure Pursuit\u3067\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u8a08\u7b97\n        steering = self._pure_pursuit(target_x, target_y)\n\n        # Step 6: \u524d\u65b9\u969c\u5bb3\u7269\u306b\u5fdc\u3058\u3066\u30b9\u30ed\u30c3\u30c8\u30eb\u8abf\u6574\n        front_dist = self._get_front_distance(ranges_m, angles)\n        throttle = self._calculate_throttle(front_dist)\n\n        return steering, throttle\n\n    def _disparity_extender(self, ranges, angles):\n        \"\"\"\u969c\u5bb3\u7269\u306e\u5f71\u3092\u62e1\u5f35\"\"\"\n        extended = ranges.copy()\n        angle_step = angles[1] - angles[0] if len(angles) &gt; 1 else 0.01\n\n        for i in range(len(ranges) - 1):\n            if abs(ranges[i+1] - ranges[i]) &gt; 0.3:\n                closer = min(ranges[i], ranges[i+1])\n                extend_angle = math.atan2(self.car_width, closer)\n                extend_n = int(extend_angle / angle_step)\n\n                for j in range(max(0, i - extend_n),\n                              min(len(ranges), i + extend_n + 1)):\n                    extended[j] = min(extended[j], closer)\n\n        return extended\n\n    def _find_gap(self, ranges, angles):\n        \"\"\"\u6700\u5927\u306eGap\u3092\u691c\u51fa\"\"\"\n        # \u524d\u65b9180\u5ea6\u306e\u307f\u3092\u5bfe\u8c61\n        front_mask = (angles &gt; -math.pi/2) &amp; (angles &lt; math.pi/2)\n        front_ranges = ranges[front_mask]\n        front_angles = angles[front_mask]\n\n        if len(front_ranges) == 0:\n            return -0.1, 0.1, 0.0\n\n        # \u6700\u3082\u9060\u3044\u70b9\u306e\u5468\u8fba\u3092Gap\u3068\u3059\u308b\uff08\u30b7\u30f3\u30d7\u30eb\u306a\u65b9\u6cd5\uff09\n        max_idx = np.argmax(front_ranges)\n\n        # Gap\u306e\u7bc4\u56f2\u3092\u63a2\u7d22\n        threshold = front_ranges[max_idx] * 0.7\n        gap_indices = np.where(front_ranges &gt; threshold)[0]\n\n        if len(gap_indices) &gt; 0:\n            gap_start = front_angles[gap_indices[0]]\n            gap_end = front_angles[gap_indices[-1]]\n            gap_center = front_angles[max_idx]\n            return gap_start, gap_end, gap_center\n\n        return -0.1, 0.1, 0.0\n\n    def _pure_pursuit(self, target_x, target_y):\n        \"\"\"Pure Pursuit\u3067\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u8a08\u7b97\"\"\"\n        ld = math.sqrt(target_x**2 + target_y**2)\n        if ld &lt; 0.01:\n            return 0.0\n\n        alpha = math.atan2(target_y, target_x)\n        steering_angle = math.atan2(2 * self.wheelbase * math.sin(alpha), ld)\n\n        # \u6b63\u898f\u5316 (-1.0 ~ 1.0)\n        steering = steering_angle / (math.pi / 4)\n        return max(-1.0, min(1.0, steering))\n\n    def _get_front_distance(self, ranges, angles):\n        \"\"\"\u524d\u65b9\u306e\u6700\u5c0f\u8ddd\u96e2\u3092\u53d6\u5f97\"\"\"\n        front_mask = (angles &gt; -0.2) &amp; (angles &lt; 0.2)\n        front_ranges = ranges[front_mask]\n        return np.min(front_ranges) if len(front_ranges) &gt; 0 else 10.0\n\n    def _calculate_throttle(self, front_dist):\n        \"\"\"\u524d\u65b9\u8ddd\u96e2\u306b\u5fdc\u3058\u3066\u30b9\u30ed\u30c3\u30c8\u30eb\u8abf\u6574\"\"\"\n        if front_dist &lt; 0.3:\n            return 0.0\n        elif front_dist &lt; 0.5:\n            return 0.2\n        elif front_dist &lt; 1.0:\n            return 0.3\n        else:\n            return 0.4\n</code></pre>"},{"location":"advanced/follow-the-gap/#_8","title":"\u4f7f\u7528\u65b9\u6cd5","text":""},{"location":"advanced/follow-the-gap/#configpy","title":"config.py\u306e\u8a2d\u5b9a","text":"<pre><code># \u5224\u65ad\u30e2\u30fc\u30c9\u3092FTG\u306b\u8a2d\u5b9a\nPLAN = \"ftg\"\n\n# LiDAR\u3092\u6709\u52b9\u5316\nHAVE_LIDAR = True\nACTIVE_SENSORS = [\"lidar\", \"camera_0\"]\n\n# FTG\u30d1\u30e9\u30e1\u30fc\u30bf\nFTG_LOOK_AHEAD = 0.5      # Look-ahead\u8ddd\u96e2 (m)\nFTG_CAR_WIDTH = 0.2       # \u8eca\u5e45 (m)\nFTG_MAX_SPEED = 0.4       # \u6700\u5927\u901f\u5ea6\n</code></pre>"},{"location":"advanced/follow-the-gap/#plannerpy","title":"planner.py\u3078\u306e\u7d44\u307f\u8fbc\u307f","text":"<pre><code>from follow_the_gap import FollowTheGap\n\nclass Planner:\n    def __init__(self):\n        self.ftg = FollowTheGap(\n            wheelbase=config.WHEELBASE,\n            car_width=config.FTG_CAR_WIDTH\n        )\n\n    def plan(self, sensor_data):\n        if config.PLAN == \"ftg\":\n            ranges = sensor_data.get('lidar_ranges', [])\n            angles = sensor_data.get('lidar_angles', [])\n            return self.ftg.process(ranges, angles)\n        # ... \u4ed6\u306e\u30d7\u30e9\u30f3\u30ca\u30fc\n</code></pre>"},{"location":"advanced/follow-the-gap/#_9","title":"\u30d1\u30e9\u30e1\u30fc\u30bf\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0","text":"\u30d1\u30e9\u30e1\u30fc\u30bf \u63a8\u5968\u5024 \u52b9\u679c <code>look_ahead</code> 0.3\u301c0.8m \u5927\u304d\u3044\u307b\u3069\u6ed1\u3089\u304b\u3001\u5c0f\u3055\u3044\u307b\u3069\u53cd\u5fdc\u304c\u901f\u3044 <code>car_width</code> \u5b9f\u8eca\u5e45\u00d71.2 \u5b89\u5168\u30de\u30fc\u30b8\u30f3 <code>disparity_threshold</code> 0.3\u301c0.5m \u5927\u304d\u3044\u307b\u3069\u4fdd\u5b88\u7684 <code>max_steering</code> 0.5\u301c0.8 \u6025\u30ab\u30fc\u30d6\u5bfe\u5fdc"},{"location":"advanced/follow-the-gap/#_10","title":"\u53ef\u8996\u5316\u30fb\u30c7\u30d0\u30c3\u30b0","text":"<pre><code>import cv2\nimport numpy as np\n\ndef visualize_ftg(ranges, angles, gap_center, steering):\n    \"\"\"FTG\u306e\u72b6\u614b\u3092\u53ef\u8996\u5316\"\"\"\n    img = np.zeros((400, 400, 3), dtype=np.uint8)\n    center = (200, 350)\n    scale = 100  # 1m = 100px\n\n    # \u70b9\u7fa4\u3092\u63cf\u753b\n    for r, a in zip(ranges, angles):\n        if r &gt; 0 and r &lt; 3:\n            x = int(center[0] + r * scale * np.sin(a))\n            y = int(center[1] - r * scale * np.cos(a))\n            cv2.circle(img, (x, y), 2, (0, 255, 0), -1)\n\n    # Gap\u65b9\u5411\u3092\u63cf\u753b\n    gap_x = int(center[0] + 150 * np.sin(gap_center))\n    gap_y = int(center[1] - 150 * np.cos(gap_center))\n    cv2.arrowedLine(img, center, (gap_x, gap_y), (255, 0, 0), 2)\n\n    # \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u8868\u793a\n    cv2.putText(img, f\"Steering: {steering:.2f}\", (10, 30),\n                cv2.FONT_HERSHEY_SIMPLEX, 0.7, (255, 255, 255), 2)\n\n    return img\n</code></pre>"},{"location":"advanced/follow-the-gap/#_11","title":"\u8003\u3048\u3066\u307f\u3088\u3046","text":""},{"location":"advanced/follow-the-gap/#1-look-ahead","title":"1. Look-ahead\u8ddd\u96e2\u3092\u901f\u5ea6\u306b\u5fdc\u3058\u3066\u5909\u3048\u308b\u3068\u3069\u3046\u306a\u308b\uff1f","text":"\u30d2\u30f3\u30c8 <ul> <li>\u9ad8\u901f\u6642\u306b\u77ed\u3044Look-ahead\u8ddd\u96e2\u3060\u3068\u3001\u3069\u3093\u306a\u554f\u984c\u304c\u8d77\u304d\u308b\uff1f</li> <li>\u4f4e\u901f\u6642\u306b\u9577\u3044Look-ahead\u8ddd\u96e2\u3060\u3068\u3001\u3069\u3093\u306a\u554f\u984c\u304c\u8d77\u304d\u308b\uff1f</li> </ul> \u89e3\u7b54\u4f8b <p>\u901f\u5ea6\u9069\u5fdc\u578bLook-ahead\u8ddd\u96e2</p> <pre><code>Ld = Ld_min + k * velocity\n</code></pre> <ul> <li>\u9ad8\u901f\u6642\u306bLd\u3092\u9577\u304f: \u6025\u306a\u65b9\u5411\u8ee2\u63db\u3092\u907f\u3051\u3001\u5b89\u5b9a\u3057\u305f\u8d70\u884c</li> <li>\u4f4e\u901f\u6642\u306bLd\u3092\u77ed\u304f: \u72ed\u3044\u5834\u6240\u3067\u3082\u6b63\u78ba\u306b\u66f2\u304c\u308c\u308b</li> </ul> \u901f\u5ea6 Look-ahead \u7406\u7531 0.2 m/s 0.3m \u72ed\u3044\u901a\u8def\u3067\u306e\u53cd\u5fdc\u6027 0.5 m/s 0.5m \u30d0\u30e9\u30f3\u30b9 1.0 m/s 0.8m \u5b89\u5b9a\u6027\u91cd\u8996"},{"location":"advanced/follow-the-gap/#2-disparity-extender","title":"2. Disparity Extender\u304c\u306a\u3044\u3068\u3069\u3046\u306a\u308b\uff1f","text":"\u30d2\u30f3\u30c8 <ul> <li>\u969c\u5bb3\u7269\u306e\u300c\u7aef\u300d\u304e\u308a\u304e\u308a\u3092\u901a\u308d\u3046\u3068\u3059\u308b\u3068...</li> <li>\u8eca\u4e21\u306b\u306f\u300c\u5e45\u300d\u304c\u3042\u308b</li> </ul> \u89e3\u7b54\u4f8b <p>\u969c\u5bb3\u7269\u3068\u306e\u885d\u7a81\u30ea\u30b9\u30af\u304c\u5897\u52a0\u3057\u307e\u3059\u3002</p> <pre><code>Disparity Extender\u306a\u3057:\n\n    \u25cf\u25cf\u25cf    \u2191\u8eca\u4e21\u7d4c\u8def    \u25cf\u25cf\u25cf\n       \u2572    \u3000  \u3000    \u2571\n        \u2572\u3000\u3000\u3000\u3000\u3000\u2571  \u2190 \u7aef\u304e\u308a\u304e\u308a\u3092\u901a\u904e\n          \u8eca\u4e21\u5e45\u3067\u885d\u7a81\uff01\n</code></pre> <p>Disparity Extender\u306f\u3001LiDAR\u306e\u300c\u70b9\u300d\u3067\u898b\u3048\u3066\u3044\u308b\u969c\u5bb3\u7269\u3092\u3001 \u8eca\u5e45\u3092\u8003\u616e\u3057\u305f\u300c\u9762\u300d\u3068\u3057\u3066\u6271\u3046\u3053\u3068\u3067\u5b89\u5168\u30de\u30fc\u30b8\u30f3\u3092\u78ba\u4fdd\u3057\u307e\u3059\u3002</p>"},{"location":"advanced/follow-the-gap/#3-pure-pursuitpid","title":"3. Pure Pursuit\u3068PID\u5236\u5fa1\u306e\u9055\u3044\u306f\uff1f","text":"\u30d2\u30f3\u30c8 <ul> <li>PID: \u300c\u8aa4\u5dee\u300d\u3092\u898b\u3066\u4fee\u6b63</li> <li>Pure Pursuit: \u300c\u76ee\u6a19\u70b9\u300d\u3092\u898b\u3066\u8ffd\u5f93</li> <li>\u3069\u3061\u3089\u304c\u300c\u5148\u8aad\u307f\u300d\u3057\u3066\u3044\u308b\uff1f</li> </ul> \u89e3\u7b54\u4f8b \u9805\u76ee PID\u5236\u5fa1 Pure Pursuit \u57fa\u6e96 \u73fe\u5728\u306e\u8aa4\u5dee \u524d\u65b9\u306e\u76ee\u6a19\u70b9 \u5148\u8aad\u307f \u306a\u3057\uff08\u53cd\u5fdc\u7684\uff09 \u3042\u308a\uff08\u4e88\u6e2c\u7684\uff09 \u8ecc\u9053 \u30b8\u30b0\u30b6\u30b0\u306b\u306a\u308a\u3084\u3059\u3044 \u6ed1\u3089\u304b\u306a\u66f2\u7dda \u8abf\u6574 Kp, Ki, Kd Look-ahead\u8ddd\u96e2 \u9069\u7528 \u58c1\u6cbf\u3044\u8d70\u884c \u7d4c\u8def\u8ffd\u5f93 <p>Pure Pursuit\u306f\u300c\u76ee\u6a19\u70b9\u306b\u5411\u304b\u3046\u5186\u5f27\u300d\u3092\u63cf\u304f\u305f\u3081\u3001 PID\u3088\u308a\u6ed1\u3089\u304b\u306a\u8ecc\u9053\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"advanced/follow-the-gap/#4-ftg","title":"4. FTG\u304c\u82e6\u624b\u306a\u72b6\u6cc1\u306f\uff1f","text":"\u30d2\u30f3\u30c8 <ul> <li>\u300c\u6700\u3082\u5e83\u3044\u7a7a\u9593\u300d\u306b\u5411\u304b\u3046\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0</li> <li>\u76ee\u7684\u5730\u304c\u72ed\u3044\u901a\u8def\u306e\u5148\u306b\u3042\u308b\u5834\u5408\u306f\uff1f</li> </ul> \u89e3\u7b54\u4f8b <p>FTG\u304c\u82e6\u624b\u306a\u72b6\u6cc1:</p> <ol> <li>\u888b\u5c0f\u8def: \u5e83\u3044\u304c\u884c\u304d\u6b62\u307e\u308a\u306e\u7a7a\u9593\u306b\u5411\u304b\u3063\u3066\u3057\u307e\u3046</li> <li>\u72ed\u3044\u901a\u8def: \u3088\u308a\u5e83\u3044\u7a7a\u9593\u304c\u3042\u308b\u3068\u3001\u305d\u3061\u3089\u306b\u9038\u308c\u308b</li> <li>\u52d5\u7684\u969c\u5bb3\u7269: LiDAR\u306e\u30b9\u30ad\u30e3\u30f3\u9593\u9694\u3088\u308a\u901f\u3044\u7269\u4f53</li> </ol> <pre><code>\u4f8b\uff1a\u888b\u5c0f\u8def\u306e\u554f\u984c\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502               \u2502 \u2190 \u5e83\u3044\uff08Gap\u3068\u3057\u3066\u691c\u51fa\uff09\n\u2502    \u888b\u5c0f\u8def     \u2502\n\u2502               \u2502\n\u2514\u2500\u2500\u2500\u2510       \u250c\u2500\u2500\u2500\u2518\n    \u2502 \u901a\u8def \u2502 \u2190 \u72ed\u3044\u304c\u6b63\u3057\u3044\u7d4c\u8def\n    \u2514\u2500\u2500\u2191\u2500\u2500\u2500\u2518\n      \u8eca\u4e21\n</code></pre> <p>\u5bfe\u7b56: \u30b0\u30ed\u30fc\u30d0\u30eb\u30d7\u30e9\u30f3\u30ca\u30fc\u3068\u7d44\u307f\u5408\u308f\u305b\u308b</p>"},{"location":"advanced/lidar/","title":"LiDAR\u7d71\u5408\u6a5f\u80fd","text":""},{"location":"advanced/lidar/#_1","title":"\u6982\u8981","text":"<p>2D LiDAR\u30bb\u30f3\u30b5\u30fc\u3092\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u306e\u4ee3\u66ff\u307e\u305f\u306f\u88dc\u5b8c\u3068\u3057\u3066\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002LiDAR\u30c7\u30fc\u30bf\u306f\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u3068\u540c\u3058\u5f62\u5f0f\u306b\u5909\u63db\u3055\u308c\u308b\u305f\u3081\u3001\u65e2\u5b58\u306e\u30d7\u30e9\u30f3\u30ca\u30fc\u3092\u305d\u306e\u307e\u307e\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"advanced/lidar/#lidar_1","title":"\u5bfe\u5fdcLiDAR","text":""},{"location":"advanced/lidar/#hokuyo-ustust-10lx-ust-20lx","title":"Hokuyo UST\u30b7\u30ea\u30fc\u30ba\uff08UST-10LX / UST-20LX\uff09","text":"\u9805\u76ee UST-10LX UST-20LX \u6e2c\u8ddd\u7bc4\u56f2 60mm\u301c10m 60mm\u301c20m \u30b9\u30ad\u30e3\u30f3\u89d2\u5ea6 270\u00b0 270\u00b0 \u89d2\u5ea6\u5206\u89e3\u80fd 0.25\u00b0\uff081,081\u70b9/\u30b9\u30ad\u30e3\u30f3\uff09 0.25\u00b0\uff081,081\u70b9/\u30b9\u30ad\u30e3\u30f3\uff09 \u30b9\u30ad\u30e3\u30f3\u901f\u5ea6 40ms/\u30b9\u30ad\u30e3\u30f3\uff0825Hz\uff09 40ms/\u30b9\u30ad\u30e3\u30f3\uff0825Hz\uff09 \u63a5\u7d9a Ethernet Ethernet \u30d7\u30ed\u30c8\u30b3\u30eb SCIP2.0 SCIP2.0 <p>\u8a73\u7d30\u4ed5\u69d8: \u5317\u967d\u96fb\u6a5f UST-10/20LX</p>"},{"location":"advanced/lidar/#ydlidar-t-mini-plus","title":"YDLIDAR T-mini Plus","text":"\u9805\u76ee \u4ed5\u69d8 \u6e2c\u8ddd\u7bc4\u56f2 20mm\u301c12,000mm \u30b9\u30ad\u30e3\u30f3\u89d2\u5ea6 360\u00b0 \u89d2\u5ea6\u5206\u89e3\u80fd \u7d040.9\u00b0\uff08\u7d04400\u70b9/\u56de\u8ee2\uff09 \u30b9\u30ad\u30e3\u30f3\u901f\u5ea6 6Hz\u301c12Hz\uff08\u8a2d\u5b9a\u53ef\u80fd\uff09 \u63a5\u7d9a \u30b7\u30ea\u30a2\u30eb\uff08UART\uff09 \u7279\u5fb4 \u5c0f\u578b\u30fb\u8efd\u91cf\u30fb\u4f4e\u4fa1\u683c <p>\u8a73\u7d30\u4ed5\u69d8: YDLIDAR T-mini Plus</p>"},{"location":"advanced/lidar/#_2","title":"\u305d\u306e\u4ed6\u5bfe\u5fdc\u6a5f\u7a2e","text":"<ul> <li>SCIP2.0\u30d7\u30ed\u30c8\u30b3\u30eb\u5bfe\u5fdcLiDAR</li> <li>YDLIDAR SDK\u5bfe\u5fdc\u6a5f\u7a2e</li> </ul>"},{"location":"advanced/lidar/#_3","title":"\u30be\u30fc\u30f3\u69cb\u6210","text":"<p>LiDAR\u306e360\u5ea6\u30b9\u30ad\u30e3\u30f3\u30c7\u30fc\u30bf\u30925\u3064\u306e\u30be\u30fc\u30f3\u306b\u5206\u5272\u3057\u3066\u3001\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u3068\u540c\u7b49\u306e\u5f62\u5f0f\u306b\u5909\u63db\u3057\u307e\u3059\u3002</p> <pre><code>        FrFR (\u524d\u65b9)\n          \u2502\n    FrLH \u2500\u253c\u2500 FrRH\n   (\u5de6\u524d) \u2502 (\u53f3\u524d)\n          \u2502\n    RrLH \u2500\u2534\u2500 RrRH\n   (\u5de6\u5f8c)   (\u53f3\u5f8c)\n</code></pre>"},{"location":"advanced/lidar/#configpy","title":"config.py\u3067\u306e\u8a2d\u5b9a","text":"<pre><code># LiDAR\u3092\u6709\u52b9\u306b\u3059\u308b\nHAVE_LIDAR = True\n\n# \u30a2\u30af\u30c6\u30a3\u30d6\u30bb\u30f3\u30b5\u30fc\u306b\u8ffd\u52a0\nACTIVE_SENSORS = [\"lidar\"]  # \u307e\u305f\u306f [\"ultrasonic\", \"lidar\"]\n\n# LiDAR\u63a5\u7d9a\u8a2d\u5b9a\nLIDAR_PORT = \"/dev/ttyACM0\"  # \u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\nLIDAR_BAUDRATE = 115200\n\n# \u30be\u30fc\u30f3\u8a2d\u5b9a\uff08\u89d2\u5ea6\u7bc4\u56f2\uff09\nLIDAR_ZONES = {\n    \"RrLH\": (225, 270),   # \u5de6\u5f8c\u65b9\n    \"FrLH\": (270, 315),   # \u5de6\u524d\u65b9\n    \"FrFR\": (315, 45),    # \u524d\u65b9\uff080\u5ea6\u3092\u307e\u305f\u3050\uff09\n    \"FrRH\": (45, 90),     # \u53f3\u524d\u65b9\n    \"RrRH\": (90, 135),    # \u53f3\u5f8c\u65b9\n}\n\n# \u70b9\u6570\u95be\u5024\uff08\u3053\u306e\u70b9\u6570\u4ee5\u4e0a\u306e\u70b9\u7fa4\u304c\u3042\u308b\u30be\u30fc\u30f3\u3092\u969c\u5bb3\u7269\u3068\u5224\u5b9a\uff09\nLIDAR_POINT_THRESHOLD = 3\n\n# \u8ddd\u96e2\u95be\u5024\uff08\u3053\u306e\u8ddd\u96e2\u3088\u308a\u8fd1\u3044\u30be\u30fc\u30f3\u3092\u969c\u5bb3\u7269\u3068\u5224\u5b9a\u3001\u5358\u4f4d:mm\uff09\nLIDAR_DISTANCE_THRESHOLD = 500\n\n# \u30be\u30fc\u30f3\u5225\u306e\u95be\u5024\u8a2d\u5b9a\u3082\u53ef\u80fd\nLIDAR_ZONE_THRESHOLDS = {\n    \"FrFR\": 300,   # \u524d\u65b9\u306f\u8fd1\u3081\u306b\u8a2d\u5b9a\n    \"FrLH\": 400,\n    \"FrRH\": 400,\n    \"RrLH\": 500,\n    \"RrRH\": 500,\n}\n</code></pre>"},{"location":"advanced/lidar/#runpy","title":"run.py\u3067\u306e\u4f7f\u7528\u65b9\u6cd5","text":"<pre><code># LiDAR\u30c7\u30fc\u30bf\u306f\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u3068\u540c\u3058\u5f62\u5f0f\u3067\u30a2\u30af\u30bb\u30b9\u53ef\u80fd\nultrasonic_data = data_aggregator.get_ultrasonic_data()\n# ultrasonic_data = {\"FrLH\": 450, \"FrFR\": 800, \"FrRH\": 420, ...}\n\n# \u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u3068LiDAR\u3092\u5207\u308a\u66ff\u3048\u3066\u4f7f\u7528\nif config.HAVE_LIDAR:\n    sensor_data = lidar.get_ranges()\nelse:\n    sensor_data = ultrasonic.get_ranges()\n\n# planner.py\u3067\u306e\u4f7f\u7528\uff08\u5909\u66f4\u4e0d\u8981\uff09\nsteering, throttle = planner.plan(sensor_data)\n</code></pre>"},{"location":"advanced/lidar/#lidarpy","title":"lidar.py\u306e\u6a5f\u80fd","text":"<pre><code># \u53d6\u5f97\u3067\u304d\u308b\u30c7\u30fc\u30bf\ndetection_distances  # \u5404\u30be\u30fc\u30f3\u306e\u6700\u5c0f\u8ddd\u96e2\u306e\u30ea\u30b9\u30c8 [RrLH, FrLH, FrFR, FrRH, RrRH]\ndetection_binary     # \u5404\u30be\u30fc\u30f3\u306e\u691c\u51fa\u6709\u7121 [0/1, 0/1, 0/1, 0/1, 0/1]\nimage               # LiDAR\u753b\u50cf\uff08OpenCV\u5f62\u5f0f\uff09\nmeasurements        # \u5168\u70b9\u7fa4\u30c7\u30fc\u30bf\ndetection_details   # \u8a73\u7d30\u306a\u691c\u51fa\u60c5\u5831\n</code></pre>"},{"location":"advanced/lidar/#_4","title":"\u5229\u70b9","text":"\u9805\u76ee \u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc LiDAR \u7cbe\u5ea6 \u00b13mm \u00b130mm \u7bc4\u56f2 15\u5ea6\uff08\u7247\u5074\uff09 240\u5ea6\u301c360\u5ea6 \u66f4\u65b0\u901f\u5ea6 \u301c100Hz \u301c40Hz \u30b3\u30b9\u30c8 \u4f4e\u3044 \u9ad8\u3044 \u8907\u6570\u969c\u5bb3\u7269 \u691c\u77e5\u56f0\u96e3 \u540c\u6642\u691c\u77e5\u53ef\u80fd"},{"location":"advanced/lidar/#_5","title":"\u6ce8\u610f\u4e8b\u9805","text":"<ul> <li>LiDAR\u306f\u30b7\u30ea\u30a2\u30eb\u63a5\u7d9a\u306e\u305f\u3081\u3001\u6a29\u9650\u8a2d\u5b9a\u304c\u5fc5\u8981\u306a\u5834\u5408\u304c\u3042\u308a\u307e\u3059</li> <li>\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u63a5\u7d9a\u306eLiDAR\u306fIP\u30a2\u30c9\u30ec\u30b9\u306e\u8a2d\u5b9a\u304c\u5fc5\u8981\u3067\u3059</li> <li>\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u3068\u306e\u4f75\u7528\u6642\u306f\u30c7\u30fc\u30bf\u306e\u7d71\u5408\u65b9\u6cd5\u3092\u691c\u8a0e\u3057\u3066\u304f\u3060\u3055\u3044</li> </ul>"},{"location":"advanced/lidar/#_6","title":"\u30c7\u30d0\u30c3\u30b0\u65b9\u6cd5","text":"<pre><code># LiDAR\u5358\u4f53\u3067\u306e\u52d5\u4f5c\u78ba\u8a8d\npython lidar.py\n\n# run.py\u5b9f\u884c\u6642\u306e\u30ed\u30b0\u78ba\u8a8d\npython run.py --debug\n# \"--- LiDAR\u521d\u671f\u5316\u958b\u59cb ---\" \u304c\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\n</code></pre>"},{"location":"advanced/lidar/#lidar_2","title":"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u63a5\u7d9aLiDAR\u306e\u8a2d\u5b9a","text":""},{"location":"advanced/lidar/#_7","title":"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u69cb\u6210","text":"<p>WiFi\u3067\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u63a5\u7d9a\u3057\u3064\u3064\u3001Ethernet\u3067LiDAR\u306b\u63a5\u7d9a\u3059\u308b\u5834\u5408\u306e\u8a2d\u5b9a\u3067\u3059\u3002</p> <pre><code>\u30df\u30cb\u30ab\u30fc\n\u251c\u2500\u2500 WiFi (wlP1p1s0) \u2192 \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\n\u2514\u2500\u2500 Ethernet (enP8p1s0) \u2192 LiDAR (192.168.0.10)\n</code></pre>"},{"location":"advanced/lidar/#_8","title":"\u8a2d\u5b9a\u624b\u9806","text":"<pre><code># \u63a5\u7d9a\u540d\u3092\u78ba\u8a8d\nnmcli connection show\n\n# WiFi\u3092\u9ad8\u512a\u5148\uff08\u4f4e\u30e1\u30c8\u30ea\u30c3\u30af\u5024\uff09\u306b\u8a2d\u5b9a\nsudo nmcli connection modify \"your-wifi-name\" ipv4.route-metric 100\n\n# Ethernet\u306e\u512a\u5148\u5ea6\u3092\u4e0b\u3052\u3066LiDAR\u5c02\u7528\u306b\u8a2d\u5b9a\nsudo nmcli connection modify \"hokuyo-lidar\" ipv4.route-metric 1000\nsudo nmcli connection modify \"hokuyo-lidar\" ipv4.never-default yes\n\n# LiDAR\u3078\u306e\u9759\u7684\u30eb\u30fc\u30c8\u3092\u8ffd\u52a0\nsudo nmcli connection modify \"hokuyo-lidar\" +ipv4.routes \"192.168.0.10/32\"\n\n# \u63a5\u7d9a\u3092\u518d\u8d77\u52d5\u3057\u3066\u8a2d\u5b9a\u3092\u9069\u7528\nsudo nmcli connection down \"hokuyo-lidar\" &amp;&amp; sudo nmcli connection up \"hokuyo-lidar\"\n</code></pre>"},{"location":"advanced/lidar/#_9","title":"\u8a2d\u5b9a\u78ba\u8a8d","text":"<pre><code># \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u63a5\u7d9a\uff08WiFi\u7d4c\u7531\uff09\nping -c 3 google.com\n\n# LiDAR\u63a5\u7d9a\uff08Ethernet\u7d4c\u7531\uff09\nping -c 3 192.168.0.10\n</code></pre>"},{"location":"advanced/lidar/#_10","title":"\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9","text":"<ul> <li>\u5317\u967d\u96fb\u6a5f UST-10/20LX \u88fd\u54c1\u30da\u30fc\u30b8</li> <li>YDLIDAR T-mini Plus \u88fd\u54c1\u30da\u30fc\u30b8</li> <li>Follow the Gap \u30a2\u30eb\u30b4\u30ea\u30ba\u30e0 - LiDAR\u70b9\u7fa4\u3092\u4f7f\u3063\u305f\u969c\u5bb3\u7269\u56de\u907f</li> </ul>"},{"location":"advanced/yolo/","title":"YOLO\u7269\u4f53\u691c\u77e5","text":"<p>YOLOv11\u3092\u4f7f\u3063\u305f\u7269\u4f53\u691c\u77e5\u3068\u81ea\u52d5\u904b\u8ee2\u3078\u306e\u5fdc\u7528\u306b\u3064\u3044\u3066\u89e3\u8aac\u3057\u307e\u3059\u3002</p>"},{"location":"advanced/yolo/#_1","title":"\u6982\u8981","text":"<p>YOLO\uff08You Only Look Once\uff09\u306f\u9ad8\u901f\u306a\u7269\u4f53\u691c\u77e5\u30e2\u30c7\u30eb\u3067\u3059\u3002\u30ab\u30e1\u30e9\u753b\u50cf\u304b\u3089\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u7269\u4f53\u3092\u691c\u77e5\u3057\u3001\u81ea\u52d5\u904b\u8ee2\u306e\u5224\u65ad\u306b\u6d3b\u7528\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"advanced/yolo/#_2","title":"\u57fa\u672c\u7684\u306a\u4f7f\u3044\u65b9","text":""},{"location":"advanced/yolo/#_3","title":"\u30e2\u30c7\u30eb\u306e\u8aad\u307f\u8fbc\u307f\u3068\u63a8\u8ad6","text":"<pre><code>from ultralytics import YOLO\n\n# \u30e2\u30c7\u30eb\u306e\u8aad\u307f\u8fbc\u307f\nmodel = YOLO('yolo11n.pt')  # YOLOv11 nano\n\n# \u63a8\u8ad6\u5b9f\u884c\nresults = model(image)\n\n# \u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u63a8\u8ad6\uff08\u30ab\u30e1\u30e9\uff09\nresults = model(source=0, show=True)\n</code></pre>"},{"location":"advanced/yolo/#raspberry-pi-ai-cameraimx500","title":"Raspberry Pi AI Camera\uff08IMX500\uff09\u3068\u306e\u7d71\u5408","text":"<pre><code># IMX500\u30ab\u30e1\u30e9\u304b\u3089\u306e\u5165\u529b\nfrom picamera2 import Picamera2\n\npicam2 = Picamera2()\npicam2.start()\n\nwhile True:\n    frame = picam2.capture_array()\n    results = model(frame)\n</code></pre>"},{"location":"advanced/yolo/#imx500","title":"IMX500\u5f62\u5f0f\u3078\u306e\u30a8\u30af\u30b9\u30dd\u30fc\u30c8","text":"<pre><code># \u30e2\u30c7\u30eb\u306e\u8aad\u307f\u8fbc\u307f\nmodel = YOLO(\"yolo11n.pt\")\n\n# IMX500\u5f62\u5f0f\u3078\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\nmodel.export(format=\"imx500\")\n</code></pre>"},{"location":"advanced/yolo/#_4","title":"\u7269\u4f53\u8ffd\u5f93\u5236\u5fa1","text":"<p>\u691c\u77e5\u3057\u305f\u7269\u4f53\u3092\u8ffd\u5f93\u3059\u308b\u5236\u5fa1\u3092\u5b9f\u88c5\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"advanced/yolo/#configpy","title":"config.py\u8a2d\u5b9a","text":"<pre><code># \u7269\u4f53\u8ffd\u5f93\u5236\u5fa1\u3092\u6709\u52b9\u5316\nOBJECT_FOLLOW_ENABLED = True\n\n# \u8ffd\u5f93\u5bfe\u8c61\u30af\u30e9\u30b9ID\uff08\u4f8b: route=1, park=4\uff09\nFOLLOW_TARGET_CLASS = 1\n\n# \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u88dc\u6b63\u30b2\u30a4\u30f3\uff080.5-1.5\u63a8\u5968\uff09\nFOLLOW_STEERING_GAIN = 1.0\n\n# \u4e2d\u5fc3\u4e0d\u611f\u5e2f\uff080.05-0.2\u63a8\u5968\u3001\u753b\u50cf\u5e45\u306b\u5bfe\u3059\u308b\u6bd4\u7387\uff09\nFOLLOW_DEADZONE = 0.1\n</code></pre>"},{"location":"advanced/yolo/#_5","title":"\u5236\u5fa1\u30ed\u30b8\u30c3\u30af","text":"<pre><code>graph LR\n    A[\u30ab\u30e1\u30e9\u753b\u50cf] --&gt; B[YOLO\u691c\u77e5]\n    B --&gt; C{\u5bfe\u8c61\u691c\u51fa?}\n    C --&gt;|Yes| D[\u4e2d\u5fc3\u4f4d\u7f6e\u8a08\u7b97]\n    C --&gt;|No| E[\u76f4\u9032\u7dad\u6301]\n    D --&gt; F[\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u88dc\u6b63]\n    F --&gt; G[\u30e2\u30fc\u30bf\u30fc\u51fa\u529b]\n    E --&gt; G</code></pre>"},{"location":"advanced/yolo/#_6","title":"\u969c\u5bb3\u7269\u56de\u907f\u5236\u5fa1","text":"<p>\u691c\u77e5\u3057\u305f\u969c\u5bb3\u7269\u3092\u56de\u907f\u3059\u308b\u5236\u5fa1\u3067\u3059\u3002</p>"},{"location":"advanced/yolo/#configpy_1","title":"config.py\u8a2d\u5b9a","text":"<pre><code># \u969c\u5bb3\u7269\u56de\u907f\u5236\u5fa1\u3092\u6709\u52b9\u5316\nOBSTACLE_AVOID_ENABLED = True\n\n# \u56de\u907f\u5bfe\u8c61\u30af\u30e9\u30b9ID\uff08\u4f8b: car=0\uff09\nAVOID_TARGET_CLASS = 0\n\n# \u56de\u907f\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u30b2\u30a4\u30f3\uff080.8-1.5\u63a8\u5968\uff09\nAVOID_STEERING_GAIN = 1.2\n\n# \u56de\u907f\u5224\u5b9a\u3059\u308b\u7269\u4f53\u30b5\u30a4\u30ba\u95be\u5024\uff08\u753b\u50cf\u9762\u7a4d\u6bd4\u30010.1-0.25\u63a8\u5968\uff09\nAVOID_SIZE_THRESHOLD = 0.15\n\n# \u4e2d\u592e\u30a8\u30ea\u30a2\u5e45\uff08\u753b\u50cf\u5e45\u306b\u5bfe\u3059\u308b\u6bd4\u7387\u30010.3-0.6\u63a8\u5968\uff09\nAVOID_CENTER_ZONE = 0.4\n</code></pre>"},{"location":"advanced/yolo/#_7","title":"\u30ab\u30b9\u30bf\u30e0\u30e2\u30c7\u30eb\u306e\u5b66\u7fd2","text":""},{"location":"advanced/yolo/#_8","title":"\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u6e96\u5099","text":"<ol> <li>\u753b\u50cf\u3092\u53ce\u96c6</li> <li>\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\uff08\u30d0\u30a6\u30f3\u30c7\u30a3\u30f3\u30b0\u30dc\u30c3\u30af\u30b9\uff09</li> <li>YOLO\u5f62\u5f0f\u3067\u30a8\u30af\u30b9\u30dd\u30fc\u30c8</li> </ol>"},{"location":"advanced/yolo/#_9","title":"\u5b66\u7fd2\u5b9f\u884c","text":"<pre><code>from ultralytics import YOLO\n\n# \u30ab\u30b9\u30bf\u30e0\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3067\u5b66\u7fd2\nmodel = YOLO('yolo11n.pt')\nmodel.train(data='custom_dataset.yaml', epochs=100)\n\n# \u5b66\u7fd2\u6e08\u307f\u30e2\u30c7\u30eb\u3092\u4fdd\u5b58\nmodel.save('models/custom_yolo.pt')\n</code></pre>"},{"location":"advanced/yolo/#_10","title":"\u30ab\u30b9\u30bf\u30e0\u30af\u30e9\u30b9\u5b9a\u7fa9","text":"<pre><code># config.py\nYOLO_ENABLED = True\n\n# \u30ab\u30b9\u30bf\u30e0\u30af\u30e9\u30b9\u5b9a\u7fa9\nYOLO_CLASSES = {\n    0: \"car\",\n    1: \"route\",\n    2: \"stop_sign\",\n    3: \"traffic_light\",\n    4: \"park\"\n}\n\n# \u7269\u4f53\u8ffd\u5f93: route\u30af\u30e9\u30b9\u3092\u8ffd\u5f93\nFOLLOW_TARGET_CLASS = 1\n\n# \u969c\u5bb3\u7269\u56de\u907f: car\u30af\u30e9\u30b9\u3092\u56de\u907f\nAVOID_TARGET_CLASS = 0\n</code></pre>"},{"location":"advanced/yolo/#_11","title":"\u5236\u5fa1\u30eb\u30fc\u30eb\u306e\u7d44\u307f\u5408\u308f\u305b","text":"<p>\u4fe1\u53f7\u3084\u6a19\u8b58\u306b\u3088\u308b\u5236\u5fa1\u3082\u53ef\u80fd\u3067\u3059\u3002</p> <pre><code># \u5236\u5fa1\u30eb\u30fc\u30eb: \u4fe1\u53f7\u3084\u6a19\u8b58\u3067\u6e1b\u901f/\u505c\u6b62\nCONTROL_RULES = {\n    \"stop_sign\": {\"action\": \"stop\", \"duration\": 3.0},\n    \"traffic_light_red\": {\"action\": \"stop\"},\n    \"traffic_light_green\": {\"action\": \"go\"},\n}\n</code></pre>"},{"location":"advanced/yolo/#_12","title":"\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9","text":"\u30e2\u30c7\u30eb Jetson\u63a8\u8ad6\u901f\u5ea6 RPi\u63a8\u8ad6\u901f\u5ea6 \u7cbe\u5ea6 yolo11n ~10ms ~100ms \u6a19\u6e96 yolo11s ~20ms ~200ms \u9ad8\u3044 <p>\u63a8\u5968</p> <p>\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u6027\u304c\u5fc5\u8981\u306a\u5834\u5408\u306f<code>yolo11n</code>\uff08nano\uff09\u3092\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"basics/config/","title":"config.py \u8a2d\u5b9a\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9","text":"<p>config.py\u306e\u4e3b\u8981\u306a\u8a2d\u5b9a\u9805\u76ee\u3092\u89e3\u8aac\u3057\u307e\u3059\u3002</p>"},{"location":"basics/config/#myconfigpy","title":"myconfig.py \u306b\u3088\u308b\u500b\u4eba\u8a2d\u5b9a\u306e\u4e0a\u66f8\u304d","text":"<p><code>myconfig.py</code> \u3092\u4f5c\u6210\u3059\u308b\u3068\u3001config.py \u306e\u8a2d\u5b9a\u5024\u3092\u4e0a\u66f8\u304d\u3067\u304d\u307e\u3059\u3002 config.py \u3092\u76f4\u63a5\u7de8\u96c6\u3059\u308b\u5fc5\u8981\u304c\u306a\u304f\u3001git\u7ba1\u7406\u306e\u7af6\u5408\u3082\u9632\u3052\u307e\u3059\u3002</p> <pre><code># myconfig.py\uff08\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30eb\u30fc\u30c8\u306b\u914d\u7f6e\uff09\n# \u5909\u66f4\u3057\u305f\u3044\u5909\u6570\u306e\u307f\u8a18\u8ff0\u3059\u308c\u3070OK\n\nACTIVE_SENSORS = [\"lidar\", \"camera_0\", \"camera_1\"]\nPLAN = \"edgenext_xx_small\"\nMODEL_NAME = \"edgenext_xx_small_20260207_165735.pth\"\nFORWARD_STRAIGHT = 0.5\n</code></pre> <ul> <li><code>myconfig.py</code> \u304c\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u306f config.py \u306e\u5024\u304c\u305d\u306e\u307e\u307e\u4f7f\u308f\u308c\u307e\u3059</li> </ul>"},{"location":"basics/config/#_1","title":"\u30cf\u30f3\u30ba\u30aa\u30f3\u5411\u3051\u30af\u30a4\u30c3\u30af\u8a2d\u5b9a","text":""},{"location":"basics/config/#_2","title":"\u8d70\u884c\u30e2\u30fc\u30c9\u4e00\u89a7","text":"\u30e2\u30fc\u30c9 \u8aac\u660e \u7528\u9014 <code>manual</code> \u624b\u52d5\u64cd\u4f5c \u30c7\u30fc\u30bf\u53ce\u96c6 <code>go_straight</code> \u76f4\u9032 \u52d5\u4f5c\u78ba\u8a8d <code>right_left_3</code> 3\u30bb\u30f3\u30b5\u30fc\u3067\u969c\u5bb3\u7269\u56de\u907f \u30eb\u30fc\u30eb\u30d9\u30fc\u30b9\u8d70\u884c <code>wall_follow</code> \u58c1\u6cbf\u3044\u8d70\u884c \u53f3\u624b\u6cd5/\u5de6\u624b\u6cd5 <code>wall_follow_pid</code> PID\u5236\u5fa1\u58c1\u6cbf\u3044\u8d70\u884c PID\u5236\u5fa1\u306e\u5b66\u7fd2 <code>nn</code> \u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af \u30bb\u30f3\u30b5\u30fc\u5024\u30d9\u30fc\u30b9\u306e\u5b66\u7fd2 <code>donkeycar</code> \u8efd\u91cfCNN \u753b\u50cf\u30d9\u30fc\u30b9\u306e\u5b66\u7fd2\uff08\u304a\u3059\u3059\u3081\uff09 <code>resnet18</code> ResNet18 \u9ad8\u7cbe\u5ea6\u753b\u50cf\u8a8d\u8b58"},{"location":"basics/config/#_3","title":"\u6700\u5c0f\u9650\u306e\u8a2d\u5b9a\u5909\u66f4","text":"<pre><code># 1. \u8d70\u884c\u30e2\u30fc\u30c9\u3092\u9078\u629e\nPLAN = \"donkeycar\"  # \u307e\u305f\u306f \"manual\", \"nn\" \u306a\u3069\n\n# 2. \u4f7f\u7528\u3059\u308b\u30bb\u30f3\u30b5\u30fc\u3092\u9078\u629e\nACTIVE_SENSORS = [\"lidar\", \"camera_0\"]  # \u307e\u305f\u306f [\"ultrasonic\", \"camera_0\"]\n\n# 3. \u901f\u5ea6\u3092\u8abf\u6574\nFORWARD_STRAIGHT = 0.4  # \u76f4\u7dda\u7528\uff080.3\u301c0.5\u63a8\u5968\uff09\nFORWARD_CORNER = 0.3    # \u30ab\u30fc\u30d6\u7528\uff080.2\u301c0.4\u63a8\u5968\uff09\n\n# 4. \u5b66\u7fd2\u6e08\u307f\u30e2\u30c7\u30eb\u3092\u6307\u5b9a\uff08\u81ea\u52d5\u8d70\u884c\u6642\uff09\nMODEL_NAME = \"donkeycar_20251205_150000.pth\"\n</code></pre>"},{"location":"basics/config/#_4","title":"\u30c7\u30d0\u30a4\u30b9\u8a2d\u5b9a","text":"<pre><code># \u30c7\u30d0\u30a4\u30b9\u81ea\u52d5\u691c\u51fa\uff08\u901a\u5e38\u306f\u5909\u66f4\u4e0d\u8981\uff09\nDEVICE_TYPE = \"auto\"  # \"rpi4\", \"rpi5\", \"jetson\", \"auto\"\n</code></pre>"},{"location":"basics/config/#_5","title":"\u8d70\u884c\u30e2\u30fc\u30c9","text":"<pre><code># \u5224\u65ad\u30e2\u30fc\u30c9\u9078\u629e\nPLAN_LIST = [\n    \"manual\",\n    \"go_straight\",\n    \"right_left_3\",\n    \"right_left_3_records\",\n    \"wall_follow\",\n    \"wall_follow_pid\",\n    \"nn\",\n    \"donkeycar\",\n    \"resnet18\",\n    \"mobilevit_xxs\",\n    \"edgenext_xx_small\"\n]\nPLAN = \"right_left_3\"\n</code></pre>"},{"location":"basics/config/#_6","title":"\u30bb\u30f3\u30b5\u30fc\u8a2d\u5b9a","text":""},{"location":"basics/config/#_7","title":"\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc","text":"<pre><code># \u30bb\u30f3\u30b5\u30fc\u30ea\u30b9\u30c8\nULTRASONIC_SENSOR_LIST = [\"FrLH\", \"FrFR\", \"FrRH\"]\n\n# \u6e2c\u5b9a\u30d1\u30e9\u30e1\u30fc\u30bf\nSAMPLING_TIMES = 3          # \u30b5\u30f3\u30d7\u30ea\u30f3\u30b0\u56de\u6570\nCUTOFF_RANGE = 2000         # \u30ab\u30c3\u30c8\u30aa\u30d5\u8ddd\u96e2(mm)\nDETECTION_RANGE = 500       # \u691c\u77e5\u7bc4\u56f2(mm)\nSTOP_RANGE = 100            # \u505c\u6b62\u8ddd\u96e2(mm)\nRIGHT_LEFT_RANGE = 400      # \u5de6\u53f3\u5224\u65ad\u8ddd\u96e2(mm)\n</code></pre>"},{"location":"basics/config/#_8","title":"\u30ab\u30e1\u30e9","text":"<pre><code># \u30ab\u30e1\u30e9\u8a2d\u5b9a\nHAVE_CAMERA = True\nCAMERA_WIDTH = 224\nCAMERA_HEIGHT = 224\nCAMERA_FPS = 30\n</code></pre>"},{"location":"basics/config/#_9","title":"\u30e2\u30fc\u30bf\u30fc\u8a2d\u5b9a","text":""},{"location":"basics/config/#_10","title":"\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0","text":"<pre><code># \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u306ePWM\u5024\nSTEERING_CENTER_PWM = 370\nSTEERING_WIDTH_PWM = 80\nSTEERING_RIGHT_PWM = STEERING_CENTER_PWM + STEERING_WIDTH_PWM\nSTEERING_LEFT_PWM = STEERING_CENTER_PWM - STEERING_WIDTH_PWM\n</code></pre>"},{"location":"basics/config/#_11","title":"\u30b9\u30ed\u30c3\u30c8\u30eb","text":"<pre><code># \u30b9\u30ed\u30c3\u30c8\u30eb\u306ePWM\u5024\nTHROTTLE_STOPPED_PWM = 370\nTHROTTLE_FORWARD_PWM = 500\nTHROTTLE_REVERSE_PWM = 300\n</code></pre>"},{"location":"basics/config/#_12","title":"\u51fa\u529b\u5024","text":"<pre><code># \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u51fa\u529b\uff08-1\u301c1\uff09\nLEFT = -1\nNEUTRAL = 0\nRIGHT = 1\n\n# \u30b9\u30ed\u30c3\u30c8\u30eb\u51fa\u529b\uff08-1\u301c1\uff09\nFORWARD_S = 0.6       # \u30b9\u30c8\u30ec\u30fc\u30c8\u901f\u5ea6\nFORWARD_C = 0.4       # \u30ab\u30fc\u30d6\u901f\u5ea6\nSTOP = 0\nREVERSE = -1\n</code></pre>"},{"location":"basics/config/#_13","title":"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u8a2d\u5b9a","text":"<pre><code># \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u30bf\u30a4\u30d7\nCONTROLLER_TYPE = \"joystick\"  # \"joystick\", \"pwm\", \"keyboard\"\n\n# \u30b8\u30e7\u30a4\u30b9\u30c6\u30a3\u30c3\u30af\u8a2d\u5b9a\nHAVE_JOYSTICK = True\nJOYSTICK_STEERING_SCALE = 1.0\nJOYSTICK_THROTTLE_SCALE = -1.0\nJOYSTICK_DEVICE_FILE = \"/dev/input/js0\"\n\n# \u30dc\u30bf\u30f3\u5272\u308a\u5f53\u3066\nJOYSTICK_A = 0\nJOYSTICK_B = 1\nJOYSTICK_X = 2\nJOYSTICK_Y = 3\nJOYSTICK_S = 7\n\n# \u8ef8\u5272\u308a\u5f53\u3066\nJOYSTICK_AXIS_LEFT = 0\nJOYSTICK_AXIS_RIGHT = 4\n</code></pre>"},{"location":"basics/config/#pid","title":"PID\u5236\u5fa1\u8a2d\u5b9a","text":"<pre><code># \u58c1\u6cbf\u3044\u8d70\u884c\nHAND_SIDE = \"right\"   # \"left\", \"right\"\nTARGET_RANGE = 200    # \u76ee\u6a19\u8ddd\u96e2(mm)\n\n# PID\u30d1\u30e9\u30e1\u30fc\u30bf\nK_P = 0.005\nK_I = 0.0\nK_D = 0.0005\n</code></pre>"},{"location":"basics/config/#_14","title":"\u6a5f\u68b0\u5b66\u7fd2\u8a2d\u5b9a","text":"<pre><code># NN\u6709\u52b9\u5316\nHAVE_NN = True\n\n# \u30e2\u30c7\u30eb\u30d1\u30b9\nMODEL_DIR = \"models\"\nMODEL_NAME = \"model.pth\"\nMODEL_PATH = os.path.join(MODEL_DIR, MODEL_NAME)\n\n# \u30cf\u30a4\u30d1\u30fc\u30d1\u30e9\u30e1\u30fc\u30bf\nHIDDEN_DIM = 64\nNUM_HIDDEN_LAYERS = 3\nBATCH_SIZE = 8\nEPOCHS = 5\n\n# \u63a8\u8ad6\u30a8\u30f3\u30b8\u30f3\nINFERENCE_ENGINE = \"pytorch\"  # \"tensorrt\", \"openvino\"\n\n# \u6b63\u898f\u5316\nNORMALIZE_RANGE = 2000\n</code></pre>"},{"location":"basics/config/#_15","title":"\u30c7\u30fc\u30bf\u4fdd\u5b58\u8a2d\u5b9a","text":"<pre><code># \u4fdd\u5b58\u5f62\u5f0f\nSAVE_FORMAT = \"donkeycar\"  # \"csv\", \"donkeycar\"\n\n# \u4fdd\u5b58\u5148\nDATA_DIR = \"data\"\n\n# \u7d42\u4e86\u6642\u306b\u8a18\u9332\u30d5\u30a9\u30eb\u30c0\u3092\u81ea\u52d5\u3067zip\u5727\u7e2e\u3059\u308b\nAUTO_ZIP_ON_EXIT = True  # False \u3067\u7121\u52b9\u5316\n</code></pre>"},{"location":"basics/config/#_16","title":"\u5fa9\u5e30\u30e2\u30fc\u30c9\u8a2d\u5b9a","text":"<pre><code># \u5fa9\u5e30\u30e2\u30fc\u30c9\nRECOVERY_MODE = \"back\"        # \"none\", \"back\"\nRECOVERY_STREERING = LEFT\nRECOVERY_TIME_DURATION = 1    # \u79d2\nRECOVERY_BRAKING = 1\n</code></pre>"},{"location":"basics/config/#i2c","title":"I2C\u8a2d\u5b9a\uff08\u30d7\u30ed\u30dd\u7528\uff09","text":"<pre><code># PWM\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\nPWM_I2C_ADDRESS = 0x08\nPWM_I2C_BUS = 7               # Jetson: 7, RPi: 1\n\n# \u30ad\u30e3\u30ea\u30d6\u30ec\u30fc\u30b7\u30e7\u30f3\u5024\nPWM_CH1_LEFT_RAW = 1098\nPWM_CH1_CENTER_RAW = 1519\nPWM_CH1_RIGHT_RAW = 1916\nPWM_CH2_FORWARD_RAW = 1896\nPWM_CH2_NEUTRAL_RAW = 1468\nPWM_CH2_REVERSE_RAW = 1098\n</code></pre>"},{"location":"basics/config/#_17","title":"\u958b\u767a\u8005\u5411\u3051: \u30b3\u30fc\u30c9\u89e3\u8aac","text":""},{"location":"basics/config/#_18","title":"\u30c7\u30d0\u30a4\u30b9\u81ea\u52d5\u691c\u51fa","text":"<p>\u5b9f\u884c\u74b0\u5883\u306b\u5fdc\u3058\u3066\u9069\u5207\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3084\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u81ea\u52d5\u9078\u629e\u3057\u307e\u3059\u3002</p>"},{"location":"basics/config/#detect_device_type","title":"<code>detect_device_type</code> \u95a2\u6570","text":"<pre><code>import os\nimport platform\n\ndef detect_device_type() -&gt; str:\n    \"\"\"\n    \u5b9f\u884c\u30c7\u30d0\u30a4\u30b9\u3092\u81ea\u52d5\u691c\u51fa\n\n    Returns:\n        str: \"rpi4\", \"rpi5\", \"jetson\", \"unknown\" \u306e\u3044\u305a\u308c\u304b\n    \"\"\"\n    # /proc/device-tree/model \u304b\u3089\u30c7\u30d0\u30a4\u30b9\u60c5\u5831\u3092\u53d6\u5f97\n    model_path = '/proc/device-tree/model'\n\n    if not os.path.exists(model_path):\n        return \"unknown\"\n\n    try:\n        with open(model_path, 'r') as f:\n            model = f.read().lower()\n\n        if 'raspberry pi 5' in model:\n            return \"rpi5\"\n        elif 'raspberry pi 4' in model:\n            return \"rpi4\"\n        elif 'raspberry pi' in model:\n            return \"rpi4\"  # 3\u4ee5\u524d\u30824\u3068\u540c\u3058\u6271\u3044\n        elif 'jetson' in model or 'orin' in model:\n            return \"jetson\"\n        else:\n            return \"unknown\"\n\n    except Exception:\n        return \"unknown\"\n\n\ndef get_gpio_library(device_type: str):\n    \"\"\"\n    \u30c7\u30d0\u30a4\u30b9\u306b\u5fdc\u3058\u305fGPIO\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u53d6\u5f97\n\n    Args:\n        device_type: \u30c7\u30d0\u30a4\u30b9\u30bf\u30a4\u30d7\n\n    Returns:\n        GPIO\u30e9\u30a4\u30d6\u30e9\u30ea\u30e2\u30b8\u30e5\u30fc\u30eb\n    \"\"\"\n    if device_type == \"rpi5\":\n        from gpiozero import DigitalOutputDevice, DigitalInputDevice\n        return \"gpiozero\"\n    elif device_type in (\"rpi4\", \"rpi3\"):\n        import RPi.GPIO as GPIO\n        return GPIO\n    elif device_type == \"jetson\":\n        import Jetson.GPIO as GPIO\n        return GPIO\n    else:\n        raise RuntimeError(f\"Unsupported device: {device_type}\")\n</code></pre>"},{"location":"basics/config/#_19","title":"\u30c7\u30d0\u30a4\u30b9\u5225\u306e\u5dee\u7570","text":"\u9805\u76ee Raspberry Pi 4 Raspberry Pi 5 Jetson Orin Nano GPIO\u30e9\u30a4\u30d6\u30e9\u30ea <code>RPi.GPIO</code> <code>gpiozero</code> <code>Jetson.GPIO</code> I2C\u30d0\u30b9 1 1 7 PWM\u51fa\u529b \u30bd\u30d5\u30c8\u30a6\u30a7\u30a2 \u30cf\u30fc\u30c9\u30a6\u30a7\u30a2 \u30cf\u30fc\u30c9\u30a6\u30a7\u30a2"},{"location":"basics/config/#_20","title":"\u8a2d\u5b9a\u5024\u306e\u691c\u8a3c","text":"<p>\u8a2d\u5b9a\u5024\u304c\u9069\u5207\u306a\u7bc4\u56f2\u5185\u304b\u3092\u691c\u8a3c\u3057\u307e\u3059\u3002</p>"},{"location":"basics/config/#configvalidator","title":"<code>ConfigValidator</code> \u30af\u30e9\u30b9","text":"<pre><code>from dataclasses import dataclass\nfrom typing import Any, Optional\n\n@dataclass\nclass ValidationResult:\n    \"\"\"\u691c\u8a3c\u7d50\u679c\"\"\"\n    is_valid: bool\n    message: str\n    corrected_value: Optional[Any] = None\n\n\nclass ConfigValidator:\n    \"\"\"\u8a2d\u5b9a\u5024\u691c\u8a3c\u30af\u30e9\u30b9\"\"\"\n\n    @staticmethod\n    def validate_pwm(value: int, name: str, min_val: int = 100, max_val: int = 600) -&gt; ValidationResult:\n        \"\"\"\n        PWM\u5024\u3092\u691c\u8a3c\n\n        Args:\n            value: \u691c\u8a3c\u5bfe\u8c61\u306e\u5024\n            name: \u8a2d\u5b9a\u9805\u76ee\u540d\n            min_val: \u6700\u5c0f\u8a31\u5bb9\u5024\n            max_val: \u6700\u5927\u8a31\u5bb9\u5024\n\n        Returns:\n            ValidationResult: \u691c\u8a3c\u7d50\u679c\n        \"\"\"\n        if not isinstance(value, int):\n            return ValidationResult(False, f\"{name}\u306f\u6574\u6570\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\", int(value))\n\n        if value &lt; min_val or value &gt; max_val:\n            corrected = max(min_val, min(max_val, value))\n            return ValidationResult(\n                False,\n                f\"{name}={value}\u306f\u7bc4\u56f2\u5916\u3067\u3059\uff08{min_val}-{max_val}\uff09\",\n                corrected\n            )\n\n        return ValidationResult(True, \"OK\")\n\n    @staticmethod\n    def validate_normalized(value: float, name: str) -&gt; ValidationResult:\n        \"\"\"\n        \u6b63\u898f\u5316\u5024\uff08-1\u301c1\uff09\u3092\u691c\u8a3c\n\n        Args:\n            value: \u691c\u8a3c\u5bfe\u8c61\u306e\u5024\n            name: \u8a2d\u5b9a\u9805\u76ee\u540d\n\n        Returns:\n            ValidationResult: \u691c\u8a3c\u7d50\u679c\n        \"\"\"\n        if not isinstance(value, (int, float)):\n            return ValidationResult(False, f\"{name}\u306f\u6570\u5024\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\", 0.0)\n\n        if value &lt; -1.0 or value &gt; 1.0:\n            corrected = max(-1.0, min(1.0, float(value)))\n            return ValidationResult(\n                False,\n                f\"{name}={value}\u306f\u7bc4\u56f2\u5916\u3067\u3059\uff08-1.0\u301c1.0\uff09\",\n                corrected\n            )\n\n        return ValidationResult(True, \"OK\")\n\n    @staticmethod\n    def validate_positive(value: float, name: str) -&gt; ValidationResult:\n        \"\"\"\n        \u6b63\u306e\u5024\u3092\u691c\u8a3c\n\n        Args:\n            value: \u691c\u8a3c\u5bfe\u8c61\u306e\u5024\n            name: \u8a2d\u5b9a\u9805\u76ee\u540d\n\n        Returns:\n            ValidationResult: \u691c\u8a3c\u7d50\u679c\n        \"\"\"\n        if value &lt;= 0:\n            return ValidationResult(False, f\"{name}\u306f\u6b63\u306e\u5024\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\", abs(value))\n\n        return ValidationResult(True, \"OK\")\n\n\ndef validate_config(config_module) -&gt; list[ValidationResult]:\n    \"\"\"\n    config.py\u306e\u5168\u8a2d\u5b9a\u3092\u691c\u8a3c\n\n    Args:\n        config_module: config\u30e2\u30b8\u30e5\u30fc\u30eb\n\n    Returns:\n        list[ValidationResult]: \u691c\u8a3c\u7d50\u679c\u306e\u30ea\u30b9\u30c8\n    \"\"\"\n    validator = ConfigValidator()\n    results = []\n\n    # PWM\u5024\u306e\u691c\u8a3c\n    results.append(validator.validate_pwm(\n        config_module.STEERING_CENTER_PWM, \"STEERING_CENTER_PWM\"))\n    results.append(validator.validate_pwm(\n        config_module.THROTTLE_STOPPED_PWM, \"THROTTLE_STOPPED_PWM\"))\n\n    # \u901f\u5ea6\u8a2d\u5b9a\u306e\u691c\u8a3c\n    results.append(validator.validate_normalized(\n        config_module.FORWARD_STRAIGHT, \"FORWARD_STRAIGHT\"))\n    results.append(validator.validate_normalized(\n        config_module.FORWARD_CORNER, \"FORWARD_CORNER\"))\n\n    # PID\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u691c\u8a3c\n    results.append(validator.validate_positive(\n        config_module.K_P, \"K_P\"))\n\n    return [r for r in results if not r.is_valid]\n</code></pre>"},{"location":"basics/config/#_21","title":"\u4f7f\u7528\u4f8b","text":"<pre><code>import config\n\nerrors = validate_config(config)\nif errors:\n    print(\"\u8a2d\u5b9a\u30a8\u30e9\u30fc:\")\n    for error in errors:\n        print(f\"  - {error.message}\")\n        if error.corrected_value is not None:\n            print(f\"    \u63a8\u5968\u5024: {error.corrected_value}\")\n</code></pre>"},{"location":"basics/config/#_22","title":"\u74b0\u5883\u5909\u6570\u3068\u306e\u9023\u643a","text":"<p>\u672c\u756a\u74b0\u5883\u3068\u958b\u767a\u74b0\u5883\u3067\u8a2d\u5b9a\u3092\u5207\u308a\u66ff\u3048\u307e\u3059\u3002</p>"},{"location":"basics/config/#_23","title":"\u74b0\u5883\u5909\u6570\u306b\u3088\u308b\u4e0a\u66f8\u304d","text":"<pre><code>import os\n\ndef get_config_value(key: str, default: Any, value_type: type = str) -&gt; Any:\n    \"\"\"\n    \u74b0\u5883\u5909\u6570\u3067\u8a2d\u5b9a\u5024\u3092\u4e0a\u66f8\u304d\u53ef\u80fd\u306b\u3059\u308b\n\n    Args:\n        key: \u8a2d\u5b9a\u30ad\u30fc\u540d\n        default: \u30c7\u30d5\u30a9\u30eb\u30c8\u5024\n        value_type: \u5024\u306e\u578b\uff08str, int, float, bool\uff09\n\n    Returns:\n        \u8a2d\u5b9a\u5024\uff08\u74b0\u5883\u5909\u6570\u304c\u3042\u308c\u3070\u305d\u306e\u5024\u3001\u306a\u3051\u308c\u3070\u30c7\u30d5\u30a9\u30eb\u30c8\uff09\n    \"\"\"\n    env_key = f\"TOGIKAI_{key}\"\n    env_value = os.environ.get(env_key)\n\n    if env_value is None:\n        return default\n\n    if value_type == bool:\n        return env_value.lower() in ('true', '1', 'yes')\n    elif value_type == int:\n        return int(env_value)\n    elif value_type == float:\n        return float(env_value)\n    else:\n        return env_value\n\n\n# config.py \u3067\u306e\u4f7f\u7528\u4f8b\nPLAN = get_config_value(\"PLAN\", \"donkeycar\")\nFORWARD_STRAIGHT = get_config_value(\"FORWARD_STRAIGHT\", 0.4, float)\nHAVE_CAMERA = get_config_value(\"HAVE_CAMERA\", True, bool)\n</code></pre>"},{"location":"basics/config/#_24","title":"\u74b0\u5883\u5909\u6570\u306e\u8a2d\u5b9a\u65b9\u6cd5","text":"<pre><code># \u4e00\u6642\u7684\u306a\u8a2d\u5b9a\uff08\u73fe\u5728\u306e\u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u307f\uff09\nexport TOGIKAI_PLAN=\"manual\"\nexport TOGIKAI_FORWARD_STRAIGHT=\"0.3\"\n\n# \u6c38\u7d9a\u7684\u306a\u8a2d\u5b9a\uff08.bashrc\u306b\u8ffd\u52a0\uff09\necho 'export TOGIKAI_PLAN=\"manual\"' &gt;&gt; ~/.bashrc\n\n# \u5b9f\u884c\u6642\u306b\u6307\u5b9a\nTOGIKAI_PLAN=\"nn\" python run.py\n</code></pre> \u74b0\u5883\u5909\u6570 \u5bfe\u5fdc\u3059\u308bconfig \u7528\u9014 <code>TOGIKAI_PLAN</code> <code>PLAN</code> \u8d70\u884c\u30e2\u30fc\u30c9\u5207\u308a\u66ff\u3048 <code>TOGIKAI_FORWARD_STRAIGHT</code> <code>FORWARD_STRAIGHT</code> \u901f\u5ea6\u8abf\u6574 <code>TOGIKAI_HAVE_CAMERA</code> <code>HAVE_CAMERA</code> \u30ab\u30e1\u30e9\u6709\u52b9/\u7121\u52b9 <code>TOGIKAI_MODEL_NAME</code> <code>MODEL_NAME</code> \u30e2\u30c7\u30eb\u30d5\u30a1\u30a4\u30eb\u6307\u5b9a"},{"location":"basics/controllers/","title":"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u8a2d\u5b9a","text":"<p>\u8eca\u4e21\u306e\u64cd\u4f5c\u306b\u306f\u3001\u4ee5\u4e0b\u306e3\u7a2e\u985e\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"basics/controllers/#_2","title":"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u30bf\u30a4\u30d7\u306e\u9078\u629e","text":"<p>config.py\u3067\u4f7f\u7528\u3059\u308b\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u3092\u6307\u5b9a\u3057\u307e\u3059\uff1a</p> <pre><code># \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u30bf\u30a4\u30d7\u306e\u9078\u629e\nCONTROLLER_TYPE = \"joystick\"  # \"joystick\", \"pwm\", \"keyboard\"\n</code></pre>"},{"location":"basics/controllers/#1","title":"1. \u30b8\u30e7\u30a4\u30b9\u30c6\u30a3\u30c3\u30af/\u30b2\u30fc\u30e0\u30d1\u30c3\u30c9\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\uff09","text":"<p>USB\u30b2\u30fc\u30e0\u30d1\u30c3\u30c9\uff08\u4f8b\uff1aLogicool F710\uff09\u3092\u4f7f\u7528\u3057\u3066\u8eca\u4e21\u3092\u64cd\u4f5c\u3057\u307e\u3059\u3002</p>"},{"location":"basics/controllers/#logicool-f710","title":"\u30dc\u30bf\u30f3\u914d\u7f6e\uff08Logicool F710\u306e\u4f8b\uff09","text":"<pre><code>        [LB]              [RB]\n         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n         \u2502                 \u2502\n    [\u2190\u2192] \u2502    [BACK] [S]   \u2502  [Y]\n    [\u2191\u2193] \u2502                 \u2502[X] [B]\n         \u2502   [LOGICOOL]    \u2502  [A]\n         \u2502                 \u2502\n         \u2502 [LSTICKB]       \u2502     [RSTICKB]\n         \u2502   (\u5de6)          \u2502       (\u53f3)\n         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"basics/controllers/#_3","title":"\u30b9\u30c6\u30a3\u30c3\u30af\u64cd\u4f5c","text":"\u30b9\u30c6\u30a3\u30c3\u30af \u64cd\u4f5c \u5de6\u30b9\u30c6\u30a3\u30c3\u30af\uff08\u5de6\u53f3\uff09 \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u64cd\u4f5c \u53f3\u30b9\u30c6\u30a3\u30c3\u30af\uff08\u4e0a\u4e0b\uff09 \u30b9\u30ed\u30c3\u30c8\u30eb\u64cd\u4f5c"},{"location":"basics/controllers/#_4","title":"\u30dc\u30bf\u30f3\u6a5f\u80fd","text":"\u30dc\u30bf\u30f3 \u6a5f\u80fd X \u30a2\u30af\u30bb\u30eb1\uff08\u4e00\u5b9a\u901f\u5ea61\uff1a\u76f4\u7dda\u7528\uff09 B \u30a2\u30af\u30bb\u30eb2\uff08\u4e00\u5b9a\u901f\u5ea62\uff1a\u30ab\u30fc\u30d6\u7528\uff09 A \u30d6\u30ec\u30fc\u30ad/\u5f8c\u9000 Y \u8a18\u9332\u958b\u59cb/\u505c\u6b62 S \u8d70\u884c\u30e2\u30fc\u30c9\u5207\u308a\u66ff\u3048\uff08user \u2192 auto_str \u2192 auto\uff09"},{"location":"basics/controllers/#_5","title":"\u8d70\u884c\u30e2\u30fc\u30c9\u306e\u5207\u308a\u66ff\u3048","text":"<p>S\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u8d70\u884c\u30e2\u30fc\u30c9\u304c\u5207\u308a\u66ff\u308f\u308a\u307e\u3059\uff1a</p> <pre><code>user \u2192 auto_str \u2192 auto \u2192 user \u2192 ...\n</code></pre> \u30e2\u30fc\u30c9 \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0 \u30b9\u30ed\u30c3\u30c8\u30eb \u7528\u9014 user \u624b\u52d5 \u624b\u52d5 \u30c7\u30fc\u30bf\u53ce\u96c6\u3001\u7df4\u7fd2 auto_str \u81ea\u52d5 \u624b\u52d5 \u30e2\u30c7\u30eb\u306e\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u3092\u30c6\u30b9\u30c8 auto \u81ea\u52d5 \u81ea\u52d5 \u5b8c\u5168\u81ea\u52d5\u8d70\u884c <p>\u30cf\u30f3\u30ba\u30aa\u30f3\u3067\u306e\u63a8\u5968\u624b\u9806</p> <ol> <li>user\u30e2\u30fc\u30c9\u3067\u30c7\u30fc\u30bf\u53ce\u96c6\uff08Y\u30dc\u30bf\u30f3\u3067\u8a18\u9332\u958b\u59cb/\u505c\u6b62\uff09</li> <li>data_viewer\u3067\u30c7\u30fc\u30bf\u78ba\u8a8d\u30fb\u5b66\u7fd2</li> <li>auto_str\u30e2\u30fc\u30c9\u3067\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u306e\u307f\u30c6\u30b9\u30c8</li> <li>\u554f\u984c\u306a\u3051\u308c\u3070auto\u30e2\u30fc\u30c9\u3067\u5b8c\u5168\u81ea\u52d5\u8d70\u884c</li> </ol>"},{"location":"basics/controllers/#configpy","title":"config.py\u8a2d\u5b9a","text":"<pre><code># \u30b8\u30e7\u30a4\u30b9\u30c6\u30a3\u30c3\u30af\u306e\u8a2d\u5b9a\nHAVE_JOYSTICK = True\nJOYSTICK_STEERING_SCALE = 1.0    # \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u611f\u5ea6\uff08-1.0\u3067\u53cd\u8ee2\uff09\nJOYSTICK_THROTTLE_SCALE = -1.0   # \u30b9\u30ed\u30c3\u30c8\u30eb\u611f\u5ea6\uff08-1.0\u3067\u53cd\u8ee2\uff09\nJOYSTICK_DEVICE_FILE = \"/dev/input/js0\"\n\n# \u30dc\u30bf\u30f3\u5272\u308a\u5f53\u3066\uff08F710\u306e\u5834\u5408\uff09\nJOYSTICK_A = 0  # \u30d6\u30ec\u30fc\u30ad\nJOYSTICK_B = 1  # \u30a2\u30af\u30bb\u30eb2\nJOYSTICK_X = 2  # \u30a2\u30af\u30bb\u30eb1\nJOYSTICK_Y = 3  # \u8a18\u9332\u505c\u6b62\u958b\u59cb\nJOYSTICK_S = 7  # \u81ea\u52d5/\u624b\u52d5\u8d70\u884c\u5207\u308a\u66ff\u3048\n\n# \u30b9\u30c6\u30a3\u30c3\u30af\u8ef8\u5272\u308a\u5f53\u3066\nJOYSTICK_AXIS_LEFT = 0   # \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\uff08\u5de6\u53f3\uff09\nJOYSTICK_AXIS_RIGHT = 4  # \u30b9\u30ed\u30c3\u30c8\u30eb\uff08\u4e0a\u4e0b\uff09\n\n# \u4e00\u5b9a\u901f\u5ea6\u306e\u8a2d\u5b9a\nFORWARD_STRAIGHT = 0.4  # \u30a2\u30af\u30bb\u30eb1\uff08X\u30dc\u30bf\u30f3\uff09\u306e\u901f\u5ea6\nFORWARD_CORNER = 0.3    # \u30a2\u30af\u30bb\u30eb2\uff08B\u30dc\u30bf\u30f3\uff09\u306e\u901f\u5ea6\n</code></pre> <p>\u4ed6\u306e\u30b2\u30fc\u30e0\u30d1\u30c3\u30c9\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408</p> <p>\u30dc\u30bf\u30f3\u756a\u53f7\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f\uff1a <pre><code>jstest /dev/input/js0\n</code></pre> \u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u3069\u306e\u756a\u53f7\u304c\u53cd\u5fdc\u3059\u308b\u304b\u78ba\u8a8d\u3057\u3001config.py\u306e\u5024\u3092\u5909\u66f4\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"basics/controllers/#2-pwm","title":"2. \u30d7\u30ed\u30dd\uff08PWM\u4fe1\u53f7\u5165\u529b\uff09","text":"<p>\u30d7\u30ed\u30dd\uff08\u9001\u4fe1\u6a5f\uff09\u304b\u3089\u306e\u4fe1\u53f7\u3092\u76f4\u63a5\u8aad\u307f\u53d6\u3063\u3066\u8eca\u4e21\u3092\u64cd\u4f5c\u3057\u307e\u3059\u3002</p>"},{"location":"basics/controllers/#_6","title":"\u6a5f\u80fd","text":"<ul> <li>I2C\u7d4c\u7531\u3067\u30d7\u30ed\u30dd\u306ePWM\u4fe1\u53f7\u3092\u8aad\u307f\u53d6\u308a</li> <li>\u30b8\u30e7\u30a4\u30b9\u30c6\u30a3\u30c3\u30af\u3068\u540c\u3058\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3067\u64cd\u4f5c\u5024\u3092\u63d0\u4f9b</li> <li>\u30ad\u30e3\u30ea\u30d6\u30ec\u30fc\u30b7\u30e7\u30f3\u6a5f\u80fd\u4ed8\u304d</li> </ul>"},{"location":"basics/controllers/#_7","title":"\u5fc5\u8981\u306a\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2","text":"<ul> <li>\u30d7\u30ed\u30dd\u9001\u4fe1\u6a5f\u30fb\u53d7\u4fe1\u6a5f</li> <li>I2C\u63a5\u7d9a\u53ef\u80fd\u306aPWM\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\uff08\u4f8b\uff1aSeeed Studio XIAO\uff09</li> </ul>"},{"location":"basics/controllers/#_8","title":"\u30ad\u30e3\u30ea\u30d6\u30ec\u30fc\u30b7\u30e7\u30f3","text":"<p>\u521d\u56de\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u6642\u306b\u3001\u30d7\u30ed\u30dd\u306e\u64cd\u4f5c\u7bc4\u56f2\u3092\u6e2c\u5b9a\u3057\u307e\u3059\uff1a</p> <pre><code># \u4eee\u60f3\u74b0\u5883\u3092\u6709\u52b9\u5316\nsource ~/venv/bin/activate\n\n# \u30ad\u30e3\u30ea\u30d6\u30ec\u30fc\u30b7\u30e7\u30f3\u30e2\u30fc\u30c9\u3067\u5b9f\u884c\npython3 pwm_controller.py calibrate\n# \u307e\u305f\u306f\u77ed\u7e2e\u5f62\npython3 pwm_controller.py c\n</code></pre> <p>\u64cd\u4f5c\u624b\u9806:</p> <ol> <li>\u30d7\u30ed\u30dd\u306e\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u3092\u5de6\u53f3\u306b\u6700\u5927\u307e\u3067\u52d5\u304b\u3059</li> <li>\u30b9\u30ed\u30c3\u30c8\u30eb\u3092\u524d\u9032\u30fb\u5f8c\u9000\u306b\u6700\u5927\u307e\u3067\u52d5\u304b\u3059</li> <li>\u5404\u4f4d\u7f6e\u30671\u301c2\u79d2\u9593\u4fdd\u6301</li> <li>Ctrl+C\u3067\u7d42\u4e86</li> </ol> <p>\u7d42\u4e86\u6642\u306b\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30ad\u30e3\u30ea\u30d6\u30ec\u30fc\u30b7\u30e7\u30f3\u7d50\u679c\u304c\u8868\u793a\u3055\u308c\u307e\u3059\uff1a</p> <pre><code>config.py\u306b\u8a2d\u5b9a\u3059\u308b\u5024:\nPWM_CH1_LEFT_RAW = 1098\nPWM_CH1_CENTER_RAW = 1519\nPWM_CH1_RIGHT_RAW = 1916\nPWM_CH2_FORWARD_RAW = 1896\nPWM_CH2_NEUTRAL_RAW = 1468\nPWM_CH2_REVERSE_RAW = 1098\n</code></pre>"},{"location":"basics/controllers/#configpy_1","title":"config.py\u8a2d\u5b9a","text":"<pre><code># \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u30bf\u30a4\u30d7\u306e\u9078\u629e\nCONTROLLER_TYPE = \"pwm\"  # joystick, pwm, keyboard\n\n# \u30d7\u30ed\u30ddPWM\u4fe1\u53f7\u8a2d\u5b9a\nPWM_I2C_ADDRESS = 0x08         # PWM\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u306eI2C\u30a2\u30c9\u30ec\u30b9\nPWM_I2C_BUS = 7                # I2C\u30d0\u30b9\u756a\u53f7\uff08Jetson: 7, RPi: 1\uff09\n\n# \u30ad\u30e3\u30ea\u30d6\u30ec\u30fc\u30b7\u30e7\u30f3\u5024\uff08\u4e0a\u8a18\u3067\u6e2c\u5b9a\u3057\u305f\u5024\u3092\u8a2d\u5b9a\uff09\nPWM_CH1_LEFT_RAW = 1098        # CH1: \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u5de6\u6700\u5927\nPWM_CH1_CENTER_RAW = 1519      # CH1: \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u4e2d\u592e\nPWM_CH1_RIGHT_RAW = 1916       # CH1: \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u53f3\u6700\u5927\nPWM_CH2_FORWARD_RAW = 1896     # CH2: \u30b9\u30ed\u30c3\u30c8\u30eb\u524d\u9032\u6700\u5927\nPWM_CH2_NEUTRAL_RAW = 1468     # CH2: \u30b9\u30ed\u30c3\u30c8\u30eb\u4e2d\u7acb\nPWM_CH2_REVERSE_RAW = 1098     # CH2: \u30b9\u30ed\u30c3\u30c8\u30eb\u5f8c\u9000\u6700\u5927\n</code></pre>"},{"location":"basics/controllers/#_9","title":"\u52d5\u4f5c\u78ba\u8a8d","text":"<pre><code># \u76e3\u8996\u30e2\u30fc\u30c9\uff08\u6b63\u898f\u5316\u3055\u308c\u305f\u5024+RAW\u5024\u3092\u8868\u793a\uff09\npython3 pwm_controller.py monitor\n\n# \u7c21\u6613\u30c6\u30b9\u30c8\u30e2\u30fc\u30c9\uff08\u6b63\u898f\u5316\u3055\u308c\u305f\u5024\u306e\u307f\u8868\u793a\uff09\npython3 pwm_controller.py test\n</code></pre> <p>I2C\u6a29\u9650\u306b\u3064\u3044\u3066</p> <p>I2C\u30c7\u30d0\u30a4\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u306b\u306f\u3001\u9069\u5207\u306a\u6a29\u9650\u304c\u5fc5\u8981\u3067\u3059\uff1a <pre><code>sudo usermod -aG i2c $USER\n# \u30ed\u30b0\u30a2\u30a6\u30c8/\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u53cd\u6620\n</code></pre></p> <p>\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0</p> <p>PWM\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u304c\u691c\u51fa\u3055\u308c\u306a\u3044\u5834\u5408\uff1a <pre><code># I2C\u30c7\u30d0\u30a4\u30b9\u3092\u78ba\u8a8d\nsudo i2cdetect -y -r 7  # Jetson Orin Nano\nsudo i2cdetect -y -r 1  # Raspberry Pi\n\n# 0x08\u306b\u30c7\u30d0\u30a4\u30b9\u304c\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\n</code></pre></p>"},{"location":"basics/controllers/#3","title":"3. \u30ad\u30fc\u30dc\u30fc\u30c9","text":"<p>\u30b8\u30e7\u30a4\u30b9\u30c6\u30a3\u30c3\u30af\u3084\u30d7\u30ed\u30dd\u304c\u4f7f\u7528\u3067\u304d\u306a\u3044\u5834\u5408\u3001\u30ad\u30fc\u30dc\u30fc\u30c9\u3067\u64cd\u4f5c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"basics/controllers/#_10","title":"\u4f7f\u7528\u65b9\u6cd5","text":"<p>config.py\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\uff1a</p> <pre><code># \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u30bf\u30a4\u30d7\u306e\u9078\u629e\nCONTROLLER_TYPE = \"keyboard\"  # joystick, pwm, keyboard\n</code></pre> <p>\u307e\u305f\u306f\u3001\u30de\u30cb\u30e5\u30a2\u30eb\u30d7\u30e9\u30f3\uff08<code>PLAN = \"manual\"</code>\uff09\u306e\u5834\u5408\u306f\u81ea\u52d5\u7684\u306b\u30ad\u30fc\u30dc\u30fc\u30c9\u30e2\u30fc\u30c9\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"basics/controllers/#_11","title":"\u30ad\u30fc\u914d\u7f6e","text":"<p>\u79fb\u52d5\u64cd\u4f5c:</p> \u30ad\u30fc \u64cd\u4f5c \u2191\uff08\u4e0a\u77e2\u5370\uff09 \u524d\u9032 \u2193\uff08\u4e0b\u77e2\u5370\uff09 \u5f8c\u9000 \u2190\uff08\u5de6\u77e2\u5370\uff09 \u5de6\u65cb\u56de \u2192\uff08\u53f3\u77e2\u5370\uff09 \u53f3\u65cb\u56de \u30b9\u30da\u30fc\u30b9\u30ad\u30fc \u505c\u6b62 <p>\u8a18\u9332\u64cd\u4f5c:</p> \u30ad\u30fc \u64cd\u4f5c R \u8a18\u9332\u958b\u59cb/\u505c\u6b62 <p>\u30e2\u30fc\u30c9\u5207\u308a\u66ff\u3048:</p> \u30ad\u30fc \u64cd\u4f5c M \u8d70\u884c\u30e2\u30fc\u30c9\u5207\u308a\u66ff\u3048\uff08user \u2192 auto_str \u2192 auto\uff09 <p>\u7d42\u4e86:</p> \u30ad\u30fc \u64cd\u4f5c Q \u307e\u305f\u306f ESC \u30d7\u30ed\u30b0\u30e9\u30e0\u7d42\u4e86 <p>\u30ad\u30fc\u30dc\u30fc\u30c9\u30e2\u30fc\u30c9\u306e\u5236\u9650</p> <ul> <li>\u30ad\u30fc\u30dc\u30fc\u30c9\u306f\u30aa\u30f3\u30aa\u30d5\u5165\u529b\u306e\u305f\u3081\u3001\u5fae\u7d30\u306a\u64cd\u4f5c\u304c\u3067\u304d\u307e\u305b\u3093</li> <li>\u30c7\u30fc\u30bf\u53ce\u96c6\u3084\u5b66\u7fd2\u7528\u306e\u8d70\u884c\u306b\u306f\u3001\u30b8\u30e7\u30a4\u30b9\u30c6\u30a3\u30c3\u30af\u307e\u305f\u306f\u30d7\u30ed\u30dd\u306e\u4f7f\u7528\u3092\u63a8\u5968\u3057\u307e\u3059</li> <li>\u30c6\u30b9\u30c8\u3084\u7c21\u6613\u7684\u306a\u52d5\u4f5c\u78ba\u8a8d\u306b\u306f\u5341\u5206\u4f7f\u7528\u3067\u304d\u307e\u3059</li> </ul>"},{"location":"basics/controllers/#_12","title":"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u306e\u6bd4\u8f03","text":"\u9805\u76ee \u30b8\u30e7\u30a4\u30b9\u30c6\u30a3\u30c3\u30af \u30d7\u30ed\u30dd \u30ad\u30fc\u30dc\u30fc\u30c9 \u4e3b\u306a\u5229\u70b9 \u30b3\u30de\u30f3\u30c9\u6570\u304c\u591a\u3044 \u7d30\u304b\u3044\u64cd\u4f5c\u304c\u53ef\u80fd \u624b\u8efd \u8a73\u7d30 \u8a18\u9332\u958b\u59cb/\u505c\u6b62\u3001\u30e2\u30fc\u30c9\u5207\u66ff\u3001\u4e00\u5b9a\u901f\u5ea6\u8d70\u884c\u306a\u3069\u591a\u6a5f\u80fd \u30a2\u30ca\u30ed\u30b0\u5165\u529b\u3067\u6ed1\u3089\u304b\u306a\u64cd\u4f5c USB\u30c7\u30d0\u30a4\u30b9\u4e0d\u8981\u3001\u3059\u3050\u306b\u4f7f\u3048\u308b \u63a8\u5968\u7528\u9014 \u5b66\u7fd2\u30fb\u958b\u767a\u5168\u822c \u7cbe\u5bc6\u8d70\u884c\u30fb\u30c7\u30fc\u30bf\u53ce\u96c6 \u30c6\u30b9\u30c8\u30fb\u30c7\u30e2"},{"location":"basics/controllers/#_13","title":"\u958b\u767a\u8005\u5411\u3051: \u30b3\u30fc\u30c9\u89e3\u8aac","text":""},{"location":"basics/controllers/#_14","title":"\u30b8\u30e7\u30a4\u30b9\u30c6\u30a3\u30c3\u30af\u5165\u529b\u51e6\u7406","text":"<p>Linux\u306e<code>evdev</code>\u3092\u4f7f\u7528\u3057\u3066\u30b8\u30e7\u30a4\u30b9\u30c6\u30a3\u30c3\u30af\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u8aad\u307f\u53d6\u308a\u307e\u3059\u3002</p>"},{"location":"basics/controllers/#joystickcontroller","title":"<code>JoystickController</code> \u30af\u30e9\u30b9","text":"<pre><code>import struct\nimport threading\nfrom typing import Callable\n\nclass JoystickController:\n    \"\"\"\u30b8\u30e7\u30a4\u30b9\u30c6\u30a3\u30c3\u30af\u5165\u529b\u5236\u5fa1\u30af\u30e9\u30b9\"\"\"\n\n    # \u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\n    JS_EVENT_BUTTON = 0x01\n    JS_EVENT_AXIS = 0x02\n\n    def __init__(self, device_path: str = \"/dev/input/js0\"):\n        \"\"\"\n        Args:\n            device_path: \u30b8\u30e7\u30a4\u30b9\u30c6\u30a3\u30c3\u30af\u30c7\u30d0\u30a4\u30b9\u306e\u30d1\u30b9\n        \"\"\"\n        self.device_path = device_path\n        self.axes = {}      # {\u8ef8\u756a\u53f7: \u5024}\n        self.buttons = {}   # {\u30dc\u30bf\u30f3\u756a\u53f7: \u72b6\u614b}\n        self.callbacks = {} # {\u30dc\u30bf\u30f3\u756a\u53f7: \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u95a2\u6570}\n        self._running = False\n\n    def start(self):\n        \"\"\"\u30a4\u30d9\u30f3\u30c8\u8aad\u307f\u53d6\u308a\u30b9\u30ec\u30c3\u30c9\u3092\u958b\u59cb\"\"\"\n        self._running = True\n        self._thread = threading.Thread(target=self._read_loop, daemon=True)\n        self._thread.start()\n\n    def stop(self):\n        \"\"\"\u30a4\u30d9\u30f3\u30c8\u8aad\u307f\u53d6\u308a\u3092\u505c\u6b62\"\"\"\n        self._running = False\n\n    def _read_loop(self):\n        \"\"\"\u30a4\u30d9\u30f3\u30c8\u8aad\u307f\u53d6\u308a\u30eb\u30fc\u30d7\"\"\"\n        with open(self.device_path, 'rb') as js:\n            while self._running:\n                # \u30a4\u30d9\u30f3\u30c8\u69cb\u9020\u4f53: timestamp(4) + value(2) + type(1) + number(1)\n                event = js.read(8)\n                if len(event) &lt; 8:\n                    continue\n\n                _, value, event_type, number = struct.unpack('IhBB', event)\n\n                if event_type == self.JS_EVENT_AXIS:\n                    # \u8ef8\u306e\u5024\u3092-1.0\u301c1.0\u306b\u6b63\u898f\u5316\n                    self.axes[number] = value / 32767.0\n\n                elif event_type == self.JS_EVENT_BUTTON:\n                    self.buttons[number] = bool(value)\n                    # \u30dc\u30bf\u30f3\u62bc\u4e0b\u6642\u306b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u5b9f\u884c\n                    if value and number in self.callbacks:\n                        self.callbacks[number]()\n\n    def get_axis(self, axis_number: int) -&gt; float:\n        \"\"\"\n        \u8ef8\u306e\u73fe\u5728\u5024\u3092\u53d6\u5f97\n\n        Args:\n            axis_number: \u8ef8\u756a\u53f7\n\n        Returns:\n            float: -1.0\u301c1.0\u306e\u5024\n        \"\"\"\n        return self.axes.get(axis_number, 0.0)\n\n    def get_button(self, button_number: int) -&gt; bool:\n        \"\"\"\n        \u30dc\u30bf\u30f3\u306e\u73fe\u5728\u72b6\u614b\u3092\u53d6\u5f97\n\n        Args:\n            button_number: \u30dc\u30bf\u30f3\u756a\u53f7\n\n        Returns:\n            bool: \u62bc\u3055\u308c\u3066\u3044\u308c\u3070True\n        \"\"\"\n        return self.buttons.get(button_number, False)\n\n    def register_callback(self, button_number: int, callback: Callable):\n        \"\"\"\n        \u30dc\u30bf\u30f3\u62bc\u4e0b\u6642\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u767b\u9332\n\n        Args:\n            button_number: \u30dc\u30bf\u30f3\u756a\u53f7\n            callback: \u5f15\u6570\u306a\u3057\u306e\u95a2\u6570\n        \"\"\"\n        self.callbacks[button_number] = callback\n</code></pre>"},{"location":"basics/controllers/#_15","title":"\u4f7f\u7528\u4f8b","text":"<pre><code>js = JoystickController(\"/dev/input/js0\")\njs.register_callback(3, lambda: print(\"Y\u30dc\u30bf\u30f3\u62bc\u4e0b\uff01\"))  # \u8a18\u9332\u958b\u59cb/\u505c\u6b62\njs.start()\n\nwhile True:\n    steering = js.get_axis(0)   # \u5de6\u30b9\u30c6\u30a3\u30c3\u30af\u5de6\u53f3\n    throttle = js.get_axis(4)   # \u53f3\u30b9\u30c6\u30a3\u30c3\u30af\u4e0a\u4e0b\n    print(f\"Steering: {steering:.2f}, Throttle: {throttle:.2f}\")\n    time.sleep(0.05)\n</code></pre>"},{"location":"basics/controllers/#_16","title":"\u30c7\u30c3\u30c9\u30be\u30fc\u30f3\u51e6\u7406","text":"<p>\u30b9\u30c6\u30a3\u30c3\u30af\u306e\u4e2d\u592e\u4ed8\u8fd1\u306e\u30ce\u30a4\u30ba\u3092\u9664\u53bb\u3057\u3001\u6ed1\u3089\u304b\u306a\u5165\u529b\u3092\u5b9f\u73fe\u3057\u307e\u3059\u3002</p>"},{"location":"basics/controllers/#apply_deadzone","title":"<code>apply_deadzone</code> \u95a2\u6570","text":"<pre><code>def apply_deadzone(value: float, deadzone: float = 0.05) -&gt; float:\n    \"\"\"\n    \u30c7\u30c3\u30c9\u30be\u30fc\u30f3\u3092\u9069\u7528\n\n    Args:\n        value: \u5165\u529b\u5024\uff08-1.0\u301c1.0\uff09\n        deadzone: \u30c7\u30c3\u30c9\u30be\u30fc\u30f3\u5e45\uff080.0\u301c1.0\uff09\u3002\u30c7\u30d5\u30a9\u30eb\u30c80.05\n\n    Returns:\n        float: \u30c7\u30c3\u30c9\u30be\u30fc\u30f3\u9069\u7528\u5f8c\u306e\u5024\uff08-1.0\u301c1.0\uff09\n    \"\"\"\n    if abs(value) &lt; deadzone:\n        return 0.0\n\n    # \u30c7\u30c3\u30c9\u30be\u30fc\u30f3\u5916\u306e\u5024\u30920\u301c1\u306b\u30ea\u30de\u30c3\u30d7\n    sign = 1 if value &gt; 0 else -1\n    return sign * (abs(value) - deadzone) / (1.0 - deadzone)\n\n\ndef apply_smoothing(current: float, target: float, factor: float = 0.3) -&gt; float:\n    \"\"\"\n    \u6307\u6570\u79fb\u52d5\u5e73\u5747\u306b\u3088\u308b\u30b9\u30e0\u30fc\u30b8\u30f3\u30b0\n\n    Args:\n        current: \u73fe\u5728\u306e\u5024\n        target: \u76ee\u6a19\u5024\n        factor: \u30b9\u30e0\u30fc\u30b8\u30f3\u30b0\u4fc2\u6570\uff080.0\u301c1.0\uff09\u3002\u5927\u304d\u3044\u307b\u3069\u8ffd\u5f93\u304c\u901f\u3044\n\n    Returns:\n        float: \u30b9\u30e0\u30fc\u30b8\u30f3\u30b0\u5f8c\u306e\u5024\n    \"\"\"\n    return current + factor * (target - current)\n</code></pre>"},{"location":"basics/controllers/#_17","title":"\u30c7\u30c3\u30c9\u30be\u30fc\u30f3\u306e\u52b9\u679c","text":"<pre><code>\u5165\u529b\u5024:     -1.0  -0.5  -0.05  0.0  0.05  0.5  1.0\n                          \u2193\u30c7\u30c3\u30c9\u30be\u30fc\u30f3\u2193\n\u9069\u7528\u5f8c:     -1.0  -0.47  0.0   0.0  0.0   0.47 1.0\n</code></pre>"},{"location":"basics/controllers/#pwmi2c","title":"PWM\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u306eI2C\u901a\u4fe1","text":"<p>\u30d7\u30ed\u30dd\u53d7\u4fe1\u6a5f\u304b\u3089\u306ePWM\u4fe1\u53f7\u3092I2C\u7d4c\u7531\u3067\u8aad\u307f\u53d6\u308a\u307e\u3059\u3002</p>"},{"location":"basics/controllers/#pwmcontroller","title":"<code>PWMController</code> \u30af\u30e9\u30b9","text":"<pre><code>import smbus2\n\nclass PWMController:\n    \"\"\"\u30d7\u30ed\u30ddPWM\u4fe1\u53f7\u8aad\u307f\u53d6\u308a\u30af\u30e9\u30b9\"\"\"\n\n    def __init__(self, i2c_bus: int = 7, address: int = 0x08):\n        \"\"\"\n        Args:\n            i2c_bus: I2C\u30d0\u30b9\u756a\u53f7\uff08Jetson: 7, RPi: 1\uff09\n            address: PWM\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u306eI2C\u30a2\u30c9\u30ec\u30b9\n        \"\"\"\n        self.bus = smbus2.SMBus(i2c_bus)\n        self.address = address\n\n        # \u30ad\u30e3\u30ea\u30d6\u30ec\u30fc\u30b7\u30e7\u30f3\u5024\n        self.ch1_min = 1098\n        self.ch1_center = 1519\n        self.ch1_max = 1916\n        self.ch2_min = 1098\n        self.ch2_center = 1468\n        self.ch2_max = 1896\n\n    def read_raw(self) -&gt; tuple[int, int]:\n        \"\"\"\n        RAW PWM\u5024\u3092\u8aad\u307f\u53d6\u308a\n\n        Returns:\n            tuple[int, int]: (CH1\u306eRAW\u5024, CH2\u306eRAW\u5024)\n        \"\"\"\n        # 4\u30d0\u30a4\u30c8\u8aad\u307f\u53d6\u308a\uff08CH1: 2byte, CH2: 2byte\uff09\n        data = self.bus.read_i2c_block_data(self.address, 0, 4)\n        ch1_raw = (data[0] &lt;&lt; 8) | data[1]\n        ch2_raw = (data[2] &lt;&lt; 8) | data[3]\n        return ch1_raw, ch2_raw\n\n    def read_normalized(self) -&gt; tuple[float, float]:\n        \"\"\"\n        \u6b63\u898f\u5316\u3055\u308c\u305f\u5024\u3092\u53d6\u5f97\n\n        Returns:\n            tuple[float, float]: (\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0, \u30b9\u30ed\u30c3\u30c8\u30eb) \u5404-1.0\u301c1.0\n        \"\"\"\n        ch1_raw, ch2_raw = self.read_raw()\n\n        steering = self._normalize(ch1_raw, self.ch1_min, self.ch1_center, self.ch1_max)\n        throttle = self._normalize(ch2_raw, self.ch2_min, self.ch2_center, self.ch2_max)\n\n        return steering, throttle\n\n    def _normalize(self, value: int, min_val: int, center: int, max_val: int) -&gt; float:\n        \"\"\"\n        RAW\u5024\u3092-1.0\u301c1.0\u306b\u6b63\u898f\u5316\n\n        Args:\n            value: RAW\u5024\n            min_val: \u6700\u5c0fRAW\u5024\n            center: \u4e2d\u592eRAW\u5024\n            max_val: \u6700\u5927RAW\u5024\n\n        Returns:\n            float: -1.0\u301c1.0\n        \"\"\"\n        if value &lt; center:\n            return -(center - value) / (center - min_val)\n        else:\n            return (value - center) / (max_val - center)\n\n    def calibrate(self, duration: float = 10.0) -&gt; dict:\n        \"\"\"\n        \u30ad\u30e3\u30ea\u30d6\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\n\n        Args:\n            duration: \u30ad\u30e3\u30ea\u30d6\u30ec\u30fc\u30b7\u30e7\u30f3\u6642\u9593\uff08\u79d2\uff09\n\n        Returns:\n            dict: \u30ad\u30e3\u30ea\u30d6\u30ec\u30fc\u30b7\u30e7\u30f3\u7d50\u679c\n        \"\"\"\n        ch1_values = []\n        ch2_values = []\n        start_time = time.time()\n\n        print(\"\u30b9\u30c6\u30a3\u30c3\u30af\u3092\u5404\u65b9\u5411\u306b\u6700\u5927\u307e\u3067\u52d5\u304b\u3057\u3066\u304f\u3060\u3055\u3044...\")\n\n        while time.time() - start_time &lt; duration:\n            ch1, ch2 = self.read_raw()\n            ch1_values.append(ch1)\n            ch2_values.append(ch2)\n            time.sleep(0.02)\n\n        return {\n            'ch1_min': min(ch1_values),\n            'ch1_max': max(ch1_values),\n            'ch2_min': min(ch2_values),\n            'ch2_max': max(ch2_values),\n        }\n</code></pre>"},{"location":"basics/controllers/#raw","title":"RAW\u5024\u3068\u6b63\u898f\u5316\u306e\u5bfe\u5fdc","text":"\u64cd\u4f5c RAW\u5024\u4f8b \u6b63\u898f\u5316\u5f8c \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u5de6\u6700\u5927 1098 -1.0 \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u4e2d\u592e 1519 0.0 \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u53f3\u6700\u5927 1916 1.0 \u30b9\u30ed\u30c3\u30c8\u30eb\u5f8c\u9000 1098 -1.0 \u30b9\u30ed\u30c3\u30c8\u30eb\u4e2d\u7acb 1468 0.0 \u30b9\u30ed\u30c3\u30c8\u30eb\u524d\u9032 1896 1.0"},{"location":"basics/motor/","title":"\u30e2\u30fc\u30bf\u30fc\u78ba\u8a8d","text":"<p>\u30e2\u30fc\u30bf\u30fc\uff08\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u30fb\u30b9\u30ed\u30c3\u30c8\u30eb\uff09\u306e\u52d5\u4f5c\u78ba\u8a8d\u3092\u884c\u3044\u307e\u3059\u3002</p>"},{"location":"basics/motor/#_2","title":"\u30e2\u30fc\u30bf\u30fc\u306e\u5024\u3092\u78ba\u8a8d\u3059\u308b","text":"<p>\u4fe1\u53f7\u5024\u306e\u6570\u5024\u3092\u5165\u308c\u3066Enter\u3092\u62bc\u3059\uff1a</p> <pre><code>python motor.py\n</code></pre>"},{"location":"basics/motor/#pwm","title":"\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u306ePWM\u5024\u3092\u63a2\u3059","text":"<ol> <li>\u771f\u3093\u4e2d - \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u304c\u307e\u3063\u3059\u3050\u306b\u306a\u308b\u5024</li> <li>\u5de6\u6700\u5927 - \u5de6\u3044\u3063\u3071\u3044\u306b\u5207\u3063\u305f\u5024</li> <li>\u53f3\u6700\u5927 - \u53f3\u3044\u3063\u3071\u3044\u306b\u5207\u3063\u305f\u5024</li> </ol>"},{"location":"basics/motor/#pwm_1","title":"\u30b9\u30ed\u30c3\u30c8\u30eb\u306ePWM\u5024\u3092\u63a2\u3059","text":"<ol> <li>\u30cb\u30e5\u30fc\u30c8\u30e9\u30eb - \u30e2\u30fc\u30bf\u30fc\u30c9\u30e9\u30a4\u30d0\u30fc\u304c\u30d4\u30c3\u30d4\u30c3\u30d4\u3068\u306a\u308b\u5024</li> <li>\u524d\u9032\u306e\u6700\u5927\u5024 - \u97f3\u304c\u5909\u308f\u3089\u306a\u304f\u306a\u308b\u3068\u3053\u308d</li> <li>\u5f8c\u9032\u306e\u6700\u5927\u5024 - \u97f3\u304c\u5909\u308f\u3089\u306a\u304f\u306a\u308b\u3068\u3053\u308d</li> </ol> <p>\u6ce8\u610f</p> <p>\u6975\u7aef\u306b\u5927\u304d\u306a/\u5c0f\u3055\u306a\u5024\u3092\u5165\u308c\u308b\u3068\u30e2\u30fc\u30bf\u30fc\u3092\u7834\u640d\u3059\u308b\u6050\u308c\u304c\u3042\u308b\u305f\u3081\u6ce8\u610f\uff01</p> <p>RC\u7528ESC\uff08\u30e2\u30fc\u30bf\u30fc\u30c9\u30e9\u30a4\u30d0\u30fc\uff09\u306e\u4ed5\u69d8</p> <ul> <li>\u591a\u304f\u306eRC\u7528ESC\u306f\u3001\u524d\u9032\u72b6\u614b\u304b\u3089\u76f4\u63a5\u30d0\u30c3\u30af\u3067\u304d\u307e\u305b\u3093</li> <li>\u30d0\u30c3\u30af\u3059\u308b\u306b\u306f\u3001\u4e00\u5ea6\u30cb\u30e5\u30fc\u30c8\u30e9\u30eb\u306b\u623b\u3057\u3066\u304b\u3089\u5f8c\u9032\u306ePWM\u5024\u3092\u5165\u529b</li> <li>ESC\u306e\u53d6\u6271\u8aac\u660e\u66f8\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044</li> </ul>"},{"location":"basics/motor/#configpy","title":"config.py\u306b\u5024\u3092\u4fdd\u5b58\u3059\u308b","text":"<p>\u8abf\u6574\u3057\u305f\u5024\u3092<code>config.py</code>\u306b\u4fdd\u5b58\u3057\u307e\u3059\uff1a</p> <pre><code>## \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u306ePWM\u5024\nSTEERING_CENTER_PWM = 370\nSTEERING_WIDTH_PWM = 80\nSTEERING_RIGHT_PWM = STEERING_CENTER_PWM + STEERING_WIDTH_PWM\nSTEERING_LEFT_PWM = STEERING_CENTER_PWM - STEERING_WIDTH_PWM\n\n## \u30b9\u30ed\u30c3\u30c8\u30eb\u306ePWM\u5024\nTHROTTLE_STOPPED_PWM = 370\nTHROTTLE_FORWARD_PWM = 500\nTHROTTLE_REVERSE_PWM = 300\n</code></pre>"},{"location":"basics/motor/#_3","title":"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0","text":""},{"location":"basics/motor/#_4","title":"\u30e2\u30fc\u30bf\u30fc\u304c\u52d5\u304b\u306a\u3044","text":"<ol> <li>\u96fb\u6e90\u304c\u5165\u3063\u3066\u3044\u308b\u304b\u78ba\u8a8d</li> <li>PWM\u5024\u304c\u9069\u5207\u306a\u7bc4\u56f2\u5185\u304b\u78ba\u8a8d</li> <li>ESC\u306e\u30ad\u30e3\u30ea\u30d6\u30ec\u30fc\u30b7\u30e7\u30f3\u304c\u5fc5\u8981\u306a\u5834\u5408\u304c\u3042\u308b</li> </ol>"},{"location":"basics/motor/#_5","title":"\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u304c\u9006\u306b\u52d5\u304f","text":"<p><code>STEERING_WIDTH_PWM</code>\u306e\u7b26\u53f7\u3092\u53cd\u8ee2\uff1a <pre><code>STEERING_WIDTH_PWM = -80\n</code></pre></p>"},{"location":"basics/motor/#_6","title":"\u30b9\u30ed\u30c3\u30c8\u30eb\u304c\u53cd\u5fdc\u3057\u306a\u3044","text":"<ol> <li>ESC\u304c\u30cb\u30e5\u30fc\u30c8\u30e9\u30eb\u4f4d\u7f6e\u3092\u8a8d\u8b58\u3057\u3066\u3044\u308b\u304b\u78ba\u8a8d</li> <li><code>THROTTLE_STOPPED_PWM</code>\u306e\u5024\u3092\u5fae\u8abf\u6574</li> </ol>"},{"location":"basics/motor/#_7","title":"\u958b\u767a\u8005\u5411\u3051: \u30b3\u30fc\u30c9\u89e3\u8aac","text":""},{"location":"basics/motor/#pca9685pwm","title":"PCA9685\u306b\u3088\u308bPWM\u51fa\u529b","text":"<p>PCA9685\u306fI2C\u63a5\u7d9a\u306e16\u30c1\u30e3\u30f3\u30cd\u30ebPWM\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3067\u3059\u3002</p>"},{"location":"basics/motor/#pca9685","title":"<code>PCA9685</code> \u30af\u30e9\u30b9","text":"<pre><code>import smbus2\n\nclass PCA9685:\n    \"\"\"PCA9685 PWM\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u5236\u5fa1\u30af\u30e9\u30b9\"\"\"\n\n    # \u30ec\u30b8\u30b9\u30bf\u30a2\u30c9\u30ec\u30b9\n    MODE1 = 0x00\n    PRESCALE = 0xFE\n    LED0_ON_L = 0x06\n\n    def __init__(self, i2c_bus: int = 1, address: int = 0x40):\n        \"\"\"\n        Args:\n            i2c_bus: I2C\u30d0\u30b9\u756a\u53f7\uff08RPi: 1, Jetson: 7\uff09\n            address: I2C\u30a2\u30c9\u30ec\u30b9\uff08\u30c7\u30d5\u30a9\u30eb\u30c8: 0x40\uff09\n        \"\"\"\n        self.bus = smbus2.SMBus(i2c_bus)\n        self.address = address\n        self._init_device()\n\n    def _init_device(self):\n        \"\"\"\u30c7\u30d0\u30a4\u30b9\u521d\u671f\u5316\uff0850Hz\u8a2d\u5b9a\uff09\"\"\"\n        # \u30b9\u30ea\u30fc\u30d7\u30e2\u30fc\u30c9\u306b\u8a2d\u5b9a\n        self.bus.write_byte_data(self.address, self.MODE1, 0x10)\n        # \u30d7\u30ea\u30b9\u30b1\u30fc\u30e9\u8a2d\u5b9a\uff0850Hz: 25MHz / (4096 * 50) - 1 \u2252 121\uff09\n        self.bus.write_byte_data(self.address, self.PRESCALE, 121)\n        # \u901a\u5e38\u30e2\u30fc\u30c9\u306b\u5fa9\u5e30\n        self.bus.write_byte_data(self.address, self.MODE1, 0x00)\n        time.sleep(0.005)\n\n    def set_pwm(self, channel: int, value: int):\n        \"\"\"\n        \u6307\u5b9a\u30c1\u30e3\u30f3\u30cd\u30eb\u306bPWM\u5024\u3092\u8a2d\u5b9a\n\n        Args:\n            channel: \u30c1\u30e3\u30f3\u30cd\u30eb\u756a\u53f7\uff080-15\uff09\n            value: PWM\u5024\uff080-4095\uff09\u3002\u30b5\u30fc\u30dc\u7528\u306f\u901a\u5e38200-500\u7a0b\u5ea6\n        \"\"\"\n        value = max(0, min(4095, value))\n        reg = self.LED0_ON_L + 4 * channel\n        self.bus.write_byte_data(self.address, reg, 0)       # ON_L\n        self.bus.write_byte_data(self.address, reg + 1, 0)   # ON_H\n        self.bus.write_byte_data(self.address, reg + 2, value &amp; 0xFF)  # OFF_L\n        self.bus.write_byte_data(self.address, reg + 3, value &gt;&gt; 8)    # OFF_H\n</code></pre>"},{"location":"basics/motor/#pwm_2","title":"PWM\u5024\u3068\u30d1\u30eb\u30b9\u5e45\u306e\u95a2\u4fc2","text":"<pre><code>PCA9685\u306f\u5468\u671f\u30924096\u5206\u5272\n\n50Hz = 20ms\u5468\u671f\n1\u30ab\u30a6\u30f3\u30c8 = 20ms / 4096 \u2252 4.88\u03bcs\n\nPWM\u5024370 \u2192 370 \u00d7 4.88\u03bcs \u2252 1.8ms\uff08\u4e2d\u592e\uff09\nPWM\u5024290 \u2192 290 \u00d7 4.88\u03bcs \u2252 1.4ms\uff08\u5de6\u6700\u5927\uff09\nPWM\u5024450 \u2192 450 \u00d7 4.88\u03bcs \u2252 2.2ms\uff08\u53f3\u6700\u5927\uff09\n</code></pre>"},{"location":"basics/motor/#pwm_3","title":"\u6b63\u898f\u5316\u5024\u304b\u3089PWM\u3078\u306e\u5909\u63db","text":""},{"location":"basics/motor/#actuator","title":"<code>Actuator</code> \u30af\u30e9\u30b9","text":"<pre><code>class Actuator:\n    \"\"\"\u30a2\u30af\u30c1\u30e5\u30a8\u30fc\u30bf\u5236\u5fa1\u30af\u30e9\u30b9\uff08\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u30fb\u30b9\u30ed\u30c3\u30c8\u30eb\uff09\"\"\"\n\n    def __init__(self, pca9685: PCA9685, channel: int,\n                 center_pwm: int, width_pwm: int):\n        \"\"\"\n        Args:\n            pca9685: PCA9685\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\n            channel: PWM\u30c1\u30e3\u30f3\u30cd\u30eb\u756a\u53f7\n            center_pwm: \u4e2d\u592e\u4f4d\u7f6e\u306ePWM\u5024\n            width_pwm: \u4e2d\u592e\u304b\u3089\u6700\u5927\u307e\u3067\u306e\u632f\u308c\u5e45\n        \"\"\"\n        self.pca9685 = pca9685\n        self.channel = channel\n        self.center_pwm = center_pwm\n        self.width_pwm = width_pwm\n\n    def set_value(self, normalized_value: float):\n        \"\"\"\n        \u6b63\u898f\u5316\u5024\uff08-1\u301c1\uff09\u3092\u8a2d\u5b9a\n\n        Args:\n            normalized_value: -1.0\uff08\u5de6/\u5f8c\u9000\uff09\u301c 1.0\uff08\u53f3/\u524d\u9032\uff09\n        \"\"\"\n        # \u7bc4\u56f2\u5236\u9650\n        normalized_value = max(-1.0, min(1.0, normalized_value))\n\n        # \u7dda\u5f62\u5909\u63db: PWM = center + (value \u00d7 width)\n        pwm_value = int(self.center_pwm + (normalized_value * self.width_pwm))\n\n        self.pca9685.set_pwm(self.channel, pwm_value)\n\n    def value_to_pwm(self, normalized_value: float) -&gt; int:\n        \"\"\"\n        \u6b63\u898f\u5316\u5024\u3092PWM\u5024\u306b\u5909\u63db\uff08\u30c7\u30d0\u30c3\u30b0\u7528\uff09\n\n        Args:\n            normalized_value: -1.0\u301c1.0\n\n        Returns:\n            int: PWM\u5024\n        \"\"\"\n        return int(self.center_pwm + (normalized_value * self.width_pwm))\n</code></pre>"},{"location":"basics/motor/#_8","title":"\u5909\u63db\u4f8b","text":"\u6b63\u898f\u5316\u5024 \u8a08\u7b97\u5f0f\uff08center=370, width=80\uff09 PWM\u5024 -1.0\uff08\u5de6\u6700\u5927\uff09 370 + (-1.0 \u00d7 80) 290 -0.5\uff08\u5de6\u534a\u5206\uff09 370 + (-0.5 \u00d7 80) 330 0.0\uff08\u4e2d\u592e\uff09 370 + (0.0 \u00d7 80) 370 0.5\uff08\u53f3\u534a\u5206\uff09 370 + (0.5 \u00d7 80) 410 1.0\uff08\u53f3\u6700\u5927\uff09 370 + (1.0 \u00d7 80) 450"},{"location":"basics/motor/#esc","title":"ESC\u30a2\u30fc\u30df\u30f3\u30b0\u30b7\u30fc\u30b1\u30f3\u30b9","text":"<p>ESC\uff08Electronic Speed Controller\uff09\u306f\u8d77\u52d5\u6642\u306b\u30cb\u30e5\u30fc\u30c8\u30e9\u30eb\u4f4d\u7f6e\u3092\u8a8d\u8b58\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"basics/motor/#esc_1","title":"<code>ESC</code> \u30af\u30e9\u30b9","text":"<pre><code>class ESC:\n    \"\"\"ESC\u5236\u5fa1\u30af\u30e9\u30b9\"\"\"\n\n    def __init__(self, pca9685: PCA9685, channel: int,\n                 neutral_pwm: int, forward_pwm: int, reverse_pwm: int):\n        \"\"\"\n        Args:\n            pca9685: PCA9685\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\n            channel: PWM\u30c1\u30e3\u30f3\u30cd\u30eb\u756a\u53f7\n            neutral_pwm: \u30cb\u30e5\u30fc\u30c8\u30e9\u30eb\u4f4d\u7f6e\u306ePWM\u5024\n            forward_pwm: \u524d\u9032\u6700\u5927\u306ePWM\u5024\n            reverse_pwm: \u5f8c\u9000\u6700\u5927\u306ePWM\u5024\n        \"\"\"\n        self.pca9685 = pca9685\n        self.channel = channel\n        self.neutral_pwm = neutral_pwm\n        self.forward_pwm = forward_pwm\n        self.reverse_pwm = reverse_pwm\n        self.is_armed = False\n\n    def arm(self) -&gt; bool:\n        \"\"\"\n        ESC\u3092\u30a2\u30fc\u30df\u30f3\u30b0\uff08\u521d\u671f\u5316\uff09\n\n        Returns:\n            bool: \u30a2\u30fc\u30df\u30f3\u30b0\u6210\u529f\u6642True\n        \"\"\"\n        # \u30cb\u30e5\u30fc\u30c8\u30e9\u30eb\u4f4d\u7f6e\u3092\u9001\u4fe1\u3057\u3066ESC\u3092\u521d\u671f\u5316\n        self.pca9685.set_pwm(self.channel, self.neutral_pwm)\n        time.sleep(2.0)  # ESC\u304c\u30cb\u30e5\u30fc\u30c8\u30e9\u30eb\u3092\u8a8d\u8b58\u3059\u308b\u307e\u3067\u5f85\u6a5f\n\n        # \u30d4\u30c3\u30d4\u30c3\u30d4\u97f3\u304c\u9cf4\u308c\u3070\u30a2\u30fc\u30df\u30f3\u30b0\u5b8c\u4e86\n        self.is_armed = True\n        return True\n\n    def set_throttle(self, value: float):\n        \"\"\"\n        \u30b9\u30ed\u30c3\u30c8\u30eb\u5024\u3092\u8a2d\u5b9a\n\n        Args:\n            value: -1.0\uff08\u5f8c\u9000\uff09\u301c 0.0\uff08\u505c\u6b62\uff09\u301c 1.0\uff08\u524d\u9032\uff09\n        \"\"\"\n        if not self.is_armed:\n            raise RuntimeError(\"ESC is not armed\")\n\n        value = max(-1.0, min(1.0, value))\n\n        if value &gt;= 0:\n            # \u524d\u9032: neutral \u2192 forward \u306e\u7bc4\u56f2\n            pwm = self.neutral_pwm + int(value * (self.forward_pwm - self.neutral_pwm))\n        else:\n            # \u5f8c\u9000: neutral \u2192 reverse \u306e\u7bc4\u56f2\n            pwm = self.neutral_pwm + int(value * (self.neutral_pwm - self.reverse_pwm))\n\n        self.pca9685.set_pwm(self.channel, pwm)\n</code></pre>"},{"location":"basics/motor/#_9","title":"\u30a2\u30fc\u30df\u30f3\u30b0\u30b7\u30fc\u30b1\u30f3\u30b9","text":"<pre><code>\u96fb\u6e90ON \u2192 \u30cb\u30e5\u30fc\u30c8\u30e9\u30ebPWM\u9001\u4fe1 \u2192 2\u79d2\u5f85\u6a5f \u2192 \u30d4\u30c3\u30d4\u30c3\u30d4\u97f3 \u2192 \u64cd\u4f5c\u53ef\u80fd\n\n\u6ce8\u610f: \u591a\u304f\u306eRC\u7528ESC\u306f\u524d\u9032\u2192\u5f8c\u9000\u306e\u76f4\u63a5\u5207\u308a\u66ff\u3048\u4e0d\u53ef\n      \u524d\u9032 \u2192 \u30cb\u30e5\u30fc\u30c8\u30e9\u30eb \u2192 \u5f8c\u9000 \u306e\u9806\u5e8f\u304c\u5fc5\u8981\n</code></pre>"},{"location":"basics/program-overview/","title":"\u30d7\u30ed\u30b0\u30e9\u30e0\u5168\u4f53\u50cf","text":"<p>togikidrive\u306e\u81ea\u52d5\u904b\u8ee2\u8d70\u884c\u30ed\u30b8\u30c3\u30af\u306e\u5168\u4f53\u50cf\u3092\u89e3\u8aac\u3057\u307e\u3059\u3002</p>"},{"location":"basics/program-overview/#_2","title":"\u30d7\u30ed\u30b0\u30e9\u30e0\u69cb\u6210\u56f3","text":""},{"location":"basics/program-overview/#_3","title":"\u4e3b\u306a\u30d7\u30ed\u30b0\u30e9\u30e0\u69cb\u6210","text":"\u30d7\u30ed\u30b0\u30e9\u30e0\u540d \u5f79\u5272 \u8aac\u660e run.py \u30e1\u30a4\u30f3\u30eb\u30fc\u30d7 \u8d70\u884c\u6642\u306e\u30eb\u30fc\u30d7\u51e6\u7406\u3092\u3059\u308b\u30e1\u30a4\u30f3\u30d7\u30ed\u30b0\u30e9\u30e0 config.py \u8a2d\u5b9a \u30d1\u30e9\u30e1\u30fc\u30bf\u7528\u30d7\u30ed\u30b0\u30e9\u30e0\uff08\u30c7\u30d0\u30a4\u30b9\u81ea\u52d5\u691c\u51fa\u6a5f\u80fd\u4ed8\u304d\uff09 ultrasonic.py \u8a8d\u77e5 \u8d85\u97f3\u6ce2\u6e2c\u5b9a\u7528\u30d7\u30ed\u30b0\u30e9\u30e0\uff08RPi4/5/Jetson\u81ea\u52d5\u5bfe\u5fdc\uff09 lidar.py \u8a8d\u77e5 LiDAR\u6e2c\u5b9a\u7528\u30d7\u30ed\u30b0\u30e9\u30e0 planner.py \u5224\u65ad \u8d70\u884c\u30ed\u30b8\u30c3\u30af\u7528\u30d7\u30ed\u30b0\u30e9\u30e0 motor.py \u64cd\u4f5c \u64cd\u8235\u30fb\u30e2\u30fc\u30bf\u30fc\u51fa\u529b/\u8abf\u6574\u7528\u30d7\u30ed\u30b0\u30e9\u30e0 train_pytorch.py \u5b66\u7fd2 \u6a5f\u68b0\u5b66\u7fd2\u7528\u30d7\u30ed\u30b0\u30e9\u30e0 data_viewer \u30c4\u30fc\u30eb \u8d70\u884c\u30c7\u30fc\u30bf\u53ef\u8996\u5316/\u5b66\u7fd2\u7528Web\u30a2\u30d7\u30ea"},{"location":"basics/program-overview/#_4","title":"\u5404\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u95a2\u4fc2","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        run.py                               \u2502\n\u2502                    \uff08\u30e1\u30a4\u30f3\u30eb\u30fc\u30d7\uff09                          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                             \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  \u2502 ultrasonic.py\u2502   \u2502  planner.py  \u2502   \u2502   motor.py   \u2502    \u2502\n\u2502  \u2502  lidar.py    \u2502 \u2192 \u2502              \u2502 \u2192 \u2502              \u2502    \u2502\n\u2502  \u2502  camera.py   \u2502   \u2502              \u2502   \u2502              \u2502    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2502       \u8a8d\u77e5               \u5224\u65ad               \u64cd\u4f5c            \u2502\n\u2502                                                             \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                       config.py                             \u2502\n\u2502                   \uff08\u5168\u4f53\u306e\u8a2d\u5b9a\u7ba1\u7406\uff09                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>\u3053\u306e\u300c\u8a8d\u77e5\u2192\u5224\u65ad\u2192\u64cd\u4f5c\u300d\u306e\u30eb\u30fc\u30d7\u3092\u7e70\u308a\u8fd4\u3059\u3053\u3068\u3067\u3001\u30df\u30cb\u30ab\u30fc\u306f\u81ea\u52d5\u3067\u8d70\u884c\u3057\u307e\u3059\u3002</p>"},{"location":"basics/program-overview/#runpy","title":"run.py \u306e\u30e1\u30a4\u30f3\u30eb\u30fc\u30d7","text":"<pre><code># run.py \u306e\u7c21\u7565\u5316\u3057\u305f\u30a4\u30e1\u30fc\u30b8\n\nwhile running:\n    # 1. \u8a8d\u77e5: \u30bb\u30f3\u30b5\u30fc\u304b\u3089\u30c7\u30fc\u30bf\u53d6\u5f97\n    sensor_data = get_sensor_data()      # ultrasonic.py, lidar.py\n    camera_image = get_camera_image()    # camera.py\n\n    # 2. \u5224\u65ad: \u8d70\u884c\u30ed\u30b8\u30c3\u30af\u3067\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u30fb\u30b9\u30ed\u30c3\u30c8\u30eb\u3092\u6c7a\u5b9a\n    steering, throttle = planner.plan(sensor_data, camera_image)  # planner.py\n\n    # 3. \u64cd\u4f5c: \u30e2\u30fc\u30bf\u30fc\u306b\u51fa\u529b\n    motor.set_steering(steering)         # motor.py\n    motor.set_throttle(throttle)\n\n    # 4. \u30c7\u30fc\u30bf\u8a18\u9332\uff08\u5b66\u7fd2\u7528\uff09\n    if recording:\n        save_data(sensor_data, camera_image, steering, throttle)\n</code></pre>"},{"location":"basics/program-overview/#_5","title":"\u4e3b\u306a\u8d70\u884c\u30ed\u30b8\u30c3\u30af","text":"<p>config.py\u306e<code>PLAN</code>\u3067\u8d70\u884c\u30ed\u30b8\u30c3\u30af\u3092\u5207\u308a\u66ff\u3048\u307e\u3059\u3002</p> \u30e2\u30fc\u30c9 \u5224\u65ad\u65b9\u5f0f \u5165\u529b \u8aac\u660e <code>manual</code> \u624b\u52d5 \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc \u4eba\u9593\u304c\u64cd\u4f5c <code>go_straight</code> \u30eb\u30fc\u30eb \u306a\u3057 \u76f4\u9032\u306e\u307f <code>right_left_3</code> \u30eb\u30fc\u30eb \u8d85\u97f3\u6ce23\u70b9 3\u30bb\u30f3\u30b5\u30fc\u969c\u5bb3\u7269\u56de\u907f <code>wall_follow</code> \u30eb\u30fc\u30eb \u8d85\u97f3\u6ce2 \u58c1\u6cbf\u3044\u8d70\u884c <code>wall_follow_pid</code> PID\u5236\u5fa1 \u8d85\u97f3\u6ce2 PID\u58c1\u6cbf\u3044\u8d70\u884c <code>nn</code> \u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8 \u8d85\u97f3\u6ce2/LiDar \u30bb\u30f3\u30b5\u30fc\u5024\u3067\u5b66\u7fd2 <code>donkeycar</code> CNN \u30ab\u30e1\u30e9\u753b\u50cf \u753b\u50cf\u8a8d\u8b58\uff08\u8efd\u91cf\uff09 <code>resnet18</code> CNN \u30ab\u30e1\u30e9\u753b\u50cf \u753b\u50cf\u8a8d\u8b58"},{"location":"basics/program-overview/#_6","title":"\u30c7\u30fc\u30bf\u306e\u6d41\u308c","text":""},{"location":"basics/program-overview/#_7","title":"\u624b\u52d5\u8d70\u884c\u6642\uff08\u30c7\u30fc\u30bf\u53ce\u96c6\uff09","text":"<pre><code>\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u5165\u529b\n       \u2193\n   steering, throttle\n       \u2193\n   motor.py\uff08\u30e2\u30fc\u30bf\u30fc\u51fa\u529b\uff09\n       \u2193\n   \u30c7\u30fc\u30bf\u4fdd\u5b58\uff08\u753b\u50cf + \u64cd\u4f5c\u5024\uff09\n</code></pre>"},{"location":"basics/program-overview/#_8","title":"\u81ea\u52d5\u8d70\u884c\u6642\uff08\u63a8\u8ad6\uff09","text":"<pre><code>\u30bb\u30f3\u30b5\u30fc/\u30ab\u30e1\u30e9\n       \u2193\n   planner.py\uff08\u30e2\u30c7\u30eb\u63a8\u8ad6\uff09\n       \u2193\n   steering, throttle\n       \u2193\n   motor.py\uff08\u30e2\u30fc\u30bf\u30fc\u51fa\u529b\uff09\n</code></pre>"},{"location":"basics/program-overview/#_9","title":"\u5b66\u7fd2\u306e\u6d41\u308c","text":"<pre><code>graph LR\n    A[\u624b\u52d5\u8d70\u884c] --&gt; B[\u30c7\u30fc\u30bf\u53ce\u96c6]\n    B --&gt; C[data_viewer]\n    C --&gt; D[train_pytorch.py]\n    D --&gt; E[\u30e2\u30c7\u30eb\u751f\u6210]\n    E --&gt; F[\u81ea\u52d5\u8d70\u884c]</code></pre> <ol> <li>\u624b\u52d5\u8d70\u884c: \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u3067\u8d70\u884c\u3057\u306a\u304c\u3089\u30c7\u30fc\u30bf\u53ce\u96c6</li> <li>\u30c7\u30fc\u30bf\u78ba\u8a8d: data_viewer\u3067\u53ce\u96c6\u30c7\u30fc\u30bf\u3092\u78ba\u8a8d\u30fb\u30af\u30ec\u30f3\u30b8\u30f3\u30b0</li> <li>\u5b66\u7fd2: train_pytorch.py\u3067\u30e2\u30c7\u30eb\u3092\u5b66\u7fd2</li> <li>\u81ea\u52d5\u8d70\u884c: \u5b66\u7fd2\u3057\u305f\u30e2\u30c7\u30eb\u3067\u81ea\u52d5\u8d70\u884c</li> </ol>"},{"location":"basics/program-overview/#_10","title":"\u95a2\u9023\u30c4\u30fc\u30eb","text":"\u30c4\u30fc\u30eb \u8aac\u660e \u30ea\u30f3\u30af data_viewer \u30c7\u30fc\u30bf\u53ef\u8996\u5316\u30fb\u5b66\u7fd2WebUI GitHub annotation_training_d2j \u753b\u50cf\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u30fb\u5b66\u7fd2 GitHub <p>CNN\u30e2\u30c7\u30eb\u306e\u5b66\u7fd2</p> <p>\u753b\u50cf\u5165\u529b\u3092\u4f7f\u3063\u305fCNN\u30e2\u30c7\u30eb\uff08donkeycar, resnet18\u7b49\uff09\u306e\u5b66\u7fd2\u306b\u306f annotation_training_d2j\u306e\u7d71\u5408\u304c\u5fc5\u8981\u3067\u3059\u3002</p>"},{"location":"basics/sensors/","title":"\u30bb\u30f3\u30b5\u30fc\u78ba\u8a8d","text":"<p>\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u304a\u3088\u3073LiDAR\u306e\u52d5\u4f5c\u78ba\u8a8d\u3092\u884c\u3044\u307e\u3059\u3002</p>"},{"location":"basics/sensors/#_2","title":"\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u306e\u5024\u3092\u78ba\u8a8d\u3059\u308b","text":"<pre><code>python ultrasonic.py\n</code></pre>"},{"location":"basics/sensors/#_3","title":"\u30c7\u30d0\u30a4\u30b9\u81ea\u52d5\u5bfe\u5fdc","text":"<p><code>ultrasonic.py</code>\u306f\u81ea\u52d5\u7684\u306b\u30c7\u30d0\u30a4\u30b9\u3092\u691c\u51fa\u3057\u3001\u9069\u5207\u306aGPIO\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u9078\u629e\u3057\u307e\u3059\uff1a</p> \u30c7\u30d0\u30a4\u30b9 \u4f7f\u7528\u30e9\u30a4\u30d6\u30e9\u30ea Raspberry Pi 4\u4ee5\u524d <code>RPi.GPIO</code> Raspberry Pi 5 <code>gpiozero</code>\uff08lgpio\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\uff09 Jetson Orin Nano <code>Jetson.GPIO</code>"},{"location":"basics/sensors/#_4","title":"\u6e2c\u5b9a\u30c6\u30b9\u30c8\u306e\u9805\u76ee","text":""},{"location":"basics/sensors/#_5","title":"\u57fa\u672c\u52d5\u4f5c\u78ba\u8a8d","text":"<ul> <li>\u5404\u30bb\u30f3\u30b5\u30fc\u304c\u6b63\u3057\u304f\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d</li> <li>\u6e2c\u5b9a\u5024\u304c\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d</li> </ul>"},{"location":"basics/sensors/#_6","title":"\u7cbe\u5ea6\u30c6\u30b9\u30c8","text":"<ul> <li>\u5b9a\u898f\u3067\u5b9f\u969b\u306e\u8ddd\u96e2\u3092\u6e2c\u308a\u3001\u6e2c\u5b9a\u5024\u3068\u306e\u8aa4\u5dee\u3092\u78ba\u8a8d\uff08\u00b13mm\u4ee5\u5185\u304c\u76ee\u5b89\uff09</li> <li>\u7570\u306a\u308b\u8ddd\u96e2\uff0810cm\u300150cm\u3001100cm\u3001200cm\uff09\u3067\u306e\u6e2c\u5b9a\u7cbe\u5ea6\u3092\u691c\u8a3c</li> </ul>"},{"location":"basics/sensors/#_7","title":"\u691c\u77e5\u7bc4\u56f2\u30c6\u30b9\u30c8","text":"<ul> <li>\u6700\u5c0f\u691c\u77e5\u8ddd\u96e2\uff08\u7d042cm\uff09\u306e\u78ba\u8a8d</li> <li>\u6700\u5927\u691c\u77e5\u8ddd\u96e2\uff08\u8a2d\u5b9a\u5024\u307e\u3067\uff09\u306e\u78ba\u8a8d</li> <li>\u691c\u77e5\u89d2\u5ea6\uff08\u7d04\u00b115\u5ea6\uff09\u3092\u624b\u3092\u304b\u3056\u3057\u3066\u78ba\u8a8d</li> </ul>"},{"location":"basics/sensors/#_8","title":"\u6750\u8cea\u306b\u3088\u308b\u5f71\u97ff","text":"<ul> <li>\u786c\u3044\u5e73\u9762\uff08\u58c1\u3001\u677f\uff09\u3067\u306e\u6e2c\u5b9a</li> <li>\u67d4\u3089\u304b\u3044\u7d20\u6750\uff08\u5e03\u3001\u30b9\u30dd\u30f3\u30b8\uff09\u3067\u306e\u6e2c\u5b9a</li> <li>\u89d2\u5ea6\u306e\u3042\u308b\u9762\u3067\u306e\u53cd\u5c04\u78ba\u8a8d</li> </ul>"},{"location":"basics/sensors/#_9","title":"\u3084\u3063\u3066\u307f\u3088\u3046\uff01","text":"<ul> <li>\u5b9a\u898f\u3067\u8ddd\u96e2\u3092\u6e2c\u308a\u3001\u6e2c\u5b9a\u5024\u3068\u306e\u6bd4\u8f03\u3092\u3059\u308b</li> <li>\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u306e\u6e2c\u5b9a\u53ef\u80fd\u7bc4\u56f2\uff08\u89d2\u5ea6\uff09\u3092\u624b\u3092\u304b\u3056\u3057\u3066\u8abf\u3079\u308b</li> <li>\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u306e\u6570\u3092\u5909\u3048\u308b</li> <li>\u30b5\u30f3\u30d7\u30ea\u30f3\u30b0\u30b5\u30a4\u30af\u30eb\u3092\u5909\u3048\u308b</li> </ul>"},{"location":"basics/sensors/#lidar","title":"LiDAR\u306e\u5024\u3092\u78ba\u8a8d\u3059\u308b","text":"<p>LiDAR\u30bb\u30f3\u30b5\u306e\u52d5\u4f5c\u78ba\u8a8d\u3092\u884c\u3044\u307e\u3059\u3002</p> <pre><code>python lidar.py\n</code></pre> <p>\u30d6\u30e9\u30a6\u30b6\u3067 <code>http://localhost:8080</code> \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u3001\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067LiDAR\u306e\u70b9\u7fa4\u30c7\u30fc\u30bf\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"basics/sensors/#_10","title":"\u5bfe\u5fdc\u6a5f\u7a2e","text":"\u6a5f\u7a2e \u30b9\u30ad\u30e3\u30f3\u7bc4\u56f2 \u63a5\u7d9a\u65b9\u5f0f \u30c7\u30fc\u30bf\u70b9\u6570 YDLIDAR TMINI 360\u5ea6 \u30b7\u30ea\u30a2\u30eb\uff08UART\uff09 \u7d04400\u70b9 \u5317\u967d UST-10/20LX\u7b49 270\u5ea6 \u30a4\u30fc\u30b5\u30cd\u30c3\u30c8 \u7d041081\u70b9"},{"location":"basics/sensors/#_11","title":"\u30be\u30fc\u30f3\u5206\u5272","text":"<p>LiDAR\u306e\u70b9\u7fa4\u30c7\u30fc\u30bf\u306f\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u3068\u540c\u30585\u3064\u306e\u30be\u30fc\u30f3\u306b\u5206\u5272\u3057\u3066\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p> <pre><code>             FrFR \u524d\u65b9\n               \u2191\n    \u5de6\u524d FrLH       FrRH \u53f3\u524d\n    \u3000\u3000\u3000\u2196        \u2197 \nRrLH \u5de6   \u2190   [\u8eca]  \u2192 RrRH \u53f3\n</code></pre> \u30be\u30fc\u30f3\u540d \u8aac\u660e RrLH \u5de6 FrLH \u5de6\u524d\u65b9 FrFR \u524d\u65b9 FrRH \u53f3\u524d\u65b9 RrRH \u53f3"},{"location":"basics/sensors/#_12","title":"\u30be\u30fc\u30f3\u5224\u5b9a\u306e\u8a08\u7b97\u30ed\u30b8\u30c3\u30af","text":"<p>LiDAR\u306e\u70b9\u7fa4\u30c7\u30fc\u30bf\uff08\u89d2\u5ea6\u3068\u8ddd\u96e2\uff09\u304b\u3089\u3001\u5404\u70b9\u304c\u3069\u306e\u30be\u30fc\u30f3\u306b\u5c5e\u3059\u308b\u304b\u3092\u5224\u5b9a\u3057\u307e\u3059\u3002</p> <pre><code># config.py \u3067\u306e\u30be\u30fc\u30f3\u89d2\u5ea6\u8a2d\u5b9a\u4f8b\nZONE_INDEX = {\n    \"RrLH\": (180, 225),   # \u5de6: 180\u00b0\u301c225\u00b0\n    \"FrLH\": (225, 315),   # \u5de6\u524d\u65b9: 225\u00b0\u301c315\u00b0\n    \"FrFR\": (315, 45),    # \u524d\u65b9: 315\u00b0\u301c45\u00b0\uff080\u5ea6\u3092\u307e\u305f\u3050\uff09\n    \"FrRH\": (45, 135),    # \u53f3\u524d\u65b9: 45\u00b0\u301c135\u00b0\n    \"RrRH\": (135, 180),   # \u53f3: 135\u00b0\u301c180\u00b0\n}\n</code></pre>"},{"location":"basics/sensors/#_13","title":"\u5404\u30be\u30fc\u30f3\u306e\u6700\u5c0f\u8ddd\u96e2\u3092\u53d6\u5f97","text":"<pre><code>def get_zone_distances(points: list[tuple[float, float]]) -&gt; dict[str, float]:\n    \"\"\"\n    \u70b9\u7fa4\u304b\u3089\u5404\u30be\u30fc\u30f3\u306e\u6700\u5c0f\u8ddd\u96e2\u3092\u8a08\u7b97\n\n    Args:\n        points: [(\u89d2\u5ea6, \u8ddd\u96e2), ...] \u306e\u30ea\u30b9\u30c8\n\n    Returns:\n        dict: {\"FrFR\": 500.0, \"FrLH\": 300.0, ...}\n    \"\"\"\n    zone_distances = {zone: float('inf') for zone in ZONE_INDEX}\n\n    for angle, distance in points:\n        if distance &lt;= 0:\n            continue\n\n        for zone_name, (start, end) in ZONE_INDEX.items():\n            if is_in_zone(angle, start, end):\n                # \u540c\u3058\u30be\u30fc\u30f3\u5185\u3067\u6700\u3082\u8fd1\u3044\u8ddd\u96e2\u3092\u63a1\u7528\n                zone_distances[zone_name] = min(zone_distances[zone_name], distance)\n                break\n\n    return zone_distances\n</code></pre>"},{"location":"basics/sensors/#lidar_1","title":"LiDAR\u6e2c\u5b9a\u30c6\u30b9\u30c8\u306e\u9805\u76ee","text":""},{"location":"basics/sensors/#_14","title":"\u57fa\u672c\u52d5\u4f5c\u78ba\u8a8d","text":"<ul> <li>LiDAR\u304c\u6b63\u3057\u304f\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d</li> <li>Web\u30d3\u30e5\u30fc\u30a2\u3067\u70b9\u7fa4\u304c\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d</li> <li>\u5404\u30be\u30fc\u30f3\u306e\u8ddd\u96e2\u5024\u304c\u66f4\u65b0\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d</li> </ul>"},{"location":"basics/sensors/#_15","title":"\u5e83\u7bc4\u56f2\u30b9\u30ad\u30e3\u30f3\u78ba\u8a8d","text":"<ul> <li>LiDAR\u306f360\u5ea6\u307e\u305f\u306f270\u5ea6\u3092\u30b9\u30ad\u30e3\u30f3</li> <li>\u8eca\u4e21\u306e\u5468\u56f2\u3092\u6b69\u3044\u3066\u3001\u3069\u306e\u4f4d\u7f6e\u3067\u691c\u51fa\u3055\u308c\u308b\u304b\u78ba\u8a8d</li> <li>\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\uff08\u7d0415\u5ea6\u00d7\u6570\u70b9\uff09\u3068\u306e\u9055\u3044\u3092\u4f53\u611f</li> </ul>"},{"location":"basics/sensors/#_16","title":"\u7cbe\u5ea6\u30c6\u30b9\u30c8","text":"<ul> <li>\u5b9a\u898f\u3067\u5b9f\u969b\u306e\u8ddd\u96e2\u3092\u6e2c\u308a\u3001LiDAR\u5024\u3068\u6bd4\u8f03</li> <li>\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u3068\u306e\u7cbe\u5ea6\u6bd4\u8f03\uff08LiDAR\u306f\u6570mm\u301c\u6570cm\u7cbe\u5ea6\uff09</li> </ul>"},{"location":"basics/sensors/#_17","title":"\u70b9\u7fa4\u5bc6\u5ea6\u306e\u78ba\u8a8d","text":"<ul> <li>1\u56de\u306e\u30b9\u30ad\u30e3\u30f3\u3067\u6570\u767e\u301c\u5343\u70b9\u306e\u30c7\u30fc\u30bf\u3092\u53d6\u5f97</li> <li>\u30d3\u30e5\u30fc\u30a2\u3067\u70b9\u7fa4\u306e\u5bc6\u5ea6\u3092\u78ba\u8a8d</li> </ul>"},{"location":"basics/sensors/#lidar_2","title":"\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u3068LiDAR\u306e\u6bd4\u8f03","text":"\u9805\u76ee \u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc LiDAR \u7cbe\u5ea6 \u00b13mm \u6570mm\u301c\u6570cm \u691c\u77e5\u7bc4\u56f2 \u7d0415\u5ea6\uff08\u7247\u5074\uff09 270\u5ea6\u301c360\u5ea6 \u66f4\u65b0\u901f\u5ea6 \u301c100Hz 10\u301c40Hz \u30b3\u30b9\u30c8 \u4f4e\u3044 \u9ad8\u3044 \u8907\u6570\u969c\u5bb3\u7269 \u691c\u77e5\u56f0\u96e3 \u540c\u6642\u691c\u77e5\u53ef\u80fd \u8a2d\u5b9a\u96e3\u6613\u5ea6 \u7c21\u5358 \u3084\u3084\u8907\u96d1"},{"location":"basics/sensors/#lidar_3","title":"LiDAR\u3067\u3084\u3063\u3066\u307f\u3088\u3046\uff01","text":"<ul> <li>\u5b9a\u898f\u3067\u8ddd\u96e2\u3092\u6e2c\u308a\u3001LiDAR\u5024\u3068\u306e\u6bd4\u8f03\u3092\u3059\u308b</li> <li>\u8eca\u4e21\u306e\u5468\u56f2360\u5ea6\u3092\u6b69\u3044\u3066\u3001\u691c\u51fa\u7bc4\u56f2\u3092\u78ba\u8a8d\u3059\u308b</li> <li>\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u3068LiDAR\u306e\u691c\u51fa\u7d50\u679c\u3092\u6bd4\u8f03\u3059\u308b</li> <li>config.py\u306e\u30be\u30fc\u30f3\u8a2d\u5b9a\uff08<code>ZONE_INDEX</code>\uff09\u3092\u5909\u66f4\u3057\u3066\u307f\u308b</li> </ul>"},{"location":"basics/sensors/#_18","title":"\u30ab\u30e1\u30e9\u306e\u5024\u3092\u78ba\u8a8d\u3059\u308b","text":"<p>\u30ab\u30e1\u30e9\u306e\u52d5\u4f5c\u78ba\u8a8d\u3092\u884c\u3044\u307e\u3059\u3002</p> <pre><code>python camera.py\n</code></pre>"},{"location":"basics/sensors/#_19","title":"\u5bfe\u5fdc\u30ab\u30e1\u30e9","text":"\u30ab\u30e1\u30e9 \u63a5\u7d9a\u65b9\u5f0f \u89e3\u50cf\u5ea6 USB Web\u30ab\u30e1\u30e9 USB 640x480\u7b49 Raspberry Pi Camera CSI 640x480\u7b49"},{"location":"basics/sensors/#_20","title":"\u30ab\u30e1\u30e9\u306e\u7528\u9014","text":"<p>\u30ab\u30e1\u30e9\u306f\u4e3b\u306b\u4ee5\u4e0b\u306e\u7528\u9014\u3067\u4f7f\u7528\u3057\u307e\u3059\uff1a</p> <ul> <li>\u6a5f\u68b0\u5b66\u7fd2\u306b\u3088\u308b\u8d70\u884c: CNN\u30e2\u30c7\u30eb\u3067\u753b\u50cf\u304b\u3089\u64cd\u8235\u89d2\u3092\u63a8\u8ad6</li> <li>\u7269\u4f53\u691c\u77e5: YOLO\u306b\u3088\u308b\u30b3\u30fc\u30b9\u4e0a\u306e\u969c\u5bb3\u7269\u691c\u77e5</li> <li>\u30c7\u30fc\u30bf\u8a18\u9332: \u8d70\u884c\u30c7\u30fc\u30bf\u306e\u9332\u753b\u30fb\u5b66\u7fd2\u30c7\u30fc\u30bf\u53ce\u96c6</li> </ul>"},{"location":"basics/sensors/#_21","title":"\u30ab\u30e1\u30e9\u3067\u3084\u3063\u3066\u307f\u3088\u3046\uff01","text":"<ul> <li>\u30ab\u30e1\u30e9\u6620\u50cf\u304c\u6b63\u3057\u304f\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b</li> <li>\u660e\u308b\u3055\u3084\u89d2\u5ea6\u3092\u8abf\u6574\u3057\u3066\u307f\u308b</li> <li>\u9332\u753b\u6a5f\u80fd\u3067\u8d70\u884c\u30c7\u30fc\u30bf\u3092\u8a18\u9332\u3059\u308b</li> </ul>"},{"location":"basics/sensors/#monitorpy-","title":"monitor.py - \u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u76e3\u8996","text":"<p><code>monitor.py</code>\u3067\u8d70\u884c\u4e2d\u306e\u30df\u30cb\u30ab\u30fc\u3092\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u76e3\u8996\u3067\u304d\u307e\u3059\u3002</p> <pre><code># \u5358\u72ec\u3067\u76e3\u8996\u30b5\u30fc\u30d0\u30fc\u3092\u8d77\u52d5\npython monitor.py\n\n# run.py\u3068\u9023\u643a\u3057\u3066\u4f7f\u7528\uff08\u63a8\u5968\uff09\npython run.py\n</code></pre> <p>\u30d6\u30e9\u30a6\u30b6\u3067 <code>http://localhost:8888</code> \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"basics/sensors/#_22","title":"\u958b\u767a\u8005\u5411\u3051: \u30b3\u30fc\u30c9\u89e3\u8aac","text":""},{"location":"basics/sensors/#_23","title":"\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u306e\u8ddd\u96e2\u8a08\u6e2c","text":"<p>\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u306fToF\uff08Time of Flight\uff09\u65b9\u5f0f\u3067\u8ddd\u96e2\u3092\u8a08\u6e2c\u3057\u307e\u3059\u3002</p>"},{"location":"basics/sensors/#ultrasonic","title":"<code>Ultrasonic</code> \u30af\u30e9\u30b9","text":"<pre><code>class Ultrasonic:\n    \"\"\"\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u5236\u5fa1\u30af\u30e9\u30b9\"\"\"\n\n    def __init__(self, trigger_pin: int, echo_pin: int):\n        \"\"\"\n        Args:\n            trigger_pin: \u30c8\u30ea\u30ac\u30fc\u4fe1\u53f7\u3092\u9001\u308bGPIO\u30d4\u30f3\u756a\u53f7\n            echo_pin: \u30a8\u30b3\u30fc\u4fe1\u53f7\u3092\u53d7\u3051\u308bGPIO\u30d4\u30f3\u756a\u53f7\n        \"\"\"\n        self.trigger_pin = trigger_pin\n        self.echo_pin = echo_pin\n\n    def measure_distance(self) -&gt; float:\n        \"\"\"\n        \u8ddd\u96e2\u3092\u6e2c\u5b9a\u3059\u308b\n\n        Returns:\n            float: \u6e2c\u5b9a\u8ddd\u96e2\uff08mm\uff09\u3002\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u6642\u306f config.CUTOFF_RANGE \u3092\u8fd4\u3059\n        \"\"\"\n        # \u30c8\u30ea\u30ac\u30fc\u30d1\u30eb\u30b9\u9001\u4fe1\uff0810\u03bcs\uff09\n        GPIO.output(self.trigger_pin, True)\n        time.sleep(0.00001)\n        GPIO.output(self.trigger_pin, False)\n\n        # \u30a8\u30b3\u30fc\u4fe1\u53f7\u306e\u7acb\u3061\u4e0a\u304c\u308a/\u7acb\u3061\u4e0b\u304c\u308a\u3092\u691c\u51fa\n        start_time = time.time()\n        while GPIO.input(self.echo_pin) == 0:\n            start_time = time.time()\n\n        end_time = time.time()\n        while GPIO.input(self.echo_pin) == 1:\n            end_time = time.time()\n\n        # ToF\u8a08\u7b97: \u8ddd\u96e2 = (\u6642\u9593 \u00d7 \u97f3\u901f) / 2\n        elapsed_time = end_time - start_time\n        distance_mm = (elapsed_time * 340000) / 2  # \u97f3\u901f340m/s = 340000mm/s\n\n        return distance_mm\n</code></pre>"},{"location":"basics/sensors/#_24","title":"\u8ddd\u96e2\u8a08\u7b97\u306e\u539f\u7406","text":"<pre><code>\u30c8\u30ea\u30ac\u30fc  \u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n            \u2502  \u2502\n            \u2514\u2500\u2500\u2518  10\u03bcs\n\n\u30a8\u30b3\u30fc    \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n                 \u2502    \u5f80\u5fa9\u6642\u9593   \u2502\n                 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\u8ddd\u96e2 = (\u5f80\u5fa9\u6642\u9593 \u00d7 \u97f3\u901f) / 2\n     = (elapsed_time \u00d7 340m/s) / 2\n</code></pre>"},{"location":"basics/sensors/#lidar_4","title":"LiDAR\u30c7\u30fc\u30bf\u51e6\u7406","text":""},{"location":"basics/sensors/#lidarprocessor","title":"<code>LidarProcessor</code> \u30af\u30e9\u30b9","text":"<pre><code>class LidarProcessor:\n    \"\"\"LiDAR\u70b9\u7fa4\u30c7\u30fc\u30bf\u51e6\u7406\u30af\u30e9\u30b9\"\"\"\n\n    def __init__(self, zone_config: dict):\n        \"\"\"\n        Args:\n            zone_config: \u30be\u30fc\u30f3\u8a2d\u5b9a {\"FrFR\": (315, 45), \"FrLH\": (270, 315), ...}\n        \"\"\"\n        self.zone_config = zone_config\n\n    def parse_scan_data(self, raw_data: bytes) -&gt; list[tuple[float, float]]:\n        \"\"\"\n        \u751f\u30c7\u30fc\u30bf\u3092\u30d1\u30fc\u30b9\u3057\u3066\u70b9\u7fa4\u306b\u5909\u63db\n\n        Args:\n            raw_data: LiDAR\u304b\u3089\u306e\u751f\u30d0\u30a4\u30ca\u30ea\u30c7\u30fc\u30bf\n\n        Returns:\n            list[tuple[float, float]]: [(\u89d2\u5ea6(deg), \u8ddd\u96e2(mm)), ...] \u306e\u30ea\u30b9\u30c8\n        \"\"\"\n        points = []\n        # \u30c7\u30fc\u30bf\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u5fdc\u3058\u305f\u30d1\u30fc\u30b9\u51e6\u7406\n        # YDLIDAR: \u5404\u70b9\u306f\u89d2\u5ea6(2byte) + \u8ddd\u96e2(2byte)\n        for i in range(0, len(raw_data), 4):\n            angle = struct.unpack('&lt;H', raw_data[i:i+2])[0] / 100.0\n            distance = struct.unpack('&lt;H', raw_data[i+2:i+4])[0]\n            points.append((angle, distance))\n        return points\n\n    def assign_to_zones(self, points: list[tuple[float, float]]) -&gt; dict[str, float]:\n        \"\"\"\n        \u70b9\u7fa4\u3092\u30be\u30fc\u30f3\u306b\u5206\u985e\u3057\u3001\u5404\u30be\u30fc\u30f3\u306e\u6700\u5c0f\u8ddd\u96e2\u3092\u8fd4\u3059\n\n        Args:\n            points: [(\u89d2\u5ea6, \u8ddd\u96e2), ...] \u306e\u30ea\u30b9\u30c8\n\n        Returns:\n            dict[str, float]: {\"FrFR\": 500.0, \"FrLH\": 300.0, ...}\n        \"\"\"\n        zone_distances = {zone: float('inf') for zone in self.zone_config}\n\n        for angle, distance in points:\n            if distance &lt;= 0:\n                continue\n\n            for zone_name, (start_angle, end_angle) in self.zone_config.items():\n                if self._is_in_zone(angle, start_angle, end_angle):\n                    zone_distances[zone_name] = min(zone_distances[zone_name], distance)\n                    break\n\n        return zone_distances\n\n    def _is_in_zone(self, angle: float, start: float, end: float) -&gt; bool:\n        \"\"\"\u89d2\u5ea6\u304c\u30be\u30fc\u30f3\u7bc4\u56f2\u5185\u304b\u3092\u5224\u5b9a\uff080\u5ea6\u3092\u307e\u305f\u3050\u5834\u5408\u3082\u5bfe\u5fdc\uff09\"\"\"\n        if start &lt;= end:\n            return start &lt;= angle &lt; end\n        else:  # 0\u5ea6\u3092\u307e\u305f\u3050\u5834\u5408\uff08\u4f8b: 315\u301c45\uff09\n            return angle &gt;= start or angle &lt; end\n</code></pre>"},{"location":"basics/sensors/#_25","title":"\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u306e\u6b63\u898f\u5316","text":""},{"location":"basics/sensors/#normalize_distance","title":"<code>normalize_distance</code> \u95a2\u6570","text":"<pre><code>def normalize_distance(distance_mm: float, max_range: float = 2000.0) -&gt; float:\n    \"\"\"\n    \u8ddd\u96e2\u5024\u30920\u301c1\u306e\u7bc4\u56f2\u306b\u6b63\u898f\u5316\n\n    Args:\n        distance_mm: \u8ddd\u96e2\uff08mm\uff09\n        max_range: \u6700\u5927\u6e2c\u5b9a\u7bc4\u56f2\uff08mm\uff09\u3002\u30c7\u30d5\u30a9\u30eb\u30c82000mm\n\n    Returns:\n        float: \u6b63\u898f\u5316\u3055\u308c\u305f\u8ddd\u96e2\uff080.0\u301c1.0\uff09\n    \"\"\"\n    normalized = distance_mm / max_range\n    return max(0.0, min(1.0, normalized))\n\n\ndef normalize_sensor_data(sensor_data: dict[str, float]) -&gt; dict[str, float]:\n    \"\"\"\n    \u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u8f9e\u66f8\u3092\u4e00\u62ec\u6b63\u898f\u5316\n\n    Args:\n        sensor_data: {\"FrFR\": 500, \"FrLH\": 300, ...}\n\n    Returns:\n        dict[str, float]: {\"FrFR\": 0.25, \"FrLH\": 0.15, ...}\n    \"\"\"\n    return {\n        zone: normalize_distance(dist)\n        for zone, dist in sensor_data.items()\n    }\n</code></pre> \u5165\u529b\u5024 max_range=2000 \u8aac\u660e 0mm 0.0 \u6700\u5c0f\u8ddd\u96e2 500mm 0.25 \u8fd1\u8ddd\u96e2 1000mm 0.5 \u4e2d\u8ddd\u96e2 2000mm 1.0 \u6700\u5927\u8ddd\u96e2"},{"location":"dev/color-space/","title":"\u753b\u50cf\u51e6\u7406\u306b\u304a\u3051\u308b\u8272\u7a7a\u9593\u306e\u6ce8\u610f\u4e8b\u9805","text":"<p>\u672c\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u306f\u8907\u6570\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f7f\u7528\u3057\u3066\u753b\u50cf\u3092\u6271\u3046\u305f\u3081\u3001\u8272\u7a7a\u9593\uff08RGB/BGR\uff09\u306e\u9055\u3044\u306b\u3088\u308b\u554f\u984c\u304c\u767a\u751f\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u7d71\u4e00\u30eb\u30fc\u30eb\u306b\u5f93\u3063\u3066\u958b\u767a\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"dev/color-space/#_2","title":"\u5404\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u8272\u7a7a\u9593","text":"\u30e9\u30a4\u30d6\u30e9\u30ea \u8aad\u307f\u8fbc\u307f\u95a2\u6570 \u8272\u7a7a\u9593 \u5099\u8003 OpenCV <code>cv2.imread()</code> BGR \u4e00\u822c\u7684\u306aRGB\u3068\u306f\u9006 OpenCV <code>cv2.VideoCapture.read()</code> BGR \u30ab\u30e1\u30e9\u304b\u3089\u306e\u53d6\u5f97\u3082BGR PIL/Pillow <code>Image.open()</code> RGB \u6a19\u6e96\u7684\u306aRGB\u9806\u5e8f matplotlib <code>plt.imread()</code> RGB \u8868\u793a\u7528\u9014 PyTorch/TensorFlow - RGB \u5b66\u7fd2\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306fRGB\u524d\u63d0"},{"location":"dev/color-space/#rgb","title":"\u7d71\u4e00\u30eb\u30fc\u30eb\uff1a\u3059\u3079\u3066RGB\u5f62\u5f0f\u3067\u51e6\u7406","text":"<pre><code># \u274c \u9593\u9055\u3063\u305f\u4f8b\uff1aOpenCV\u3067\u8aad\u3093\u3067\u305d\u306e\u307e\u307e\u4f7f\u7528\nimage_bgr = cv2.imread('image.jpg')  # BGR\u5f62\u5f0f\nmodel.run(image_bgr)  # BGR\u3092RGB\u3068\u8aa4\u8a8d\u8b58 \u2192 \u8272\u304c\u304a\u304b\u3057\u304f\u306a\u308b\n\n# \u2705 \u6b63\u3057\u3044\u4f8b\uff1aBGR\u2192RGB\u5909\u63db\nimage_bgr = cv2.imread('image.jpg')\nimage_rgb = cv2.cvtColor(image_bgr, cv2.COLOR_BGR2RGB)\nmodel.run(image_rgb)  # RGB\u5f62\u5f0f\u3067\u51e6\u7406\n\n# \u2705 \u6b63\u3057\u3044\u4f8b\uff1aPIL\u3067\u8aad\u307f\u8fbc\u307f\uff08\u5909\u63db\u4e0d\u8981\uff09\nfrom PIL import Image\nimage_rgb = Image.open('image.jpg').convert('RGB')\nmodel.run(np.array(image_rgb))  # \u65e2\u306bRGB\u5f62\u5f0f\n</code></pre>"},{"location":"dev/color-space/#_3","title":"\u672c\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u306e\u5b9f\u88c5","text":""},{"location":"dev/color-space/#1-camerapy","title":"1. \u30ab\u30e1\u30e9\u53d6\u5f97 (<code>camera.py</code>)","text":"<pre><code># Jetson\u30ab\u30e1\u30e9\uff1aBGR\u2192RGB\u5909\u63db\u3092\u5b9f\u88c5\u6e08\u307f\nframe_bgr = cap.read()\nframe_rgb = cv2.cvtColor(frame_bgr, cv2.COLOR_BGR2RGB)\nreturn ret, frame_rgb\n</code></pre>"},{"location":"dev/color-space/#2-train_pytorchpy","title":"2. \u5b66\u7fd2\u30c7\u30fc\u30bf\u8aad\u307f\u8fbc\u307f (<code>train_pytorch.py</code>)","text":"<pre><code># PIL\u3067RGB\u8aad\u307f\u8fbc\u307f\nimage = Image.open(img_path).convert(\"RGB\")\n</code></pre>"},{"location":"dev/color-space/#3-plannerpy","title":"3. \u63a8\u8ad6\u6642 (<code>planner.py</code>)","text":"<pre><code># camera.py\u304b\u3089RGB\u5f62\u5f0f\u3067\u53d7\u3051\u53d6\u308a\u3001\u305d\u306e\u307e\u307e\u4f7f\u7528\nimage_rgb = camera.get_frame()\nprediction = model(image_rgb)\n</code></pre>"},{"location":"dev/color-space/#_4","title":"\u3088\u304f\u3042\u308b\u554f\u984c","text":""},{"location":"dev/color-space/#1","title":"\u554f\u984c1: \u5b66\u7fd2\u3068\u63a8\u8ad6\u3067\u8272\u304c\u9055\u3046","text":"<p>\u75c7\u72b6: \u5b66\u7fd2\u6642\u306f\u6b63\u5e38\u3060\u304c\u3001\u63a8\u8ad6\u6642\u306b\u8272\u304c\u304a\u304b\u3057\u3044</p> <p>\u539f\u56e0: \u5b66\u7fd2\u30c7\u30fc\u30bf\u306fPIL(RGB)\u3001\u63a8\u8ad6\u6642\u306fOpenCV(BGR)\u3067\u8aad\u307f\u8fbc\u3093\u3067\u3044\u308b</p> <p>\u89e3\u6c7a: <pre><code># \u63a8\u8ad6\u6642\u3082RGB\u306b\u5909\u63db\nframe_rgb = cv2.cvtColor(frame_bgr, cv2.COLOR_BGR2RGB)\n</code></pre></p>"},{"location":"dev/color-space/#2","title":"\u554f\u984c2: \u753b\u50cf\u4fdd\u5b58\u6642\u306b\u8272\u304c\u5909\u308f\u308b","text":"<p>\u75c7\u72b6: OpenCV\u3067\u4fdd\u5b58\u3057\u305f\u753b\u50cf\u306e\u8272\u304c\u304a\u304b\u3057\u3044</p> <p>\u539f\u56e0: RGB\u753b\u50cf\u3092\u305d\u306e\u307e\u307ecv2.imwrite()\u3067\u4fdd\u5b58</p> <p>\u89e3\u6c7a: <pre><code># RGB\u2192BGR\u306b\u623b\u3057\u3066\u304b\u3089\u4fdd\u5b58\nimage_bgr = cv2.cvtColor(image_rgb, cv2.COLOR_RGB2BGR)\ncv2.imwrite('output.jpg', image_bgr)\n</code></pre></p>"},{"location":"dev/color-space/#3-matplotlib","title":"\u554f\u984c3: matplotlib\u3067\u8868\u793a\u304c\u304a\u304b\u3057\u3044","text":"<p>\u75c7\u72b6: OpenCV\u3067\u8aad\u3093\u3060\u753b\u50cf\u3092matplotlib\u3067\u8868\u793a\u3059\u308b\u3068\u8272\u304c\u304a\u304b\u3057\u3044</p> <p>\u539f\u56e0: BGR\u753b\u50cf\u3092RGB\u3068\u3057\u3066\u8868\u793a</p> <p>\u89e3\u6c7a: <pre><code>image_rgb = cv2.cvtColor(image_bgr, cv2.COLOR_BGR2RGB)\nplt.imshow(image_rgb)\n</code></pre></p>"},{"location":"dev/color-space/#_5","title":"\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8","text":"<p>\u958b\u767a\u6642\u306f\u4ee5\u4e0b\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\uff1a</p> <ul> <li>[ ] \u30ab\u30e1\u30e9\u53d6\u5f97\u5f8c\u306bRGB\u5909\u63db\u3057\u3066\u3044\u308b\u304b</li> <li>[ ] \u5b66\u7fd2\u30c7\u30fc\u30bf\u306e\u8aad\u307f\u8fbc\u307f\u306fPIL\u307e\u305f\u306fRGB\u5909\u63db\u6e08\u307f\u304b</li> <li>[ ] \u63a8\u8ad6\u6642\u306e\u5165\u529b\u5f62\u5f0f\u306f\u5b66\u7fd2\u6642\u3068\u540c\u3058\u304b</li> <li>[ ] \u753b\u50cf\u4fdd\u5b58\u6642\u306bBGR\u5909\u63db\u3057\u3066\u3044\u308b\u304b\uff08OpenCV\u4f7f\u7528\u6642\uff09</li> <li>[ ] \u8868\u793a\u6642\u306e\u8272\u7a7a\u9593\u306f\u6b63\u3057\u3044\u304b</li> </ul>"},{"location":"dev/gstreamer/","title":"Jetson\u5411\u3051GStreamer\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u6700\u9069\u5316","text":"<p>Jetson\u3067\u306e\u30ab\u30e1\u30e9\u53d6\u5f97\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3092\u6700\u5927\u5316\u3059\u308b\u305f\u3081\u306eGStreamer\u8a2d\u5b9a\u306b\u3064\u3044\u3066\u89e3\u8aac\u3057\u307e\u3059\u3002</p>"},{"location":"dev/gstreamer/#_1","title":"\u57fa\u672c\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3","text":""},{"location":"dev/gstreamer/#_2","title":"\u30b7\u30f3\u30d7\u30eb\u306a\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3","text":"<pre><code>import cv2\n\n# \u57fa\u672c\u7684\u306aGStreamer\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\npipeline = (\n    \"nvarguscamerasrc ! \"\n    \"video/x-raw(memory:NVMM), width=224, height=224, framerate=30/1 ! \"\n    \"nvvidconv ! \"\n    \"video/x-raw, format=BGRx ! \"\n    \"videoconvert ! \"\n    \"video/x-raw, format=BGR ! \"\n    \"appsink\"\n)\n\ncap = cv2.VideoCapture(pipeline, cv2.CAP_GSTREAMER)\n</code></pre>"},{"location":"dev/gstreamer/#camerapy","title":"\u9ad8\u6027\u80fd\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\uff08camera.py\u5b9f\u88c5\u6e08\u307f\uff09","text":"<pre><code># \u9ad8\u6027\u80fd\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u4f8b\npipeline = (\n    \"nvarguscamerasrc sensor-id=0 ! \"\n    \"video/x-raw(memory:NVMM), width=1280, height=720, framerate=60/1, format=NV12 ! \"\n    \"nvvidconv flip-method=0 ! \"\n    \"video/x-raw, width=224, height=224, format=BGRx ! \"\n    \"videoconvert ! \"\n    \"video/x-raw, format=BGR ! \"\n    \"appsink drop=true sync=false\"\n)\n</code></pre>"},{"location":"dev/gstreamer/#_3","title":"\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u8981\u7d20\u306e\u89e3\u8aac","text":"\u8981\u7d20 \u8aac\u660e <code>nvarguscamerasrc</code> NVIDIA CSI\u30ab\u30e1\u30e9\u30bd\u30fc\u30b9 <code>sensor-id=0</code> \u30ab\u30e1\u30e9ID\uff08\u30c7\u30e5\u30a2\u30eb\u30ab\u30e1\u30e9\u6642\u306f0/1\uff09 <code>memory:NVMM</code> GPU\u7d71\u5408\u30e1\u30e2\u30ea\u3092\u4f7f\u7528\uff08\u9ad8\u901f\uff09 <code>nvvidconv</code> GPU\u4e0a\u3067\u306e\u30d3\u30c7\u30aa\u5909\u63db <code>flip-method=0</code> \u753b\u50cf\u53cd\u8ee2\uff080=\u306a\u3057, 2=180\u5ea6\uff09 <code>drop=true</code> \u30d5\u30ec\u30fc\u30e0\u30c9\u30ed\u30c3\u30d7\u8a31\u53ef\uff08\u9045\u5ef6\u9632\u6b62\uff09 <code>sync=false</code> \u540c\u671f\u306a\u3057\uff08\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u6027\u512a\u5148\uff09"},{"location":"dev/gstreamer/#_4","title":"\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u6bd4\u8f03","text":"\u8a2d\u5b9a FPS \u9045\u5ef6 \u5099\u8003 \u57fa\u672c\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3 ~30 ~100ms \u5b89\u5b9a \u9ad8\u6027\u80fd\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3 ~60 ~30ms \u63a8\u5968 CPU\u51e6\u7406\u306e\u307f ~15 ~200ms \u975e\u63a8\u5968"},{"location":"dev/gstreamer/#_5","title":"\u6700\u9069\u5316\u306e\u30dd\u30a4\u30f3\u30c8","text":""},{"location":"dev/gstreamer/#1-nvmm","title":"1. NVMM\u30e1\u30e2\u30ea\u3092\u4f7f\u7528","text":"<pre><code># \u2705 GPU\u7d71\u5408\u30e1\u30e2\u30ea\uff08\u9ad8\u901f\uff09\n\"video/x-raw(memory:NVMM), ...\"\n\n# \u274c \u30b7\u30b9\u30c6\u30e0\u30e1\u30e2\u30ea\uff08\u4f4e\u901f\uff09\n\"video/x-raw, ...\"\n</code></pre>"},{"location":"dev/gstreamer/#2","title":"2. \u9069\u5207\u306a\u89e3\u50cf\u5ea6\u3067\u53d6\u5f97","text":"<pre><code># \u30ab\u30e1\u30e9\u30cd\u30a4\u30c6\u30a3\u30d6\u89e3\u50cf\u5ea6\u3067\u53d6\u5f97\u3057\u3001GPU\u4e0a\u3067\u30ea\u30b5\u30a4\u30ba\n\"width=1280, height=720 ! nvvidconv ! width=224, height=224\"\n</code></pre>"},{"location":"dev/gstreamer/#3","title":"3. \u30d5\u30ec\u30fc\u30e0\u30c9\u30ed\u30c3\u30d7\u3092\u8a31\u53ef","text":"<pre><code># \u51e6\u7406\u304c\u8ffd\u3044\u3064\u304b\u306a\u3044\u5834\u5408\u306f\u30d5\u30ec\u30fc\u30e0\u3092\u30b9\u30ad\u30c3\u30d7\n\"appsink drop=true\"\n</code></pre>"},{"location":"dev/gstreamer/#4","title":"4. \u540c\u671f\u3092\u7121\u52b9\u5316","text":"<pre><code># \u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u6027\u3092\u512a\u5148\n\"appsink sync=false\"\n</code></pre>"},{"location":"dev/gstreamer/#_6","title":"\u30c7\u30e5\u30a2\u30eb\u30ab\u30e1\u30e9\u8a2d\u5b9a","text":"<pre><code># \u30ab\u30e1\u30e90\npipeline_0 = \"nvarguscamerasrc sensor-id=0 ! ...\"\n\n# \u30ab\u30e1\u30e91\npipeline_1 = \"nvarguscamerasrc sensor-id=1 ! ...\"\n</code></pre>"},{"location":"dev/gstreamer/#_7","title":"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0","text":""},{"location":"dev/gstreamer/#_8","title":"\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u304c\u8d77\u52d5\u3057\u306a\u3044","text":"<pre><code># GStreamer\u306e\u52d5\u4f5c\u78ba\u8a8d\ngst-launch-1.0 nvarguscamerasrc ! nvoverlaysink\n\n# \u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u78ba\u8a8d\ngst-inspect-1.0 nvarguscamerasrc\n</code></pre>"},{"location":"dev/gstreamer/#_9","title":"\u30d5\u30ec\u30fc\u30e0\u30ec\u30fc\u30c8\u304c\u51fa\u306a\u3044","text":"<ol> <li>\u89e3\u50cf\u5ea6\u3092\u4e0b\u3052\u308b</li> <li><code>drop=true</code>\u3092\u8ffd\u52a0</li> <li>\u51e6\u7406\u5074\u306e\u30dc\u30c8\u30eb\u30cd\u30c3\u30af\u3092\u78ba\u8a8d</li> </ol>"},{"location":"dev/gstreamer/#_10","title":"\u753b\u50cf\u304c\u4e71\u308c\u308b","text":"<ol> <li>\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u306e\u5f62\u5f0f\u3092\u78ba\u8a8d</li> <li><code>nvvidconv</code>\u306e\u8a2d\u5b9a\u3092\u898b\u76f4\u3059</li> <li>\u30ab\u30e1\u30e9\u30b1\u30fc\u30d6\u30eb\u306e\u63a5\u7d9a\u3092\u78ba\u8a8d</li> </ol>"},{"location":"dev/gstreamer/#usb","title":"USB\u30ab\u30e1\u30e9\u306e\u5834\u5408","text":"<p>USB\u30ab\u30e1\u30e9\u306fGStreamer\u3067\u306f\u306a\u304f\u3001\u901a\u5e38\u306eOpenCV\u3067\u53d6\u5f97\uff1a</p> <pre><code># USB\u30ab\u30e1\u30e9\ncap = cv2.VideoCapture(0)\ncap.set(cv2.CAP_PROP_FRAME_WIDTH, 224)\ncap.set(cv2.CAP_PROP_FRAME_HEIGHT, 224)\ncap.set(cv2.CAP_PROP_FPS, 30)\n</code></pre> <p>USB3.0\u63a8\u5968</p> <p>\u9ad8\u89e3\u50cf\u5ea6\u30fb\u9ad8\u30d5\u30ec\u30fc\u30e0\u30ec\u30fc\u30c8\u306e\u5834\u5408\u306fUSB3.0\u30dd\u30fc\u30c8\u3092\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"exercises/chicken-race/","title":"\u30c1\u30ad\u30f3\u30ec\u30fc\u30b9\uff01\u58c1\u306b\u76f4\u524d\u3067\u6b62\u307e\u308d\u3046","text":"<p>\u58c1\u306b\u3076\u3064\u304b\u308b\u76f4\u524d\u3067\u505c\u6b62\u3059\u308b\u300c\u30c1\u30ad\u30f3\u30ec\u30fc\u30b9\u300d\u306b\u6311\u6226\u3057\u307e\u3059\u3002\u30d1\u30e9\u30e1\u30fc\u30bf\u8abf\u6574\u3067\u505c\u6b62\u8ddd\u96e2\u3092\u6700\u9069\u5316\u3057\u307e\u3057\u3087\u3046\u3002</p>"},{"location":"exercises/chicken-race/#_2","title":"\u76ee\u6a19","text":"<ul> <li>\u58c1\u306b\u3067\u304d\u308b\u3060\u3051\u8fd1\u3065\u3044\u3066\u505c\u6b62\u3059\u308b</li> <li>\u3076\u3064\u304b\u3089\u306a\u3044\u30ae\u30ea\u30ae\u30ea\u3092\u72d9\u3046</li> <li>\u30d1\u30e9\u30e1\u30fc\u30bf\u8abf\u6574\u306e\u57fa\u672c\u3092\u5b66\u3076</li> </ul>"},{"location":"exercises/chicken-race/#configpy","title":"config.py\u8a2d\u5b9a","text":"<pre><code># \u30e2\u30fc\u30bf\u30fc\u51fa\u529b\u30d1\u30e9\u30e1\u30fc\u30bf \uff08-1~1\u3067\u8a2d\u5b9a\uff09\n# \u30b9\u30ed\u30c3\u30c8\u30eb\u7528\nFORWARD_S = 0.6   # \u30b9\u30c8\u30ec\u30fc\u30c8\u3067\u306e\u5024, joy_accel1\nFORWARD_C = 0.4   # \u30ab\u30fc\u30d6\u3067\u306e\u5024, joy_accel2\nREVERSE = -1\n\n# \u5fa9\u5e30\u30e2\u30fc\u30c9\u9078\u629e\nRECOVERY_MODE = \"back\"            # none, back\nRECOVERY_STREERING = LEFT         # \u5fa9\u5e30\u6642\u306e\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u5024\nRECOVERY_TIME_DURATION = 1        # \u5fa9\u5e30\u51e6\u7406\u3092\u884c\u3046\u6642\u9593\uff08\u79d2\uff09\nRECOVERY_BRAKING = 1              # \u30d6\u30ec\u30fc\u30ad\u56de\u6570\u3001\u30d6\u30ec\u30fc\u30ad\u306b\u306fREVERSE\u306e\u5024\u3092\u5229\u7528\n</code></pre>"},{"location":"exercises/chicken-race/#_3","title":"\u8abf\u6574\u3059\u308b\u30d1\u30e9\u30e1\u30fc\u30bf","text":""},{"location":"exercises/chicken-race/#stop_range","title":"\u505c\u6b62\u8ddd\u96e2\uff08STOP_RANGE\uff09","text":"<pre><code>STOP_RANGE = 100  # mm\u5358\u4f4d\n</code></pre> <ul> <li>\u5024\u3092\u5c0f\u3055\u304f\u3059\u308b \u2192 \u3088\u308a\u58c1\u306b\u8fd1\u3065\u3044\u3066\u304b\u3089\u505c\u6b62</li> <li>\u5024\u3092\u5927\u304d\u304f\u3059\u308b \u2192 \u65e9\u3081\u306b\u505c\u6b62\uff08\u5b89\u5168\uff09</li> </ul>"},{"location":"exercises/chicken-race/#forward_s-forward_c","title":"\u901f\u5ea6\uff08FORWARD_S / FORWARD_C\uff09","text":"<pre><code>FORWARD_S = 0.6   # \u76f4\u7dda\u3067\u306e\u901f\u5ea6\nFORWARD_C = 0.4   # \u30ab\u30fc\u30d6\u3067\u306e\u901f\u5ea6\n</code></pre> <ul> <li>\u901f\u5ea6\u304c\u901f\u3044\u307b\u3069\u505c\u6b62\u8ddd\u96e2\u304c\u9577\u304f\u306a\u308b</li> <li>\u6163\u6027\u3092\u8003\u616e\u3057\u305f\u8a2d\u5b9a\u304c\u5fc5\u8981</li> </ul>"},{"location":"exercises/chicken-race/#_4","title":"\u3084\u3063\u3066\u307f\u3088\u3046\uff01","text":""},{"location":"exercises/chicken-race/#1","title":"\u30b9\u30c6\u30c3\u30d71: \u57fa\u672c\u8a2d\u5b9a\u3067\u8d70\u884c","text":"<ol> <li>\u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\u3067\u8d70\u884c\u958b\u59cb</li> <li>\u505c\u6b62\u4f4d\u7f6e\u3068\u58c1\u3068\u306e\u8ddd\u96e2\u3092\u6e2c\u5b9a</li> <li>\u8a18\u9332\u3059\u308b</li> </ol>"},{"location":"exercises/chicken-race/#2-stop_range","title":"\u30b9\u30c6\u30c3\u30d72: STOP_RANGE\u3092\u8abf\u6574","text":"<ol> <li><code>STOP_RANGE</code>\u309210mm\u5358\u4f4d\u3067\u8abf\u6574</li> <li>\u8d70\u884c\u3057\u3066\u505c\u6b62\u4f4d\u7f6e\u3092\u78ba\u8a8d</li> <li>\u6700\u9069\u306a\u5024\u3092\u63a2\u3059</li> </ol>"},{"location":"exercises/chicken-race/#3","title":"\u30b9\u30c6\u30c3\u30d73: \u901f\u5ea6\u3092\u5909\u3048\u3066\u30c6\u30b9\u30c8","text":"<ol> <li><code>FORWARD_S</code>\u3092\u5909\u66f4\uff080.4\u301c0.8\uff09</li> <li>\u540c\u3058<code>STOP_RANGE</code>\u3067\u8d70\u884c</li> <li>\u901f\u5ea6\u3068\u505c\u6b62\u8ddd\u96e2\u306e\u95a2\u4fc2\u3092\u89b3\u5bdf</li> </ol>"},{"location":"exercises/chicken-race/#_5","title":"\u8a18\u9332\u30b7\u30fc\u30c8","text":"\u8a66\u884c STOP_RANGE FORWARD_S \u505c\u6b62\u8ddd\u96e2 \u7d50\u679c 1 100mm 0.6 __mm 2 80mm 0.6 __mm 3 60mm 0.6 __mm 4 100mm 0.4 __mm 5 100mm 0.8 __mm"},{"location":"exercises/chicken-race/#_6","title":"\u30d2\u30f3\u30c8","text":"<p>\u6700\u9069\u5316\u306e\u30b3\u30c4</p> <ul> <li>\u540c\u3058\u6761\u4ef6\u3067\u8907\u6570\u56de\u30c6\u30b9\u30c8\u3057\u3066\u5e73\u5747\u3092\u53d6\u308b</li> <li>\u5e8a\u306e\u6750\u8cea\u306b\u3088\u3063\u3066\u6ed1\u308a\u3084\u3059\u3055\u304c\u5909\u308f\u308b</li> <li>\u30d0\u30c3\u30c6\u30ea\u30fc\u6b8b\u91cf\u3067\u901f\u5ea6\u304c\u5909\u308f\u308b\u3053\u3068\u304c\u3042\u308b</li> </ul> <p>\u5b89\u5168\u6ce8\u610f</p> <ul> <li>\u6700\u521d\u306f\u5b89\u5168\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u304b\u3089\u59cb\u3081\u308b</li> <li>\u58c1\u306b\u30af\u30c3\u30b7\u30e7\u30f3\u6750\u3092\u7f6e\u3044\u3066\u885d\u6483\u3092\u5438\u53ce</li> <li>\u5468\u56f2\u306b\u4eba\u304c\u3044\u306a\u3044\u3053\u3068\u3092\u78ba\u8a8d</li> </ul>"},{"location":"exercises/custom-rules/","title":"\u72ec\u81ea\u30eb\u30fc\u30eb\u3092\u4f5c\u6210\u3057\u3066\u307f\u3088\u3046","text":"<p>right_left_3\u30e2\u30fc\u30c9\u3092\u57fa\u306b\u3001\u72ec\u81ea\u306e\u8d70\u884c\u30eb\u30fc\u30eb\u3092\u5b9f\u88c5\u3059\u308b\u624b\u9806\u3092\u5b66\u3073\u307e\u3059\u3002</p>"},{"location":"exercises/custom-rules/#right_left_3","title":"\u57fa\u672c\u7684\u306aright_left_3\u30e2\u30fc\u30c9\u306e\u7406\u89e3","text":"<p>\u307e\u305a\u3001\u65e2\u5b58\u306eright_left_3\u30e2\u30fc\u30c9\u306e\u52d5\u4f5c\u3092\u78ba\u8a8d\u3057\u307e\u3057\u3087\u3046\u3002</p>"},{"location":"exercises/custom-rules/#plannerpyright_left_3_planner","title":"planner.py\u5185\u306eRight_Left_3_Planner\u30af\u30e9\u30b9","text":"<pre><code>def plan(self, ultrasonic_sensors):\n    \"\"\"3\u3064\u306e\u30bb\u30f3\u30b5\u30fc\uff08\u5de6\u524d\u30fb\u524d\u30fb\u53f3\u524d\uff09\u3067\u969c\u5bb3\u7269\u56de\u907f\"\"\"\n    # \u30bb\u30f3\u30b5\u30fc\u5024\u306e\u53d6\u5f97\n    left_distance = ultrasonic_sensors.get(\"FrLH\", config.CUTOFF_RANGE)\n    front_distance = ultrasonic_sensors.get(\"FrFR\", config.CUTOFF_RANGE)\n    right_distance = ultrasonic_sensors.get(\"FrRH\", config.CUTOFF_RANGE)\n\n    # \u57fa\u672c\u7684\u306a\u5224\u65ad\u30ed\u30b8\u30c3\u30af\n    if front_distance &lt; config.STOP_RANGE:\n        # \u524d\u65b9\u306b\u969c\u5bb3\u7269 \u2192 \u5de6\u53f3\u3092\u6bd4\u8f03\n        if left_distance &gt; right_distance:\n            return config.LEFT, config.FORWARD_CORNER\n        else:\n            return config.RIGHT, config.FORWARD_CORNER\n    else:\n        # \u524d\u65b9\u30af\u30ea\u30a2 \u2192 \u76f4\u9032\n        return config.NEUTRAL, config.FORWARD_STRAIGHT\n</code></pre>"},{"location":"exercises/custom-rules/#_2","title":"\u72ec\u81ea\u30eb\u30fc\u30eb\u306e\u5b9f\u88c5\u624b\u9806","text":""},{"location":"exercises/custom-rules/#1-planner","title":"\u624b\u98061: \u65b0\u3057\u3044Planner\u30af\u30e9\u30b9\u3092\u4f5c\u6210","text":"<pre><code>class My_Custom_Planner(Base_Planner):\n    def __init__(self):\n        super().__init__()\n        self.name = \"my_custom\"\n\n    def plan(self, ultrasonic_sensors):\n        \"\"\"\u72ec\u81ea\u306e\u8d70\u884c\u30eb\u30fc\u30eb\"\"\"\n        # \u30bb\u30f3\u30b5\u30fc\u5024\u306e\u53d6\u5f97\n        left_distance = ultrasonic_sensors.get(\"FrLH\", config.CUTOFF_RANGE)\n        front_distance = ultrasonic_sensors.get(\"FrFR\", config.CUTOFF_RANGE)\n        right_distance = ultrasonic_sensors.get(\"FrRH\", config.CUTOFF_RANGE)\n\n        # \u72ec\u81ea\u30eb\u30fc\u30eb\u4f8b\uff1a\u3088\u308a\u4fdd\u5b88\u7684\u306a\u8d70\u884c\n        safety_margin = 50  # \u5b89\u5168\u30de\u30fc\u30b8\u30f3(mm)\n\n        if front_distance &lt; (config.STOP_RANGE + safety_margin):\n            # \u3088\u308a\u65e9\u3081\u306b\u56de\u907f\u52d5\u4f5c\n            if left_distance &gt; right_distance + safety_margin:\n                return config.LEFT, config.FORWARD_CORNER\n            elif right_distance &gt; left_distance + safety_margin:\n                return config.RIGHT, config.FORWARD_CORNER\n            else:\n                # \u5de6\u53f3\u4e21\u65b9\u3068\u3082\u8fd1\u3044\u5834\u5408\u306f\u505c\u6b62\n                return config.NEUTRAL, config.STOP\n        else:\n            return config.NEUTRAL, config.FORWARD_STRAIGHT\n</code></pre>"},{"location":"exercises/custom-rules/#2-configpy","title":"\u624b\u98062: config.py\u306b\u65b0\u3057\u3044\u30e2\u30fc\u30c9\u3092\u8ffd\u52a0","text":"<pre><code>PLAN_LIST = [\n    \"go_straight\",\n    \"right_left_3\",\n    \"my_custom\",     # \u8ffd\u52a0\n    \"wall_follow\",\n    # ...\n]\n\nPLAN = \"my_custom\"  # \u65b0\u3057\u3044\u30e2\u30fc\u30c9\u3092\u9078\u629e\n</code></pre>"},{"location":"exercises/custom-rules/#3-plannerpy","title":"\u624b\u98063: planner.py\u306e\u30d5\u30a1\u30af\u30c8\u30ea\u95a2\u6570\u306b\u8ffd\u52a0","text":"<pre><code>def create_planner(plan_name):\n    if plan_name == \"go_straight\":\n        return Go_Straight_Planner()\n    elif plan_name == \"right_left_3\":\n        return Right_Left_3_Planner()\n    elif plan_name == \"my_custom\":     # \u8ffd\u52a0\n        return My_Custom_Planner()\n    # ...\n</code></pre>"},{"location":"exercises/custom-rules/#_3","title":"\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u306e\u30a2\u30a4\u30c7\u30a2","text":""},{"location":"exercises/custom-rules/#1","title":"1. \u901f\u5ea6\u5236\u5fa1\u306e\u6539\u826f","text":"<pre><code># \u969c\u5bb3\u7269\u306e\u8ddd\u96e2\u306b\u5fdc\u3058\u3066\u901f\u5ea6\u3092\u8abf\u6574\nif min(left_distance, front_distance, right_distance) &lt; 300:\n    throttle = config.FORWARD_CORNER * 0.7  # \u6e1b\u901f\nelse:\n    throttle = config.FORWARD_STRAIGHT\n</code></pre>"},{"location":"exercises/custom-rules/#2","title":"2. \u8907\u6570\u30bb\u30f3\u30b5\u30fc\u306e\u6d3b\u7528","text":"<pre><code># \u5f8c\u65b9\u30bb\u30f3\u30b5\u30fc\u3082\u4f7f\u7528\u3057\u3066\u3088\u308a\u5b89\u5168\u306a\u8d70\u884c\nrear_left = ultrasonic_sensors.get(\"RrLH\", config.CUTOFF_RANGE)\nrear_right = ultrasonic_sensors.get(\"RrRH\", config.CUTOFF_RANGE)\n\n# \u5f8c\u65b9\u304c\u72ed\u3044\u5834\u5408\u306f\u524d\u9032\u3092\u512a\u5148\nif min(rear_left, rear_right) &lt; 200:\n    return config.NEUTRAL, config.FORWARD_CORNER\n</code></pre>"},{"location":"exercises/custom-rules/#3","title":"3. \u72b6\u614b\u8a18\u61b6\u306e\u8ffd\u52a0","text":"<pre><code>class My_Custom_Planner(Base_Planner):\n    def __init__(self):\n        super().__init__()\n        self.last_direction = config.NEUTRAL\n        self.stuck_counter = 0\n\n    def plan(self, ultrasonic_sensors):\n        # \u524d\u56de\u306e\u65b9\u5411\u3092\u8003\u616e\u3057\u305f\u5224\u65ad\n        # \u540c\u3058\u5834\u6240\u3067\u632f\u52d5\u3059\u308b\u3053\u3068\u3092\u9632\u3050\n        ...\n</code></pre>"},{"location":"exercises/custom-rules/#_4","title":"\u30c6\u30b9\u30c8\u3068\u8abf\u6574","text":"<ol> <li><code>python run.py</code>\u3067\u65b0\u3057\u3044\u30eb\u30fc\u30eb\u3092\u30c6\u30b9\u30c8</li> <li>\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8abf\u6574\u3057\u3066\u6700\u9069\u5316</li> <li><code>python tools/graph.py</code>\u3067\u8d70\u884c\u30c7\u30fc\u30bf\u3092\u5206\u6790</li> <li>\u3055\u3089\u306a\u308b\u6539\u826f\u3092\u5b9f\u65bd</li> </ol>"},{"location":"exercises/custom-rules/#_5","title":"\u8ab2\u984c","text":""},{"location":"exercises/custom-rules/#_6","title":"\u521d\u7d1a: \u5b89\u5168\u30de\u30fc\u30b8\u30f3\u306e\u8ffd\u52a0","text":"<ul> <li>\u505c\u6b62\u8ddd\u96e2\u306b\u5b89\u5168\u30de\u30fc\u30b8\u30f3\u3092\u8ffd\u52a0</li> <li>\u5de6\u53f3\u5224\u65ad\u306b\u3082\u30de\u30fc\u30b8\u30f3\u3092\u8ffd\u52a0</li> </ul>"},{"location":"exercises/custom-rules/#_7","title":"\u4e2d\u7d1a: \u901f\u5ea6\u306e\u52d5\u7684\u5236\u5fa1","text":"<ul> <li>\u969c\u5bb3\u7269\u3068\u306e\u8ddd\u96e2\u306b\u5fdc\u3058\u3066\u901f\u5ea6\u3092\u5909\u66f4</li> <li>\u6ed1\u3089\u304b\u306a\u6e1b\u901f\u3092\u5b9f\u73fe</li> </ul>"},{"location":"exercises/custom-rules/#_8","title":"\u4e0a\u7d1a: \u30b9\u30bf\u30c3\u30af\u691c\u51fa\u3068\u56de\u5fa9","text":"<ul> <li>\u540c\u3058\u5834\u6240\u3067\u505c\u6ede\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u691c\u51fa</li> <li>\u81ea\u52d5\u7684\u306b\u30d0\u30c3\u30af\u3057\u3066\u56de\u5fa9\u3059\u308b\u6a5f\u80fd\u3092\u8ffd\u52a0</li> </ul>"},{"location":"exercises/machine-learning/","title":"\u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3067\u30eb\u30fc\u30eb\u3092\u5b66\u7fd2\u3057\u3088\u3046","text":"<p>\u30eb\u30fc\u30eb\u30d9\u30fc\u30b9\u3067\u5236\u5fa1\u3057\u3066\u3044\u305f\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u306e\u5024\u3092\u5165\u529b\u3068\u3057\u3001\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u304b\u3089\u306e\u64cd\u4f5c\u5024\u3092\u6559\u5e2b\u30c7\u30fc\u30bf\u3068\u3057\u3066\u6a21\u5023\u5b66\u7fd2\u3059\u308b\u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3067\u306e\u8d70\u884c\u3092\u5b9f\u65bd\u3057\u307e\u3059\u3002</p>"},{"location":"exercises/machine-learning/#_2","title":"\u6982\u8981","text":"<pre><code>graph LR\n    A[\u624b\u52d5\u904b\u8ee2] --&gt; B[\u30c7\u30fc\u30bf\u53ce\u96c6]\n    B --&gt; C[\u30c7\u30fc\u30bf\u5206\u6790\u3068\u30af\u30ec\u30f3\u30b8\u30f3\u30b0]\n    C --&gt; D[\u5b66\u7fd2]\n    D --&gt; E[config\u306b\u30e2\u30c7\u30eb\u8a2d\u5b9a]\n    E --&gt; F[\u81ea\u52d5\u8d70\u884c]</code></pre>"},{"location":"exercises/machine-learning/#_3","title":"\u5229\u7528\u53ef\u80fd\u306a\u30e2\u30c7\u30eb\u4e00\u89a7","text":"<p>\u7528\u9014\u306b\u5fdc\u3058\u3066\u8907\u6570\u306e\u30e2\u30c7\u30eb\u304b\u3089\u9078\u629e\u3067\u304d\u307e\u3059\uff1a</p> \u30e2\u30c7\u30eb\u540d \u5165\u529b\u30c7\u30fc\u30bf \u7279\u5fb4 \u5b66\u7fd2\u6642\u9593 \u63a8\u8ad6\u901f\u5ea6 \u304a\u3059\u3059\u3081\u5ea6 nn \u30bb\u30f3\u30b5\u30fc\u5024 \u5168\u7d50\u5408NN\u3001\u30b7\u30f3\u30d7\u30eb \u77ed \u975e\u5e38\u306b\u901f\u3044 \u2605\u2605\u2605\u2606\u2606 donkeycar \u753b\u50cf \u8efd\u91cfCNN\u3001\u30d0\u30e9\u30f3\u30b9\u578b \u4e2d \u901f\u3044 \u2605\u2605\u2605\u2605\u2605 resnet18 \u753b\u50cf \u9ad8\u7cbe\u5ea6\u3001\u4e8b\u524d\u5b66\u7fd2\u6e08\u307f \u9577 \u4e2d \u2605\u2605\u2605\u2605\u2606 mobilevit_xxs \u753b\u50cf Vision Transformer \u4e2d \u4e2d \u2605\u2605\u2605\u2606\u2606 edgenext_xx_small \u753b\u50cf \u30a8\u30c3\u30b8\u6700\u9069\u5316 \u4e2d \u901f\u3044 \u2605\u2605\u2605\u2605\u2606"},{"location":"exercises/machine-learning/#1epochorin-nano-super","title":"1epoch\u3042\u305f\u308a\u306e\u5b66\u7fd2\u6642\u9593\u306e\u76ee\u5b89\uff08Orin Nano Super\uff09","text":"\u30e2\u30c7\u30eb\u540d 1epoch\u3042\u305f\u308a donkeycar \u6570\u79d2 resnet18 \u7d0450\u79d2 mobilevit_xxs \u7d0470\u79d2 edgenext_xx_small \u7d04120\u79d2 <p>\u203b donkeycar\u4ee5\u5916\u306e\u753b\u50cf\u30e2\u30c7\u30eb\u306f\u4e8b\u524d\u5b66\u7fd2\u6e08\u307f\u306e\u91cd\u307f\u3092\u4f7f\u7528\u3059\u308b\u305f\u3081\u30013\u301c5epoch\u3067\u5341\u5206\u306a\u7cbe\u5ea6\u304c\u5f97\u3089\u308c\u307e\u3059\u3002</p>"},{"location":"exercises/machine-learning/#_4","title":"\u30e2\u30c7\u30eb\u8a73\u7d30","text":""},{"location":"exercises/machine-learning/#nn","title":"nn\uff08\u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\uff09","text":"<p>\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc/LiDAR\u306e\u8ddd\u96e2\u30c7\u30fc\u30bf\u304b\u3089\u64cd\u4f5c\u3092\u5b66\u7fd2\u3002\u753b\u50cf\u3092\u4f7f\u308f\u306a\u3044\u30b7\u30f3\u30d7\u30eb\u306a\u30e2\u30c7\u30eb\u3002</p> <pre><code>\u30bb\u30f3\u30b5\u30fc\u5165\u529b(5\u5024) \u2192 \u5168\u7d50\u5408\u5c64\u00d73 \u2192 \u51fa\u529b(steering, throttle)\n</code></pre> <ul> <li>\u2705 \u975e\u5e38\u306b\u8efd\u91cf</li> <li>\u2705 \u5b66\u7fd2\u304c\u9ad8\u901f\u3067Raspberry Pi\u3067\u3082\u5b66\u7fd2\u53ef\u80fd</li> <li>\u2705 \u30ab\u30e1\u30e9\u4e0d\u8981</li> <li>\u26a0\ufe0f \u753b\u50cf\u30e2\u30c7\u30eb\u3088\u308a\u7cbe\u5ea6\u306f\u52a3\u308b</li> </ul>"},{"location":"exercises/machine-learning/#donkeycarcnn-","title":"donkeycar\uff08\u8efd\u91cfCNN\uff09- \u304a\u3059\u3059\u3081","text":"<p>DonkeyCar\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u8efd\u91cf\u7573\u307f\u8fbc\u307f\u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3002</p> <pre><code>\u5165\u529b\u753b\u50cf(224x224x3) \u2192 Conv2D\u00d75 \u2192 \u5168\u7d50\u5408\u5c64x2 \u2192 \u51fa\u529b(steering, throttle)\n</code></pre> <ul> <li>\u2705 \u8efd\u91cf\u3067\u9ad8\u901f</li> <li>\u2705 \u5b66\u7fd2\u6642\u9593\u304c\u77ed\u3044</li> <li>\u2705 Raspberry Pi\u3067\u3082\u52d5\u4f5c\u53ef\u80fd</li> <li>\u2705 \u521d\u5fc3\u8005\u306b\u6700\u9069</li> </ul>"},{"location":"exercises/machine-learning/#resnet18resnet18","title":"resnet18\uff08ResNet18\uff09","text":"<p>ImageNet\u3067\u4e8b\u524d\u5b66\u7fd2\u6e08\u307f\u306e\u30e2\u30c7\u30eb\u3092\u8ee2\u79fb\u5b66\u7fd2\u3002</p> <ul> <li>\u2705 \u9ad8\u7cbe\u5ea6\uff08\u8907\u96d1\u306a\u30b3\u30fc\u30b9\u306b\u5f37\u3044\uff09</li> <li>\u2705 \u5c11\u306a\u3044\u30c7\u30fc\u30bf\u3067\u3082\u5b66\u7fd2\u53ef\u80fd</li> <li>\u26a0\ufe0f \u5b66\u7fd2\u6642\u9593\u304c\u9577\u3044</li> <li>\u26a0\ufe0f \u30e2\u30c7\u30eb\u30b5\u30a4\u30ba\u304c\u5927\u304d\u3044</li> </ul>"},{"location":"exercises/machine-learning/#mobilevit_xxs-edgenext_xx_small","title":"mobilevit_xxs / edgenext_xx_small","text":"<p>\u6700\u65b0\u306e\u30a8\u30c3\u30b8AI\u5411\u3051\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3002ONNX\u7d4c\u7531\u306eTensorRT\u5909\u63db\u3067\u9ad8\u901f\u5316\u3002</p> <ul> <li>\u2705 \u30b3\u30fc\u30b9\u5909\u5316\u3084\u5916\u4e71\u306b\u5f37\u3044</li> <li>\u2705 TensorRT\u5909\u63db\u30673.9\u301c5.15\u500d\u9ad8\u901f\u5316\uff08<code>python tools/onnx_trt_converter.py</code>\uff09</li> <li>\u26a0\ufe0f PyTorch\u306e\u307e\u307e\u3060\u3068\u9045\u3044</li> </ul>"},{"location":"exercises/machine-learning/#pytorch","title":"PyTorch\u30e2\u30c7\u30eb\u5b9a\u7fa9","text":"<p>\u5404\u30e2\u30c7\u30eb\u306ePyTorch\u306b\u3088\u308b\u5b9f\u88c5\u4f8b\u3067\u3059\u3002</p>"},{"location":"exercises/machine-learning/#nn_1","title":"nn\uff08\u5168\u7d50\u5408\u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\uff09","text":"<p>\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u5165\u529b\u3068\u3059\u308b\u30b7\u30f3\u30d7\u30eb\u306a\u5168\u7d50\u5408\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3002</p> <pre><code>import torch\nimport torch.nn as nn\n\nclass SensorNN(nn.Module):\n    \"\"\"\n    \u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc/LiDAR\u5024\u3092\u5165\u529b\u3068\u3059\u308b\u5168\u7d50\u5408\u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\n\n    \u5165\u529b: \u30bb\u30f3\u30b5\u30fc\u5024\uff085\u6b21\u5143: RrLH, FrLH, FrFR, FrRH, RrRH\uff09\n    \u51fa\u529b: steering, throttle\uff082\u6b21\u5143\uff09\n    \"\"\"\n\n    def __init__(self, input_dim=5, hidden_dim=64, num_hidden_layers=3, output_dim=2):\n        super(SensorNN, self).__init__()\n\n        layers = []\n\n        # \u5165\u529b\u5c64 \u2192 \u6700\u521d\u306e\u96a0\u308c\u5c64\n        layers.append(nn.Linear(input_dim, hidden_dim))\n        layers.append(nn.ReLU())\n        layers.append(nn.Dropout(0.2))\n\n        # \u96a0\u308c\u5c64\n        for _ in range(num_hidden_layers - 1):\n            layers.append(nn.Linear(hidden_dim, hidden_dim))\n            layers.append(nn.ReLU())\n            layers.append(nn.Dropout(0.2))\n\n        # \u51fa\u529b\u5c64\n        layers.append(nn.Linear(hidden_dim, output_dim))\n        layers.append(nn.Tanh())  # \u51fa\u529b\u3092-1\u301c1\u306b\u5236\u9650\n\n        self.network = nn.Sequential(*layers)\n\n    def forward(self, x):\n        \"\"\"\n        Args:\n            x: \u30bb\u30f3\u30b5\u30fc\u5024 (batch_size, 5)\n               \u6b63\u898f\u5316\u6e08\u307f\uff080\u301c1\u306e\u7bc4\u56f2\uff09\n\n        Returns:\n            \u51fa\u529b (batch_size, 2): [steering, throttle]\n        \"\"\"\n        return self.network(x)\n\n\n# \u4f7f\u7528\u4f8b\nmodel = SensorNN(input_dim=5, hidden_dim=64, num_hidden_layers=3)\nsensor_data = torch.tensor([[0.25, 0.15, 0.5, 0.3, 0.4]])  # \u6b63\u898f\u5316\u6e08\u307f\u30bb\u30f3\u30b5\u30fc\u5024\noutput = model(sensor_data)\nsteering, throttle = output[0]\n</code></pre>"},{"location":"exercises/machine-learning/#donkeycarcnn","title":"donkeycar\uff08\u8efd\u91cfCNN\uff09","text":"<p>DonkeyCar\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u8efd\u91cf\u7573\u307f\u8fbc\u307f\u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3002</p> <pre><code>import torch\nimport torch.nn as nn\n\nclass DonkeyCarCNN(nn.Module):\n    \"\"\"\n    DonkeyCar\u30b9\u30bf\u30a4\u30eb\u306e\u8efd\u91cfCNN\n\n    \u5165\u529b: \u753b\u50cf\uff083, 224, 224\uff09\n    \u51fa\u529b: steering, throttle\uff082\u6b21\u5143\uff09\n    \"\"\"\n\n    def __init__(self):\n        super(DonkeyCarCNN, self).__init__()\n\n        # \u7573\u307f\u8fbc\u307f\u5c64\n        self.conv_layers = nn.Sequential(\n            # Conv1: 3 -&gt; 24, kernel=5, stride=2\n            nn.Conv2d(3, 24, kernel_size=5, stride=2),\n            nn.ReLU(),\n\n            # Conv2: 24 -&gt; 32, kernel=5, stride=2\n            nn.Conv2d(24, 32, kernel_size=5, stride=2),\n            nn.ReLU(),\n\n            # Conv3: 32 -&gt; 64, kernel=5, stride=2\n            nn.Conv2d(32, 64, kernel_size=5, stride=2),\n            nn.ReLU(),\n\n            # Conv4: 64 -&gt; 64, kernel=3, stride=2\n            nn.Conv2d(64, 64, kernel_size=3, stride=2),\n            nn.ReLU(),\n\n            # Conv5: 64 -&gt; 64, kernel=3, stride=1\n            nn.Conv2d(64, 64, kernel_size=3, stride=1),\n            nn.ReLU(),\n        )\n\n        # \u5168\u7d50\u5408\u5c64\n        self.fc_layers = nn.Sequential(\n            nn.Flatten(),\n            nn.Linear(64 * 10 * 10, 100),\n            nn.ReLU(),\n            nn.Dropout(0.5),\n            nn.Linear(100, 50),\n            nn.ReLU(),\n            nn.Dropout(0.5),\n            nn.Linear(50, 2),\n            nn.Tanh(),\n        )\n\n    def forward(self, x):\n        \"\"\"\n        Args:\n            x: \u5165\u529b\u753b\u50cf (batch_size, 3, 224, 224)\n               \u6b63\u898f\u5316\u6e08\u307f\uff080\u301c1\u306e\u7bc4\u56f2\uff09\n\n        Returns:\n            \u51fa\u529b (batch_size, 2): [steering, throttle]\n        \"\"\"\n        x = self.conv_layers(x)\n        x = self.fc_layers(x)\n        return x\n\n\n# \u4f7f\u7528\u4f8b\nmodel = DonkeyCarCNN()\nimage = torch.randn(1, 3, 224, 224)  # \u30c0\u30df\u30fc\u753b\u50cf\noutput = model(image)\nsteering, throttle = output[0]\n</code></pre>"},{"location":"exercises/machine-learning/#resnet18","title":"resnet18\uff08\u8ee2\u79fb\u5b66\u7fd2\uff09","text":"<p>ImageNet\u3067\u4e8b\u524d\u5b66\u7fd2\u6e08\u307f\u306eResNet18\u3092\u8ee2\u79fb\u5b66\u7fd2\u3002</p> <pre><code>import torch\nimport torch.nn as nn\nfrom torchvision import models\n\nclass ResNet18Pilot(nn.Module):\n    \"\"\"\n    ResNet18\u30d9\u30fc\u30b9\u306e\u8ee2\u79fb\u5b66\u7fd2\u30e2\u30c7\u30eb\n\n    \u5165\u529b: \u753b\u50cf\uff083, 224, 224\uff09\n    \u51fa\u529b: steering, throttle\uff082\u6b21\u5143\uff09\n    \"\"\"\n\n    def __init__(self, pretrained=True):\n        super(ResNet18Pilot, self).__init__()\n\n        # \u4e8b\u524d\u5b66\u7fd2\u6e08\u307fResNet18\u3092\u30ed\u30fc\u30c9\n        self.backbone = models.resnet18(\n            weights=models.ResNet18_Weights.IMAGENET1K_V1 if pretrained else None\n        )\n\n        # \u6700\u7d42\u5c64\u306e\u5165\u529b\u6b21\u5143\u3092\u53d6\u5f97\n        num_features = self.backbone.fc.in_features\n\n        # \u6700\u7d42\u5c64\u3092\u7f6e\u304d\u63db\u3048\n        self.backbone.fc = nn.Sequential(\n            nn.Linear(num_features, 256),\n            nn.ReLU(),\n            nn.Dropout(0.5),\n            nn.Linear(256, 64),\n            nn.ReLU(),\n            nn.Dropout(0.3),\n            nn.Linear(64, 2),\n            nn.Tanh(),\n        )\n\n    def forward(self, x):\n        \"\"\"\n        Args:\n            x: \u5165\u529b\u753b\u50cf (batch_size, 3, 224, 224)\n               ImageNet\u6b63\u898f\u5316\u6e08\u307f\n\n        Returns:\n            \u51fa\u529b (batch_size, 2): [steering, throttle]\n        \"\"\"\n        return self.backbone(x)\n\n    def freeze_backbone(self, freeze=True):\n        \"\"\"\n        \u30d0\u30c3\u30af\u30dc\u30fc\u30f3\u306e\u91cd\u307f\u3092\u56fa\u5b9a/\u89e3\u9664\n\n        Args:\n            freeze: True\u3067\u56fa\u5b9a\u3001False\u3067\u89e3\u9664\n        \"\"\"\n        for name, param in self.backbone.named_parameters():\n            if 'fc' not in name:\n                param.requires_grad = not freeze\n\n\n# \u4f7f\u7528\u4f8b\nmodel = ResNet18Pilot(pretrained=True)\n\n# \u6700\u521d\u306f\u30d0\u30c3\u30af\u30dc\u30fc\u30f3\u3092\u56fa\u5b9a\u3057\u3066\u5b66\u7fd2\uff08\u8ee2\u79fb\u5b66\u7fd2\uff09\nmodel.freeze_backbone(freeze=True)\n\n# \u753b\u50cf\u306e\u524d\u51e6\u7406\uff08ImageNet\u6b63\u898f\u5316\uff09\nfrom torchvision import transforms\npreprocess = transforms.Compose([\n    transforms.Resize((224, 224)),\n    transforms.ToTensor(),\n    transforms.Normalize(\n        mean=[0.485, 0.456, 0.406],\n        std=[0.229, 0.224, 0.225]\n    ),\n])\n\n# \u63a8\u8ad6\nimage = torch.randn(1, 3, 224, 224)  # \u30c0\u30df\u30fc\u753b\u50cf\uff08\u6b63\u898f\u5316\u6e08\u307f\uff09\noutput = model(image)\nsteering, throttle = output[0]\n</code></pre>"},{"location":"exercises/machine-learning/#_5","title":"\u30e2\u30c7\u30eb\u306e\u5b66\u7fd2\u30eb\u30fc\u30d7\u4f8b","text":"<pre><code>import torch\nimport torch.nn as nn\nimport torch.optim as optim\nfrom torch.utils.data import DataLoader\n\ndef train_model(model, train_loader, val_loader, epochs=30, lr=0.001):\n    \"\"\"\n    \u30e2\u30c7\u30eb\u306e\u5b66\u7fd2\n\n    Args:\n        model: PyTorch\u30e2\u30c7\u30eb\n        train_loader: \u5b66\u7fd2\u30c7\u30fc\u30bf\u30ed\u30fc\u30c0\u30fc\n        val_loader: \u691c\u8a3c\u30c7\u30fc\u30bf\u30ed\u30fc\u30c0\u30fc\n        epochs: \u30a8\u30dd\u30c3\u30af\u6570\n        lr: \u5b66\u7fd2\u7387\n    \"\"\"\n    device = torch.device(\"cuda\" if torch.cuda.is_available() else \"cpu\")\n    model = model.to(device)\n\n    criterion = nn.MSELoss()\n    optimizer = optim.Adam(model.parameters(), lr=lr)\n    scheduler = optim.lr_scheduler.ReduceLROnPlateau(\n        optimizer, mode='min', factor=0.5, patience=5\n    )\n\n    best_val_loss = float('inf')\n\n    for epoch in range(epochs):\n        # \u5b66\u7fd2\u30d5\u30a7\u30fc\u30ba\n        model.train()\n        train_loss = 0.0\n        for inputs, targets in train_loader:\n            inputs, targets = inputs.to(device), targets.to(device)\n\n            optimizer.zero_grad()\n            outputs = model(inputs)\n            loss = criterion(outputs, targets)\n            loss.backward()\n            optimizer.step()\n\n            train_loss += loss.item()\n\n        train_loss /= len(train_loader)\n\n        # \u691c\u8a3c\u30d5\u30a7\u30fc\u30ba\n        model.eval()\n        val_loss = 0.0\n        with torch.no_grad():\n            for inputs, targets in val_loader:\n                inputs, targets = inputs.to(device), targets.to(device)\n                outputs = model(inputs)\n                loss = criterion(outputs, targets)\n                val_loss += loss.item()\n\n        val_loss /= len(val_loader)\n        scheduler.step(val_loss)\n\n        print(f\"Epoch {epoch+1}/{epochs} - Train Loss: {train_loss:.4f}, Val Loss: {val_loss:.4f}\")\n\n        # \u30d9\u30b9\u30c8\u30e2\u30c7\u30eb\u3092\u4fdd\u5b58\n        if val_loss &lt; best_val_loss:\n            best_val_loss = val_loss\n            torch.save(model.state_dict(), \"best_model.pth\")\n\n    return model\n</code></pre>"},{"location":"exercises/machine-learning/#_6","title":"\u30e2\u30c7\u30eb\u9078\u629e\u30ac\u30a4\u30c9","text":"\u72b6\u6cc1 \u304a\u3059\u3059\u3081\u30e2\u30c7\u30eb \u30bb\u30f3\u30b5\u30fc\u306e\u307f\u3067\u8a66\u3057\u305f\u3044 nn \u521d\u5fc3\u8005\u30fb\u30cf\u30f3\u30ba\u30aa\u30f3 donkeycar \u9ad8\u7cbe\u5ea6\u3092\u76ee\u6307\u3059 resnet18, edgenext_xx_small Jetson + TensorRT edgenext_xx_small"},{"location":"exercises/machine-learning/#jetson-orin-nano-tensorrt","title":"\u63a8\u8ad6\u901f\u5ea6\u306e\u6bd4\u8f03\uff08Jetson Orin Nano + TensorRT\uff09","text":"\u30e2\u30c7\u30eb \u63a8\u8ad6\u6642\u9593 FPS \u901f\u5ea6\u5411\u4e0a donkeycar 1.65ms 606 1.26x edgenext_xx_small 4.42ms 226 5.15x resnet18 4.89ms 204 2.12x mobilevit_xxs 7.43ms 134 3.92x"},{"location":"exercises/machine-learning/#configpy","title":"\u6a5f\u68b0\u5b66\u7fd2\u95a2\u9023\u306econfig.py\u8a2d\u5b9a","text":"<pre><code># NN\u30d1\u30e9\u30e1\u30fc\u30bf\nHAVE_NN = True\n\n## \u5b66\u7fd2\u6e08\u307f\u30e2\u30c7\u30eb\u306e\u30d1\u30b9\nmodel_dir = \"models\"\nmodel_name = \"model_20240709_record_20240624_023159.csv_epoch_30_uls_RrLH_FrLH_Fr_FrRH_RrRH.pth\"\nmodel_path = os.path.join(model_dir, model_name)\n\n## \u30e2\u30c7\u30eb\u3068\u5b66\u7fd2\u306e\u30cf\u30a4\u30d1\u30fc\u30d1\u30e9\u30e1\u30fc\u30bf\u8a2d\u5b9a\nhidden_dim = 64       # \u96a0\u308c\u5c64\u306e\u30ce\u30fc\u30c9\u6570\nnum_hidden_layers = 3 # \u96a0\u308c\u5c64\u306e\u6570\nbatch_size = 8\n\n# \u63a8\u8ad6\u30a8\u30f3\u30b8\u30f3\uff08\u5b66\u7fd2\u6642\u306fpytorch\u3001\u63a8\u8ad6\u6642\u306b\u5909\u66f4\u53ef\u80fd\uff09\nINFERENCE_ENGINE = \"pytorch\"  # \"tensorrt\", \"openvino\"\n\n# \u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u6b63\u898f\u5316\nNORMALIZE_RANGE = 2000  # 2000mm \u2192 1.0\n</code></pre>"},{"location":"exercises/machine-learning/#_7","title":"\u5b66\u7fd2\u624b\u9806","text":""},{"location":"exercises/machine-learning/#1","title":"\u30b9\u30c6\u30c3\u30d71: \u30c7\u30fc\u30bf\u53ce\u96c6","text":"<p>\u30de\u30cb\u30e5\u30a2\u30eb\u30e2\u30fc\u30c9\u3067\u8d70\u884c\u3057\u3001\u64cd\u4f5c\u30c7\u30fc\u30bf\u3092\u8a18\u9332\uff1a</p> <pre><code>python run.py\n</code></pre> <ul> <li>Y\u30dc\u30bf\u30f3\uff08\u307e\u305f\u306f\u8a2d\u5b9a\u3057\u305f\u30ad\u30fc\uff09\u3067\u8a18\u9332\u958b\u59cb/\u505c\u6b62</li> <li>\u3067\u304d\u308b\u3060\u3051\u591a\u304f\u306e\u30d1\u30bf\u30fc\u30f3\u3092\u53ce\u96c6</li> </ul>"},{"location":"exercises/machine-learning/#2","title":"\u30b9\u30c6\u30c3\u30d72: \u5b66\u7fd2\u5b9f\u884c","text":"<pre><code># config.py\u306e\u8a2d\u5b9a\u306b\u57fa\u3065\u3044\u3066\u81ea\u52d5\u7684\u306b\u5b66\u7fd2\u3092\u5b9f\u884c\npython train_pytorch.py\n</code></pre> <p>\u307e\u305f\u306f\u3001data_viewer\uff08nn\u30e2\u30c7\u30eb\u5229\u7528\u6642\u306e\u63a8\u5968\uff09\u3092\u5229\u7528\u3057\u3001\u53ce\u96c6\u3057\u305f\u30c7\u30fc\u30bf\u306e\u5206\u6790\u3084\u5b66\u7fd2\u306b\u4f7f\u7528\u3057\u306a\u3044\u30c7\u30fc\u30bf\uff08\u30af\u30e9\u30c3\u30b7\u30e5\u6642\u3001\u624b\u3067\u4fee\u6b63\u3057\u305f\u6642\u306a\u3069\uff09\u3092\u9664\u5916\u3067\u304d\u307e\u3059\u3002</p> <p>\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb:</p> <pre><code># \u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u30af\u30ed\u30fc\u30f3\ngit clone https://github.com/Romihi/data_viewer.git\ncd data_viewer\n\n# \u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\npip install -r requirements.txt\n</code></pre> <p>\u8d77\u52d5\u65b9\u6cd5:</p> <pre><code>python app.py\n# \u307e\u305f\u306f\n./run.sh\n</code></pre> <p>\u30d6\u30e9\u30a6\u30b6\u3067 <code>http://localhost:5000</code> \u306b\u30a2\u30af\u30bb\u30b9</p> <p>\u4e3b\u306a\u6a5f\u80fd:</p> \u6a5f\u80fd \u8aac\u660e \u30c7\u30fc\u30bf\u53ef\u8996\u5316 Chart.js\u306b\u3088\u308b\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u306a\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u30c1\u30e3\u30fc\u30c8 \u30d2\u30b9\u30c8\u30b0\u30e9\u30e0 \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u30fb\u30b9\u30ed\u30c3\u30c8\u30eb\u306e\u30c7\u30fc\u30bf\u5206\u5e03\u3092\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u8868\u793a \u7d71\u8a08\u30d1\u30cd\u30eb \u5e73\u5747\u3001\u6a19\u6e96\u504f\u5dee\u3001\u6700\u5c0f/\u6700\u5927\u5024\u3001\u56db\u5206\u4f4d\u6570\u3092\u81ea\u52d5\u8a08\u7b97 \u753b\u50cf\u78ba\u8a8d \u8907\u6570\u30ab\u30e1\u30e9\u753b\u50cf\u306e\u540c\u6642\u8868\u793a\u3001\u30b9\u30e9\u30a4\u30c0\u30fc\u3067\u4efb\u610f\u30d5\u30ec\u30fc\u30e0\u3092\u78ba\u8a8d \u30c7\u30fc\u30bf\u51e6\u7406 \u6b63\u898f\u5316\uff08-1\u301c1\uff09\u3001\u79fb\u52d5\u5e73\u5747\uff08MA\uff09\u3001\u6307\u6570\u79fb\u52d5\u5e73\u5747\uff08EMA\uff09\u306b\u3088\u308b\u5e73\u6ed1\u5316 \u524a\u9664\u7ba1\u7406 \u4e0d\u826f\u30c7\u30fc\u30bf\u306e\u7bc4\u56f2\u9078\u629e\u3068\u524a\u9664\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u7ba1\u7406 \u5b66\u7fd2\u6a5f\u80fd \u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u5b66\u7fd2\u3092\u5b9f\u884c"},{"location":"exercises/machine-learning/#3","title":"\u30b9\u30c6\u30c3\u30d73: \u30e2\u30c7\u30eb\u8a2d\u5b9a","text":"<pre><code># config.py\nPLAN = \"nn\"\n## \u5b66\u7fd2\u6e08\u307f\u30e2\u30c7\u30eb\u306e\u30d1\u30b9\nmodel_dir = \"models\"\nmodel_name = \"model_20240709_record_20240624_023159.csv_epoch_30_uls_RrLH_FrLH_Fr_FrRH_RrRH.pth\"\nmodel_path = os.path.join(model_dir, model_name)\n</code></pre>"},{"location":"exercises/machine-learning/#35-tensorrtjetson","title":"\u30b9\u30c6\u30c3\u30d73.5: TensorRT\u5909\u63db\uff08Jetson\u306e\u307f\u30fb\u4efb\u610f\uff09","text":"<p>Jetson\u3067\u753b\u50cf\u30e2\u30c7\u30eb\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001TensorRT\u5909\u63db\u3067\u63a8\u8ad6\u901f\u5ea6\u3092\u5927\u5e45\u306b\u5411\u4e0a\u3067\u304d\u307e\u3059\u3002 \u5b66\u7fd2\u5b8c\u4e86\u5f8c\u306b\u81ea\u52d5\u3067\u63d0\u6848\u3055\u308c\u307e\u3059\u304c\u3001\u5f8c\u304b\u3089\u624b\u52d5\u3067\u5b9f\u884c\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059:</p> <pre><code>python tools/onnx_trt_converter.py\n</code></pre> <p>\u5909\u63db\u5f8c\u306f config.py \u3092\u5909\u66f4\u3057\u3066\u4f7f\u7528\u3057\u307e\u3059:</p> <pre><code># config.py\nINFERENCE_ENGINE = \"tensorrt\"\nMODEL_NAME = \"edgenext_xx_small_20260208.trt\"\n</code></pre> <p>\u8a73\u7d30\u306f TensorRT / OpenVINO \u63a8\u8ad6 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"exercises/machine-learning/#4","title":"\u30b9\u30c6\u30c3\u30d74: \u5b66\u7fd2\u3057\u305f\u30e2\u30c7\u30eb\u3067\u81ea\u52d5\u8d70\u884c","text":"<pre><code>python run.py\n</code></pre>"},{"location":"exercises/machine-learning/#_8","title":"\u30ab\u30e1\u30e9\u30c7\u30fc\u30bf\u306e\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3068\u5b66\u7fd2","text":"<p>\u30ab\u30e1\u30e9\u3092\u4f7f\u3063\u305f\u753b\u50cf\u8a8d\u8b58\u30e2\u30c7\u30eb\u306e\u5b66\u7fd2\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u624b\u9806\u3092\u63a8\u5968\u3057\u307e\u3059\uff1a</p>"},{"location":"exercises/machine-learning/#1_1","title":"1. \u30c7\u30fc\u30bf\u53ce\u96c6","text":"<pre><code># config.py\nSAVE_FORMAT = \"donkeycar\"  # Donkeycar\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u4fdd\u5b58\n</code></pre>"},{"location":"exercises/machine-learning/#2_1","title":"2. \u30c7\u30fc\u30bf\u5206\u6790\u30fb\u5b66\u7fd2\u30c4\u30fc\u30eb","text":""},{"location":"exercises/machine-learning/#annotation_training_d2j","title":"annotation_training_d2j","text":"<p>annotation_training_d2j\u306f\u3001\u3088\u308a\u9ad8\u5ea6\u306a\u30c7\u30fc\u30bf\u51e6\u7406\u3092\u884c\u3046\u30c4\u30fc\u30eb\u3067\u3059\uff1a</p> <ul> <li>\u30c7\u30fc\u30bf\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\uff08\u30e9\u30d9\u30eb\u4ed8\u3051\uff09</li> <li>\u30c7\u30fc\u30bf\u62e1\u5f35\uff08\u56de\u8ee2\u3001\u660e\u5ea6\u5909\u66f4\u306a\u3069\uff09</li> <li>\u4f4d\u7f6e\u63a8\u8ad6\u30e2\u30c7\u30eb\u306e\u5b66\u7fd2</li> </ul>"},{"location":"exercises/machine-learning/#_9","title":"\u5b9f\u7fd2\u8ab2\u984c","text":""},{"location":"exercises/machine-learning/#1-nn","title":"\u8ab2\u984c1: \u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fcNN\u306e\u5b66\u7fd2","text":"<ol> <li>\u30de\u30cb\u30e5\u30a2\u30eb\u30e2\u30fc\u30c9\u3067\u5468\u56de\u30b3\u30fc\u30b9\u309210\u5468\u8d70\u884c</li> <li>\u53ce\u96c6\u3057\u305f\u30c7\u30fc\u30bf\u3067\u5b66\u7fd2</li> <li><code>nn</code>\u30e2\u30fc\u30c9\u3067\u81ea\u52d5\u8d70\u884c\u3092\u8a66\u3059</li> <li>\u7d50\u679c\u3092\u8a55\u4fa1</li> </ol>"},{"location":"exercises/machine-learning/#2_2","title":"\u8ab2\u984c2: \u7570\u306a\u308b\u30cf\u30a4\u30d1\u30fc\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u6bd4\u8f03","text":"\u8a2d\u5b9a hidden_dim num_hidden_layers \u7d50\u679c A 32 2 B 64 3 C 128 4"},{"location":"exercises/machine-learning/#3_1","title":"\u8ab2\u984c3: \u30c7\u30fc\u30bf\u91cf\u3068\u7cbe\u5ea6\u306e\u95a2\u4fc2","text":"<ol> <li>5\u5468\u5206\u306e\u30c7\u30fc\u30bf\u3067\u5b66\u7fd2</li> <li>10\u5468\u5206\u306e\u30c7\u30fc\u30bf\u3067\u5b66\u7fd2</li> <li>20\u5468\u5206\u306e\u30c7\u30fc\u30bf\u3067\u5b66\u7fd2</li> <li>\u305d\u308c\u305e\u308c\u306e\u8d70\u884c\u7cbe\u5ea6\u3092\u6bd4\u8f03</li> </ol>"},{"location":"exercises/machine-learning/#_10","title":"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0","text":""},{"location":"exercises/machine-learning/#_11","title":"\u30e2\u30c7\u30eb\u304c\u5b66\u7fd2\u3057\u306a\u3044","text":"<ul> <li>\u30c7\u30fc\u30bf\u91cf\u304c\u5c11\u306a\u3059\u304e\u308b\u53ef\u80fd\u6027</li> <li>\u5b66\u7fd2\u7387\u304c\u9069\u5207\u304b\u78ba\u8a8d</li> <li>\u30c7\u30fc\u30bf\u306b\u30ce\u30a4\u30ba\u304c\u591a\u3044\u5834\u5408\u306f\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0</li> </ul>"},{"location":"exercises/machine-learning/#_12","title":"\u63a8\u8ad6\u6642\u306b\u7570\u5e38\u52d5\u4f5c","text":"<ul> <li>\u5b66\u7fd2\u30c7\u30fc\u30bf\u3068\u63a8\u8ad6\u6642\u306e\u74b0\u5883\u304c\u7570\u306a\u308b\u53ef\u80fd\u6027</li> <li>\u30bb\u30f3\u30b5\u30fc\u306e\u30ad\u30e3\u30ea\u30d6\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u78ba\u8a8d</li> <li>\u30e2\u30c7\u30eb\u304c\u904e\u5b66\u7fd2\u3057\u3066\u3044\u308b\u53ef\u80fd\u6027</li> </ul>"},{"location":"exercises/machine-learning/#gpu","title":"GPU\u30e1\u30e2\u30ea\u4e0d\u8db3","text":"<ul> <li><code>BATCH_SIZE</code>\u3092\u5c0f\u3055\u304f\u3059\u308b</li> <li>\u30e2\u30c7\u30eb\u3092\u8efd\u91cf\u306a\u3082\u306e\u306b\u5909\u66f4</li> </ul>"},{"location":"exercises/pid-control/","title":"PID\u5236\u5fa1\u3067\u8235\u89d2\u5024\u3092\u3044\u3044\u611f\u3058\u306b\u3057\u3088\u3046","text":"<p>PID\u5236\u5fa1\u3092\u4f7f\u3063\u3066\u58c1\u6cbf\u3044\u8d70\u884c\u3092\u6ed1\u3089\u304b\u306b\u3059\u308b\u65b9\u6cd5\u3092\u5b66\u3073\u307e\u3059\u3002</p>"},{"location":"exercises/pid-control/#pid_1","title":"PID\u5236\u5fa1\u3068\u306f","text":"<p>PID\u5236\u5fa1\u306f\u3001\u76ee\u6a19\u5024\u3068\u73fe\u5728\u5024\u306e\u5dee\uff08\u504f\u5dee\uff09\u3092\u4f7f\u3063\u3066\u5236\u5fa1\u91cf\u3092\u6c7a\u5b9a\u3059\u308b\u624b\u6cd5\u3067\u3059\u3002\u58c1\u6cbf\u3044\u8d70\u884c\u3067\u306f\u3001\u76ee\u6a19\u8ddd\u96e2\u3068\u5b9f\u6e2c\u8ddd\u96e2\u306e\u5dee\u304b\u3089\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u89d2\u5ea6\u3092\u8a08\u7b97\u3057\u307e\u3059\u3002</p> <pre><code>graph LR\n    A[\u76ee\u6a19\u8ddd\u96e2&lt;br/&gt;200mm] --&gt; B[\u504f\u5dee\u8a08\u7b97&lt;br/&gt;e = \u76ee\u6a19 - \u5b9f\u6e2c]\n    C[\u5b9f\u6e2c\u8ddd\u96e2&lt;br/&gt;\u30bb\u30f3\u30b5\u30fc\u5024] --&gt; B\n    B --&gt; D[P\u5236\u5fa1&lt;br/&gt;\u6bd4\u4f8b]\n    B --&gt; E[I\u5236\u5fa1&lt;br/&gt;\u7a4d\u5206]\n    B --&gt; F[D\u5236\u5fa1&lt;br/&gt;\u5fae\u5206]\n    D --&gt; G[\u5236\u5fa1\u91cf&lt;br/&gt;\u5408\u8a08]\n    E --&gt; G\n    F --&gt; G\n    G --&gt; H[\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0&lt;br/&gt;\u89d2\u5ea6]\n\n    style A fill:#66cc66,stroke:#000,stroke-width:2px,color:#000\n    style C fill:#ffcc99,stroke:#000,stroke-width:2px,color:#000\n    style G fill:#ff9966,stroke:#000,stroke-width:2px,color:#000</code></pre>"},{"location":"exercises/pid-control/#_1","title":"\u5404\u5236\u5fa1\u306e\u5f79\u5272","text":"\u5236\u5fa1 \u8a08\u7b97\u5f0f \u5f79\u5272 \u52b9\u679c P\uff08\u6bd4\u4f8b\uff09 <code>K_P \u00d7 \u504f\u5dee</code> \u73fe\u5728\u306e\u504f\u5dee\u306b\u6bd4\u4f8b\u3057\u305f\u5236\u5fa1 \u57fa\u672c\u7684\u306a\u8ffd\u5f93\u6027\u80fd I\uff08\u7a4d\u5206\uff09 <code>K_I \u00d7 \u03a3\u504f\u5dee</code> \u904e\u53bb\u306e\u504f\u5dee\u306e\u7d2f\u7a4d\u3092\u8003\u616e \u5b9a\u5e38\u504f\u5dee\u306e\u9664\u53bb D\uff08\u5fae\u5206\uff09 <code>K_D \u00d7 \u0394\u504f\u5dee</code> \u504f\u5dee\u306e\u5909\u5316\u7387\u3092\u8003\u616e \u632f\u52d5\u306e\u6291\u5236\u3001\u5fdc\u7b54\u6027\u5411\u4e0a"},{"location":"exercises/pid-control/#configpy","title":"config.py\u8a2d\u5b9a","text":"<pre><code>PLAN = \"wall_follow_pid\"\n\n# \u53f3\u624b\u6cd5/\u5de6\u624b\u6cd5\u306e\u9078\u629e\nHAND_SIDE = \"right\"  # \"left\"\n\n## PID\u30d1\u30e9\u30e1\u30fc\u30bf(PD\u307e\u3067\u3092\u63a8\u5968)\nK_P = 0.005  # \u6bd4\u4f8b\u30b2\u30a4\u30f3\nK_I = 0.0    # \u7a4d\u5206\u30b2\u30a4\u30f3\uff08\u901a\u5e380\u3067\u5341\u5206\uff09\nK_D = 0.0005 # \u5fae\u5206\u30b2\u30a4\u30f3\n\n# \u76ee\u6a19\u8ddd\u96e2\u306e\u8a2d\u5b9a\nTARGET_RANGE = 200  # \u58c1\u304b\u3089\u306e\u76ee\u6a19\u8ddd\u96e2(mm)\n</code></pre>"},{"location":"exercises/pid-control/#_2","title":"\u30d1\u30e9\u30e1\u30fc\u30bf\u8abf\u6574\u306e\u30b3\u30c4","text":""},{"location":"exercises/pid-control/#1-p","title":"\u30b9\u30c6\u30c3\u30d71: \u307e\u305aP\u5236\u5fa1\u306e\u307f\u3067\u8abf\u6574","text":"<pre><code>K_P = 0.005\nK_I = 0.0\nK_D = 0.0\n</code></pre> <ul> <li>K_P\u3092\u5f90\u3005\u306b\u4e0a\u3052\u3066\u57fa\u672c\u7684\u306a\u8ffd\u5f93\u3092\u78ba\u8a8d</li> <li>\u632f\u52d5\u3057\u59cb\u3081\u308b\u624b\u524d\u3067\u6b62\u3081\u308b</li> </ul>"},{"location":"exercises/pid-control/#2-d","title":"\u30b9\u30c6\u30c3\u30d72: \u6b21\u306bD\u5236\u5fa1\u3092\u8ffd\u52a0","text":"<pre><code>K_P = 0.005\nK_I = 0.0\nK_D = 0.0005\n</code></pre> <ul> <li>K_D\u3092\u5c11\u3057\u305a\u3064\u4e0a\u3052\u3066\u632f\u52d5\u3092\u6291\u5236</li> <li>\u5fdc\u7b54\u304c\u9045\u304f\u306a\u3089\u306a\u3044\u7a0b\u5ea6\u306b\u8abf\u6574</li> </ul>"},{"location":"exercises/pid-control/#3-i","title":"\u30b9\u30c6\u30c3\u30d73: \u5fc5\u8981\u306b\u5fdc\u3058\u3066I\u5236\u5fa1\u3092\u8ffd\u52a0","text":"<pre><code>K_P = 0.005\nK_I = 0.0001  # \u975e\u5e38\u306b\u5c0f\u3055\u3044\u5024\u304b\u3089\nK_D = 0.0005\n</code></pre> <ul> <li>\u5b9a\u5e38\u7684\u306a\u30ba\u30ec\u304c\u3042\u308b\u5834\u5408\u306e\u307f\u4f7f\u7528</li> <li>K_I\u306f\u975e\u5e38\u306b\u5c0f\u3055\u3044\u5024\u304b\u3089\u958b\u59cb</li> </ul>"},{"location":"exercises/pid-control/#_3","title":"\u8abf\u6574\u6642\u306e\u73fe\u8c61\u3068\u5bfe\u7b56","text":"\u73fe\u8c61 \u539f\u56e0 \u5bfe\u7b56 \u632f\u52d5\u3059\u308b K_P\u304c\u5927\u304d\u3059\u304e\u308b K_P\u3092\u4e0b\u3052\u308b\u3001K_D\u3092\u4e0a\u3052\u308b \u8ffd\u5f93\u304c\u9045\u3044 K_P\u304c\u5c0f\u3055\u3059\u304e\u308b K_P\u3092\u4e0a\u3052\u308b \u30aa\u30fc\u30d0\u30fc\u30b7\u30e5\u30fc\u30c8 K_D\u304c\u5c0f\u3055\u3059\u304e\u308b K_D\u3092\u4e0a\u3052\u308b \u5b9a\u5e38\u504f\u5dee\u304c\u3042\u308b I\u5236\u5fa1\u304c\u4e0d\u8db3 K_I\u3092\u5c11\u3057\u8ffd\u52a0 \u767a\u632f\u3059\u308b K_I\u304c\u5927\u304d\u3059\u304e\u308b K_I\u3092\u4e0b\u3052\u308b"},{"location":"exercises/pid-control/#_4","title":"\u5b9f\u7fd2\uff1a\u30d1\u30e9\u30e1\u30fc\u30bf\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0","text":""},{"location":"exercises/pid-control/#_5","title":"\u76ee\u6a19","text":"<p>\u58c1\u304b\u3089200mm\u306e\u8ddd\u96e2\u3092\u7dad\u6301\u3057\u306a\u304c\u3089\u8d70\u884c\u3059\u308b</p>"},{"location":"exercises/pid-control/#_6","title":"\u8a18\u9332\u30b7\u30fc\u30c8","text":"\u8a66\u884c K_P K_I K_D \u7d50\u679c 1 0.003 0 0 2 0.005 0 0 3 0.007 0 0 4 0.005 0 0.0003 5 0.005 0 0.0005"},{"location":"exercises/pid-control/#_7","title":"\u8a55\u4fa1\u57fa\u6e96","text":"<ul> <li>\u5b89\u5b9a\u6027: \u632f\u52d5\u305b\u305a\u306b\u8d70\u884c\u3067\u304d\u308b\u304b</li> <li>\u8ffd\u5f93\u6027: \u58c1\u3068\u306e\u8ddd\u96e2\u3092\u7dad\u6301\u3067\u304d\u308b\u304b</li> <li>\u5fdc\u7b54\u6027: \u58c1\u304c\u8fd1\u3065\u3044\u305f\u6642\u306b\u7d20\u65e9\u304f\u53cd\u5fdc\u3059\u308b\u304b</li> </ul>"},{"location":"exercises/pid-control/#_8","title":"\u767a\u5c55\u8ab2\u984c","text":""},{"location":"exercises/pid-control/#1","title":"\u8ab2\u984c1: \u7570\u306a\u308b\u76ee\u6a19\u8ddd\u96e2\u3067\u306e\u8abf\u6574","text":"<ul> <li><code>TARGET_RANGE = 150</code> \u306b\u5909\u66f4</li> <li>\u540c\u3058\u30d1\u30e9\u30e1\u30fc\u30bf\u3067\u52d5\u4f5c\u3059\u308b\u304b\u78ba\u8a8d</li> <li>\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u518d\u8abf\u6574</li> </ul>"},{"location":"exercises/pid-control/#2","title":"\u8ab2\u984c2: \u901f\u5ea6\u3092\u5909\u3048\u305f\u5834\u5408\u306e\u8abf\u6574","text":"<ul> <li><code>FORWARD_S</code>\u3092\u5909\u66f4\uff080.4 \u2192 0.6\uff09</li> <li>PID\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u518d\u8abf\u6574\u304c\u5fc5\u8981\u304b\u691c\u8a3c</li> </ul>"},{"location":"exercises/pid-control/#3","title":"\u8ab2\u984c3: \u5de6\u624b\u6cd5\u3068\u53f3\u624b\u6cd5\u306e\u5207\u308a\u66ff\u3048","text":"<ul> <li><code>HAND_SIDE = \"left\"</code> \u306b\u5909\u66f4</li> <li>\u540c\u3058\u30d1\u30e9\u30e1\u30fc\u30bf\u3067\u52d5\u4f5c\u3059\u308b\u304b\u78ba\u8a8d</li> </ul>"},{"location":"lesson/control/","title":"\u64cd\u4f5c","text":"<p>\u81ea\u52d5\u904b\u8ee2\u306e3\u756a\u76ee\u306e\u30b9\u30c6\u30c3\u30d7\u300c\u64cd\u4f5c\u300d\u306b\u3064\u3044\u3066\u5b66\u3073\u307e\u3059\u3002</p>"},{"location":"lesson/control/#_2","title":"\u64cd\u4f5c\u3068\u306f","text":"<p>\u64cd\u4f5c\u3068\u306f\u3001\u5224\u65ad\u7d50\u679c\u3092\u5b9f\u969b\u306e\u52d5\u304d\u306b\u5909\u3048\u308b\u3053\u3068\u3067\u3059\u3002\u4eba\u9593\u3067\u8a00\u3048\u3070\u300c\u624b\u8db3\u3092\u52d5\u304b\u3059\u300d\u306b\u76f8\u5f53\u3057\u307e\u3059\u3002</p> <pre><code>graph LR\n    A[\u5224\u65ad\u7d50\u679c] --&gt; B[\u5236\u5fa1\u5024\u5909\u63db]\n    B --&gt; C[PWM\u4fe1\u53f7]\n    C --&gt; D[\u30b5\u30fc\u30dc/\u30e2\u30fc\u30bf\u30fc]\n    D --&gt; E[\u8eca\u4e21\u306e\u52d5\u304d]</code></pre>"},{"location":"lesson/control/#pwm","title":"\u5236\u5fa1\u5024\u304b\u3089PWM\u3078\u306e\u5909\u63db","text":"<p>\u5224\u65ad\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u51fa\u529b\u3059\u308b\u5024\uff08-1.0\u301c1.0\uff09\u3092\u3001\u30e2\u30fc\u30bf\u30fc\u304c\u7406\u89e3\u3067\u304d\u308bPWM\u4fe1\u53f7\u306b\u5909\u63db\u3057\u307e\u3059\u3002</p>"},{"location":"lesson/control/#_3","title":"\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0","text":"<pre><code>-1.0 (\u5de6\u6700\u5927) \u2190\u2500\u2500\u2500\u2500 0.0 (\u4e2d\u592e) \u2500\u2500\u2500\u2500\u2192 +1.0 (\u53f3\u6700\u5927)\n     \u2502                  \u2502                  \u2502\n     \u25bc                  \u25bc                  \u25bc\n LEFT_PWM         CENTER_PWM         RIGHT_PWM\n  (290)              (370)              (450)\n</code></pre>"},{"location":"lesson/control/#_4","title":"\u30b9\u30ed\u30c3\u30c8\u30eb","text":"<pre><code>-1.0 (\u5f8c\u9000) \u2190\u2500\u2500\u2500\u2500 0.0 (\u505c\u6b62) \u2500\u2500\u2500\u2500\u2192 +1.0 (\u524d\u9032)\n     \u2502                \u2502                  \u2502\n     \u25bc                \u25bc                  \u25bc\nREVERSE_PWM     STOPPED_PWM      FORWARD_PWM\n   (300)           (370)            (500)\n</code></pre>"},{"location":"lesson/control/#_5","title":"\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u5024\u3068\u8eca\u4e21\u306e\u52d5\u304d","text":"<p>\u5224\u65ad\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u51fa\u529b\u3057\u305f\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u5024\uff08-1\u301c1\uff09\u304c\u3001\u5b9f\u969b\u306b\u3069\u306e\u3088\u3046\u306b\u8eca\u4e21\u3092\u52d5\u304b\u3059\u304b\u3092\u7406\u89e3\u3057\u307e\u3057\u3087\u3046\u3002</p>"},{"location":"lesson/control/#_6","title":"\u5909\u63db\u306e\u5168\u4f53\u50cf","text":"<pre><code>\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u5024 \u2192 PWM\u5024 \u2192 \u30b5\u30fc\u30dc\u89d2\u5ea6 \u2192 \u8235\u89d2 \u2192 \u65cb\u56de\u534a\u5f84\n  (-1\u301c1)      (340\u301c500)  (\u6a5f\u68b0\u7684)   (\u5ea6)    (mm)\n   \u5224\u65ad\u306e\u51fa\u529b    \u2191\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 \u64cd\u4f5c\u3067\u5909\u63db \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2191\n</code></pre>"},{"location":"lesson/control/#_7","title":"\u5404\u6bb5\u968e\u306e\u5909\u63db","text":"\u6bb5\u968e \u5909\u63db\u5185\u5bb9 \u4f8b \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u5024 \u2192 PWM \u7dda\u5f62\u5909\u63db 0.5 \u2192 460 PWM \u2192 \u30b5\u30fc\u30dc\u89d2\u5ea6 \u30b5\u30fc\u30dc\u7279\u6027\u306b\u3088\u308b 460 \u2192 \u6a5f\u68b0\u89d220\u00b0 \u30b5\u30fc\u30dc\u89d2\u5ea6 \u2192 \u8235\u89d2 \u30ea\u30f3\u30af\u6a5f\u69cb\u306b\u3088\u308b \u6a5f\u68b0\u89d220\u00b0 \u2192 \u8235\u89d215\u00b0 \u8235\u89d2 \u2192 \u65cb\u56de\u534a\u5f84 \u8eca\u4e21\u30e2\u30c7\u30eb\u3067\u8a08\u7b97 \u8235\u89d215\u00b0 \u2192 R\u2252500mm"},{"location":"lesson/control/#_8","title":"\u8235\u89d2\u3068\u65cb\u56de\u534a\u5f84\u306e\u95a2\u4fc2\uff08\u30a2\u30c3\u30ab\u30fc\u30de\u30f3\u30fb\u30b8\u30aa\u30e1\u30c8\u30ea\uff09","text":"<p>\u8eca\u4e21\u304c\u65cb\u56de\u3059\u308b\u3068\u304d\u3001\u524d\u8f2a\u306e\u8235\u89d2\u3068\u65cb\u56de\u534a\u5f84\u306b\u306f\u5e7e\u4f55\u5b66\u7684\u306a\u95a2\u4fc2\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>                    \u65cb\u56de\u534a\u5f84 R\n    \u2190\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2192\n                                  \u2502\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                   \u2502\n    \u2502 \u2220\u03b4     \u2502 \u524d\u8f2a\uff08\u8235\u89d2\u03b4\uff09     \u2502\n    \u2502  \u2572      \u2502                   \u2502\n    \u2502   \u2572     \u2502                   \u25cb \u65cb\u56de\u4e2d\u5fc3\n    \u2502    \u2572    \u2502                   \u2502\n    \u2502     L   \u2502 \u30db\u30a4\u30fc\u30eb\u30d9\u30fc\u30b9    \u2502\n    \u2502      \u2572  \u2502                   \u2502\n    \u2502       \u2572 \u2502                   \u2502\n    \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u5f8c\u8f2a              \u2502\n    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                   \u2502\n</code></pre> <p>\u65cb\u56de\u534a\u5f84\u306e\u8a08\u7b97\u5f0f:</p> <pre><code>R = L / tan(\u03b4)\n\nR: \u65cb\u56de\u534a\u5f84\uff08\u5f8c\u8f2a\u4e2d\u5fc3\u304b\u3089\u65cb\u56de\u4e2d\u5fc3\u307e\u3067\u306e\u8ddd\u96e2\uff09\nL: \u30db\u30a4\u30fc\u30eb\u30d9\u30fc\u30b9\uff08\u524d\u8f2a\u8ef8\u3068\u5f8c\u8f2a\u8ef8\u306e\u8ddd\u96e2\uff09\n\u03b4: \u8235\u89d2\uff08\u524d\u8f2a\u306e\u5411\u304d\u3068\u8eca\u4e21\u306e\u5411\u304d\u306e\u89d2\u5ea6\u5dee\uff09\n</code></pre> <p>tan\u95a2\u6570\u3068\u306f</p> <p>tan\uff08\u30bf\u30f3\u30b8\u30a7\u30f3\u30c8\uff09\u306f\u4e09\u89d2\u95a2\u6570\u306e\u4e00\u3064\u3067\u3001\u76f4\u89d2\u4e09\u89d2\u5f62\u306e\u300c\u5bfe\u8fba\u00f7\u96a3\u8fba\u300d\u3092\u8868\u3057\u307e\u3059\u3002</p> <pre><code>tan(\u03b4) = \u5bfe\u8fba / \u96a3\u8fba\n\n\u4f8b\uff1atan(15\u00b0) \u2252 0.268\n    tan(30\u00b0) \u2252 0.577\n    tan(45\u00b0) = 1.000\n</code></pre> <p>\u9ad8\u6821\u6570\u5b66\u3067\u5b66\u3076\u5185\u5bb9\u3067\u3059\u304c\u3001\u8a08\u7b97\u306f\u95a2\u6570\u96fb\u5353\u3084\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u884c\u3046\u306e\u3067\u6697\u8a18\u4e0d\u8981\u3067\u3059\u3002</p> <p>\u8a08\u7b97\u4f8b\uff08\u30df\u30cb\u30ab\u30fc\u306e\u5834\u5408\uff09:</p> \u8235\u89d2 \u30db\u30a4\u30fc\u30eb\u30d9\u30fc\u30b9 \u65cb\u56de\u534a\u5f84 5\u00b0 150mm \u7d041720mm 10\u00b0 150mm \u7d04850mm 15\u00b0 150mm \u7d04560mm 20\u00b0 150mm \u7d04410mm 30\u00b0 150mm \u7d04260mm <p>\u8235\u89d2\u304c\u5927\u304d\u3044\u307b\u3069\u65cb\u56de\u534a\u5f84\u306f\u5c0f\u3055\u3044</p> <p>tan\u95a2\u6570\u306e\u6027\u8cea\u306b\u3088\u308a\u3001\u8235\u89d2\u30922\u500d\u306b\u3057\u3066\u3082\u65cb\u56de\u534a\u5f84\u306f\u534a\u5206\u306b\u306f\u306a\u308a\u307e\u305b\u3093\u3002 \u5c0f\u3055\u306a\u8235\u89d2\u3067\u306e\u5909\u5316\u304c\u5927\u304d\u304f\u3001\u5927\u304d\u306a\u8235\u89d2\u3067\u306e\u5909\u5316\u306f\u5c0f\u3055\u304f\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"lesson/control/#_9","title":"\u901f\u5ea6\u3068\u65cb\u56de\u306e\u95a2\u4fc2","text":"<p>\u4f4e\u901f\u8d70\u884c\u6642: - \u65cb\u56de\u534a\u5f84\u306f\u307b\u307c\u5e7e\u4f55\u5b66\u7684\u306a\u8a08\u7b97\u901a\u308a - \u30bf\u30a4\u30e4\u306f\u30b0\u30ea\u30c3\u30d7\u3092\u4fdd\u3064</p> <p>\u9ad8\u901f\u8d70\u884c\u6642: - \u30bf\u30a4\u30e4\u306b\u30b9\u30ea\u30c3\u30d7\u89d2\u304c\u767a\u751f - \u8a08\u7b97\u3088\u308a\u5927\u304d\u306a\u65cb\u56de\u534a\u5f84\u306b\u306a\u308b\uff08\u30a2\u30f3\u30c0\u30fc\u30b9\u30c6\u30a2\uff09 - \u6025\u306a\u30cf\u30f3\u30c9\u30eb\u64cd\u4f5c\u306f\u30b9\u30d4\u30f3\u306e\u539f\u56e0\u306b</p> <pre><code>\u4f4e\u901f\u6642:                    \u9ad8\u901f\u6642:\n  \u2191 \u9032\u884c\u65b9\u5411                 \u2197 \u5b9f\u969b\u306e\u9032\u884c\u65b9\u5411\n  \u2502                         \u2571\n  \u250c\u2500\u2500\u2510 \u30bf\u30a4\u30e4\u306e\u5411\u304d        \u250c\u2500\u2500\u2510 \u30bf\u30a4\u30e4\u306e\u5411\u304d\n  \u2514\u2500\u2500\u2518                     \u2514\u2500\u2500\u2518\n                              \u2191 \u30b9\u30ea\u30c3\u30d7\u89d2\n</code></pre>"},{"location":"lesson/control/#-11","title":"\u306a\u305c\u6b63\u898f\u5316\uff08-1\u301c1\uff09\u3092\u4f7f\u3046\u306e\u304b","text":"\u7406\u7531 \u8aac\u660e \u8eca\u4e21\u5dee\u306e\u5438\u53ce \u8eca\u4e21\u3054\u3068\u306bPWM\u7bc4\u56f2\u304c\u7570\u306a\u3063\u3066\u3082\u3001\u540c\u3058\u5024\u3067\u5236\u5fa1\u53ef\u80fd \u30e2\u30c7\u30eb\u7d71\u4e00 \u6a5f\u68b0\u5b66\u7fd2\u30e2\u30c7\u30eb\u306e\u51fa\u529b\u3068\u7d71\u4e00\u3057\u305f\u5f62\u5f0f \u5206\u96e2\u8a2d\u8a08 \u5224\u65ad\uff08\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\uff09\u3068\u64cd\u4f5c\uff08\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\uff09\u3092\u5206\u96e2 \u76f4\u611f\u7684 -1=\u5de6\u6700\u5927\u30010=\u76f4\u9032\u3001+1=\u53f3\u6700\u5927 \u3068\u5206\u304b\u308a\u3084\u3059\u3044"},{"location":"lesson/control/#pwm_1","title":"PWM\u4fe1\u53f7\u3068\u306f","text":"<p>PWM\uff08Pulse Width Modulation\uff09\u306f\u3001\u30d1\u30eb\u30b9\u5e45\u3067\u60c5\u5831\u3092\u4f1d\u3048\u308b\u4fe1\u53f7\u65b9\u5f0f\u3067\u3059\u3002</p> <pre><code>    \u250c\u2500\u2500\u2510    \u250c\u2500\u2500\u2510    \u250c\u2500\u2500\u2510\n    \u2502  \u2502    \u2502  \u2502    \u2502  \u2502\n\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500  \u77ed\u3044\u30d1\u30eb\u30b9 = \u5c0f\u3055\u3044\u5024\n\n    \u250c\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2510\n    \u2502    \u2502  \u2502    \u2502  \u2502    \u2502\n\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2518    \u2514\u2500\u2500\u2518    \u2514\u2500\u2500  \u9577\u3044\u30d1\u30eb\u30b9 = \u5927\u304d\u3044\u5024\n</code></pre> <p>\u30b5\u30fc\u30dc\u3084ESC\u306f\u3053\u306e\u30d1\u30eb\u30b9\u5e45\u3092\u8aad\u307f\u53d6\u3063\u3066\u3001\u89d2\u5ea6\u3084\u56de\u8ee2\u901f\u5ea6\u3092\u5236\u5fa1\u3057\u307e\u3059\u3002</p>"},{"location":"lesson/control/#pwm_2","title":"\u30b5\u30fc\u30dc\u7528PWM\u4fe1\u53f7\u306e\u4ed5\u69d8","text":"\u9805\u76ee \u5024 \u8aac\u660e \u5468\u6ce2\u6570 50Hz 1\u79d2\u9593\u306b50\u56de\u30d1\u30eb\u30b9\u3092\u9001\u4fe1 \u5468\u671f 20ms \u30d1\u30eb\u30b9\u9593\u9694\uff081\u00f750Hz\uff09 \u30d1\u30eb\u30b9\u5e45 1\u301c2ms \u3053\u306e\u7bc4\u56f2\u3067\u89d2\u5ea6\u3092\u6307\u5b9a <pre><code>\u2190\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 20ms\uff08\u5468\u671f\uff09\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2192\n\u250c\u2500\u2500\u2510\n\u2502  \u2502 1ms = \u5de6\u6700\u5927\n\u2514\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n\u250c\u2500\u2500\u2500\u2500\u2510\n\u2502    \u2502 1.5ms = \u4e2d\u592e\n\u2514\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      \u2502 2ms = \u53f3\u6700\u5927\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n</code></pre> <p>PWM\u5024\u3068\u30d1\u30eb\u30b9\u5e45\u306e\u95a2\u4fc2</p> <p>config.py\u3067\u8a2d\u5b9a\u3059\u308bPWM\u5024\uff08\u4f8b\uff1a370\uff09\u306f\u3001PCA9685\u306e\u5185\u90e8\u30ab\u30a6\u30f3\u30bf\u5024\u3067\u3059\u3002 PCA9685\u306f\u5468\u671f\u30924096\u5206\u5272\u3057\u3066\u304a\u308a\u3001\u5024370\u306f\u7d041.8ms\u306e\u30d1\u30eb\u30b9\u5e45\u306b\u76f8\u5f53\u3057\u307e\u3059\u3002</p>"},{"location":"lesson/control/#_10","title":"\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u69cb\u6210","text":"<pre><code>Raspberry Pi / Jetson\n        \u2502\n        \u2502 I2C\u901a\u4fe1\n        \u25bc\n    PCA9685\uff08PWM\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\uff09\n        \u2502\n        \u251c\u2500\u2500 CH0 \u2192 \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u30b5\u30fc\u30dc\n        \u2514\u2500\u2500 CH1 \u2192 ESC\uff08\u30b9\u30ed\u30c3\u30c8\u30eb\uff09\n                    \u2502\n                    \u25bc\n                 \u30e2\u30fc\u30bf\u30fc\n</code></pre>"},{"location":"lesson/control/#i2c","title":"I2C\u901a\u4fe1\u3068\u306f","text":"<p>I2C\uff08\u30a2\u30a4\u30fb\u30b9\u30af\u30a8\u30a2\u30c9\u30fb\u30b7\u30fc\uff09\u306f\u30012\u672c\u306e\u7dda\u3060\u3051\u3067\u8907\u6570\u306e\u6a5f\u5668\u3068\u901a\u4fe1\u3067\u304d\u308b\u65b9\u5f0f\u3067\u3059\u3002</p> \u4fe1\u53f7\u7dda \u5f79\u5272 SDA \u30c7\u30fc\u30bf\u306e\u9001\u53d7\u4fe1 SCL \u30bf\u30a4\u30df\u30f3\u30b0\u540c\u671f\u7528\u30af\u30ed\u30c3\u30af <pre><code>Raspberry Pi \u2500\u2500\u252c\u2500\u2500 SDA \u2500\u2500\u252c\u2500\u2500 PCA9685\uff08\u30a2\u30c9\u30ec\u30b90x40\uff09\n               \u2502         \u2502\n               \u2514\u2500\u2500 SCL \u2500\u2500\u2518\n</code></pre> <p>I2C\u306e\u30e1\u30ea\u30c3\u30c8</p> <ul> <li>\u914d\u7dda\u304c\u5c11\u306a\u3044\uff082\u672c\u306e\u307f\uff09</li> <li>\u8907\u6570\u306e\u6a5f\u5668\u3092\u540c\u3058\u7dda\u306b\u63a5\u7d9a\u53ef\u80fd\uff08\u30a2\u30c9\u30ec\u30b9\u3067\u533a\u5225\uff09</li> <li>Raspberry Pi\u3084Jetson\u306b\u6a19\u6e96\u642d\u8f09</li> </ul>"},{"location":"lesson/control/#pca9685","title":"PCA9685\u306e\u5f79\u5272","text":"<p>PCA9685\u306f16\u30c1\u30e3\u30f3\u30cd\u30eb\u306ePWM\u4fe1\u53f7\u3092\u751f\u6210\u3067\u304d\u308bIC\u3067\u3059\u3002</p> \u9805\u76ee \u4ed5\u69d8 \u30c1\u30e3\u30f3\u30cd\u30eb\u6570 16ch \u5206\u89e3\u80fd 12\u30d3\u30c3\u30c8\uff084096\u6bb5\u968e\uff09 PWM\u5468\u6ce2\u6570 \u8a2d\u5b9a\u53ef\u80fd\uff08\u30b5\u30fc\u30dc\u7528\u306f50Hz\uff09 I2C\u30a2\u30c9\u30ec\u30b9 0x40\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\uff09 <p>Raspberry Pi\u5358\u4f53\u3067\u3082PWM\u306f\u51fa\u529b\u3067\u304d\u307e\u3059\u304c\u3001PCA9685\u3092\u4f7f\u3046\u3053\u3068\u3067\uff1a</p> <ul> <li>CPU\u306e\u8ca0\u8377\u3092\u8efd\u6e1b</li> <li>\u5b89\u5b9a\u3057\u305fPWM\u4fe1\u53f7\u3092\u751f\u6210</li> <li>\u8907\u6570\u306e\u30b5\u30fc\u30dc/\u30e2\u30fc\u30bf\u30fc\u3092\u5236\u5fa1\u53ef\u80fd</li> </ul>"},{"location":"lesson/control/#_11","title":"\u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af\u5236\u5fa1","text":"<p>\u3088\u308a\u9ad8\u5ea6\u306a\u5236\u5fa1\u3067\u306f\u3001\u7d50\u679c\u3092\u898b\u3066\u8abf\u6574\u3059\u308b\u300c\u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af\u5236\u5fa1\u300d\u3092\u4f7f\u3044\u307e\u3059\u3002</p> <pre><code>graph LR\n    A[\u76ee\u6a19\u5024] --&gt; B[\u5236\u5fa1\u5668]\n    B --&gt; C[\u30e2\u30fc\u30bf\u30fc]\n    C --&gt; D[\u8eca\u4e21]\n    D --&gt; E[\u30bb\u30f3\u30b5\u30fc]\n    E --&gt;|\u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af| B</code></pre> <p>\u4f8b\uff1aPID\u5236\u5fa1\u306b\u3088\u308b\u58c1\u6cbf\u3044\u8d70\u884c - \u76ee\u6a19\uff1a\u58c1\u304b\u3089200mm\u306e\u8ddd\u96e2\u3092\u7dad\u6301 - \u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af\uff1a\u5b9f\u969b\u306e\u8ddd\u96e2\u3092\u6e2c\u5b9a - \u8abf\u6574\uff1a\u5dee\u5206\u306b\u5fdc\u3058\u3066\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u3092\u4fee\u6b63</p>"},{"location":"lesson/control/#_12","title":"\u81ea\u52d5\u8d70\u884c\u306e\u5b9f\u884c","text":"<p>\u5b66\u7fd2\u3057\u305f\u30e2\u30c7\u30eb\u3067\u81ea\u52d5\u8d70\u884c\u3092\u5b9f\u884c\u3059\u308b\u624b\u9806\u3067\u3059\u3002</p>"},{"location":"lesson/control/#1","title":"1. \u30e2\u30c7\u30eb\u306e\u8a2d\u5b9a","text":"<p><code>config.py</code>\u3067\u5b66\u7fd2\u6e08\u307f\u30e2\u30c7\u30eb\u3092\u6307\u5b9a\uff1a</p> <pre><code># \u5224\u65ad\u30e2\u30fc\u30c9\nPLAN = \"donkeycar\"  # \u307e\u305f\u306f \"nn\", \"resnet18\" \u306a\u3069\n\n# \u5b66\u7fd2\u6e08\u307f\u30e2\u30c7\u30eb\u30d5\u30a1\u30a4\u30eb\nMODEL_NAME = \"donkeycar_20251205_150000.pth\"\nMODEL_PATH = os.path.join(MODEL_DIR, MODEL_NAME)\n\n# \u4f7f\u7528\u3059\u308b\u753b\u50cf\uff08\u753b\u50cf\u30e2\u30c7\u30eb\u306e\u5834\u5408\uff09\nMODEL_INPUT_IMAGE = \"cam1/image_array\"\n</code></pre>"},{"location":"lesson/control/#2","title":"2. \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u8d77\u52d5","text":"<pre><code>python run.py\n</code></pre>"},{"location":"lesson/control/#3","title":"3. \u8d70\u884c\u30e2\u30fc\u30c9\u306e\u5207\u308a\u66ff\u3048","text":"\u30e2\u30fc\u30c9 \u8aac\u660e \u64cd\u4f5c user \u624b\u52d5\u64cd\u4f5c\uff08\u3059\u3079\u3066\u4eba\u9593\u304c\u64cd\u4f5c\uff09 \u8d77\u52d5\u6642\u306e\u30c7\u30d5\u30a9\u30eb\u30c8 auto_str \u81ea\u52d5\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\uff08\u30b9\u30ed\u30c3\u30c8\u30eb\u306f\u624b\u52d5\uff09 S\u30dc\u30bf\u30f3\u3067\u5207\u308a\u66ff\u3048 auto \u5b8c\u5168\u81ea\u52d5\uff08\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u30fb\u30b9\u30ed\u30c3\u30c8\u30eb\u4e21\u65b9\u81ea\u52d5\uff09 S\u30dc\u30bf\u30f3\u3067\u5207\u308a\u66ff\u3048 <p>S\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u305f\u3073\u306b\uff1a<code>user \u2192 auto_str \u2192 auto \u2192 user \u2192 ...</code> \u3068\u5207\u308a\u66ff\u308f\u308a\u307e\u3059\u3002</p>"},{"location":"lesson/control/#4","title":"4. \u52d5\u4f5c\u78ba\u8a8d\u624b\u9806","text":"<ol> <li>\u624b\u52d5\u30e2\u30fc\u30c9\u3067\u78ba\u8a8d: \u307e\u305a\u624b\u52d5\u3067\u52d5\u304b\u3057\u3066\u554f\u984c\u306a\u3044\u3053\u3068\u3092\u78ba\u8a8d</li> <li>\u30df\u30cb\u30ab\u30fc\u3092\u914d\u7f6e: \u30b9\u30bf\u30fc\u30c8\u4f4d\u7f6e\u306b\u7f6e\u304f</li> <li>\u81ea\u52d5\u30e2\u30fc\u30c9\u306b\u5207\u308a\u66ff\u3048: S\u30dc\u30bf\u30f3\u3092\u62bc\u3059\uff08\u30bf\u30fc\u30df\u30ca\u30eb\u306b\u30e2\u30fc\u30c9\u8868\u793a\uff09</li> <li>\u8d70\u884c\u958b\u59cb: \u30df\u30cb\u30ab\u30fc\u304c\u81ea\u52d5\u3067\u8d70\u308a\u59cb\u3081\u308b</li> <li>\u505c\u6b62: A\u30dc\u30bf\u30f3\u3067\u30d6\u30ec\u30fc\u30ad\u3001\u307e\u305f\u306f\u518d\u5ea6S\u30dc\u30bf\u30f3\u3067\u624b\u52d5\u306b\u623b\u3059</li> </ol>"},{"location":"lesson/control/#_13","title":"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0","text":"\u73fe\u8c61 \u539f\u56e0 \u5bfe\u7b56 \u52d5\u304b\u306a\u3044 \u30e2\u30c7\u30eb\u304c\u8aad\u307f\u8fbc\u3081\u3066\u3044\u306a\u3044 MODEL_PATH\u3092\u78ba\u8a8d \u30cf\u30f3\u30c9\u30eb\u3092\u5207\u3089\u306a\u3044 \u5b66\u7fd2\u30c7\u30fc\u30bf\u304c\u4e0d\u5341\u5206 \u30c7\u30fc\u30bf\u3092\u8ffd\u52a0\u3057\u3066\u518d\u5b66\u7fd2 \u58c1\u306b\u3076\u3064\u304b\u308b \u5b66\u7fd2\u30c7\u30fc\u30bf\u304c\u4e0d\u5341\u5206 \u30c7\u30fc\u30bf\u3092\u8ffd\u52a0\u3057\u3066\u518d\u5b66\u7fd2 \u3075\u3089\u3075\u3089\u3059\u308b \u64cd\u4f5c\u304c\u8352\u304b\u3063\u305f \u6ed1\u3089\u304b\u306a\u30c7\u30fc\u30bf\u3067\u518d\u5b66\u7fd2 \u4e00\u65b9\u5411\u306b\u504f\u308b \u30c7\u30fc\u30bf\u304c\u504f\u3063\u3066\u3044\u308b \u30d0\u30e9\u30f3\u30b9\u3088\u304f\u30c7\u30fc\u30bf\u53ce\u96c6"},{"location":"lesson/control/#_14","title":"\u6539\u5584\u30b5\u30a4\u30af\u30eb","text":"<p>\u3088\u308a\u826f\u3044\u8d70\u884c\u3092\u76ee\u6307\u3057\u3066\u6539\u5584\u3092\u7e70\u308a\u8fd4\u3057\u307e\u3059\uff1a</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 \u30c7\u30fc\u30bf\u53ce\u96c6  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 \u30c7\u30fc\u30bf\u5206\u6790  \u2502  \u2190 data_viewer\u3067\u78ba\u8a8d\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   \u5b66\u7fd2      \u2502  \u2190 train_pytorch.py\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 \u81ea\u52d5\u8d70\u884c    \u2502  \u2190 \u8a55\u4fa1\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2193\n   \u554f\u984c\u70b9\u306e\u7279\u5b9a\n       \u2193\n   \uff08\u7e70\u308a\u8fd4\u3057\uff09\n</code></pre>"},{"location":"lesson/control/#_15","title":"\u6539\u5584\u306e\u30d2\u30f3\u30c8","text":""},{"location":"lesson/control/#_16","title":"\u30c7\u30fc\u30bf\u53ce\u96c6\u306e\u6539\u5584","text":"<ul> <li>\u30b3\u30fc\u30ca\u30fc\u3067\u306e\u64cd\u4f5c\u3092\u5897\u3084\u3059</li> <li>\u901f\u5ea6\u3092\u5909\u3048\u3066\u8d70\u884c\u3059\u308b</li> <li>\u69d8\u3005\u306a\u4f4d\u7f6e\u304b\u3089\u8d70\u884c\u3092\u958b\u59cb\u3059\u308b</li> <li>\u9006\u56de\u308a\u3067\u3082\u8d70\u884c\u3057\u3066\u30c7\u30fc\u30bf\u3092\u53ce\u96c6</li> </ul>"},{"location":"lesson/control/#_17","title":"\u5b66\u7fd2\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u8abf\u6574","text":"<pre><code># \u30a8\u30dd\u30c3\u30af\u6570\u3092\u5897\u3084\u3059\nEPOCHS = 50\n\n# \u30c7\u30fc\u30bf\u62e1\u5f35\u3092\u6709\u52b9\u5316\nUSE_DATA_AUGMENTATION = True\n</code></pre>"},{"location":"lesson/control/#_18","title":"\u8d70\u884c\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u8abf\u6574","text":"<pre><code># \u901f\u5ea6\u3092\u8abf\u6574\uff08\u4e0d\u5b89\u5b9a\u306a\u5834\u5408\u306f\u4e0b\u3052\u308b\uff09\nFORWARD_STRAIGHT = 0.35\nFORWARD_CORNER = 0.25\n</code></pre>"},{"location":"lesson/control/#_19","title":"\u8003\u3048\u3066\u307f\u3088\u3046","text":""},{"location":"lesson/control/#1-pwm","title":"1. PWM\u4fe1\u53f7\u306e\u30d1\u30eb\u30b9\u5e45\u3092\u5909\u3048\u308b\u3068\u4f55\u304c\u5909\u308f\u308b\uff1f","text":"\u30d2\u30f3\u30c8 <ul> <li>\u30b5\u30fc\u30dc\u30e2\u30fc\u30bf\u30fc\u306f\u30d1\u30eb\u30b9\u5e45\u3092\u300c\u89d2\u5ea6\u306e\u6307\u793a\u300d\u3068\u3057\u3066\u8aad\u307f\u53d6\u308a\u307e\u3059</li> <li>\u30d1\u30eb\u30b9\u5e45\u304c1ms\u306e\u3068\u304d\u30682ms\u306e\u3068\u304d\u3067\u3001\u30b5\u30fc\u30dc\u306f\u3069\u3046\u52d5\u304f\u3067\u3057\u3087\u3046\u304b\uff1f</li> </ul> \u89e3\u7b54\u4f8b <p>\u30b5\u30fc\u30dc\u30e2\u30fc\u30bf\u30fc\u306e\u89d2\u5ea6\u304c\u5909\u308f\u308a\u307e\u3059\u3002</p> <ul> <li>\u30d1\u30eb\u30b9\u5e451ms \u2192 \u5de6\u6700\u5927\uff08\u7d04-90\u00b0\uff09</li> <li>\u30d1\u30eb\u30b9\u5e451.5ms \u2192 \u4e2d\u592e\uff080\u00b0\uff09</li> <li>\u30d1\u30eb\u30b9\u5e452ms \u2192 \u53f3\u6700\u5927\uff08\u7d04+90\u00b0\uff09</li> </ul> <p>ESC\uff08\u30b9\u30ed\u30c3\u30c8\u30eb\uff09\u306e\u5834\u5408\u306f\u3001\u30d1\u30eb\u30b9\u5e45\u306b\u5fdc\u3058\u3066\u30e2\u30fc\u30bf\u30fc\u306e\u56de\u8ee2\u901f\u5ea6\u304c\u5909\u308f\u308a\u307e\u3059\u3002</p>"},{"location":"lesson/control/#2_1","title":"2. \u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af\u5236\u5fa1\u304c\u306a\u3044\u5834\u5408\u3001\u3069\u3093\u306a\u554f\u984c\u304c\u8d77\u304d\u308b\uff1f","text":"\u30d2\u30f3\u30c8 <ul> <li>\u8def\u9762\u306e\u51f9\u51f8\u3084\u30bf\u30a4\u30e4\u306e\u6469\u8017\u306a\u3069\u3001\u5b9f\u969b\u306e\u8d70\u884c\u306b\u306f\u4e88\u6e2c\u3067\u304d\u306a\u3044\u8981\u7d20\u304c\u3042\u308a\u307e\u3059</li> <li>\u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af\u306a\u3057\u3067\u76ee\u6a19\u306e\u8ddd\u96e2\u3092\u7dad\u6301\u3067\u304d\u308b\u3067\u3057\u3087\u3046\u304b\uff1f</li> </ul> \u89e3\u7b54\u4f8b <p>\u5916\u4e71\u306b\u5bfe\u5fdc\u3067\u304d\u305a\u3001\u76ee\u6a19\u304b\u3089\u5f90\u3005\u306b\u305a\u308c\u3066\u3044\u304d\u307e\u3059\u3002</p> <p>\u4f8b\u3048\u3070\u58c1\u6cbf\u3044\u8d70\u884c\u306e\u5834\u5408\uff1a</p> <ul> <li>\u8def\u9762\u306e\u50be\u304d\u3067\u8eca\u4e21\u304c\u58c1\u306b\u8fd1\u3065\u3044\u3066\u3082\u3001\u4fee\u6b63\u3055\u308c\u306a\u3044</li> <li>\u30bf\u30a4\u30e4\u306e\u30b0\u30ea\u30c3\u30d7\u5909\u5316\u3067\u8ecc\u9053\u304c\u305a\u308c\u3066\u3082\u3001\u6c17\u3065\u304b\u306a\u3044</li> <li>\u6700\u7d42\u7684\u306b\u58c1\u306b\u885d\u7a81\u3057\u305f\u308a\u3001\u30b3\u30fc\u30b9\u30a2\u30a6\u30c8\u3059\u308b</li> </ul> <p>\u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af\u5236\u5fa1\u304c\u3042\u308c\u3070\u3001\u30bb\u30f3\u30b5\u30fc\u3067\u5b9f\u969b\u306e\u72b6\u614b\u3092\u6e2c\u5b9a\u3057\u3001\u76ee\u6a19\u3068\u306e\u5dee\u3092\u4fee\u6b63\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"lesson/control/#3_1","title":"3. \u4eba\u9593\u306e\u904b\u8ee2\u3068\u81ea\u52d5\u904b\u8ee2\u306e\u300c\u64cd\u4f5c\u300d\u306e\u9055\u3044\u306f\uff1f","text":"\u30d2\u30f3\u30c8 <ul> <li>\u4eba\u9593\u306f\u300c\u76ee\u3067\u898b\u3066\u2192\u5224\u65ad\u3057\u3066\u2192\u624b\u8db3\u3092\u52d5\u304b\u3059\u300d\u3092\u9023\u7d9a\u7684\u306b\u884c\u3044\u307e\u3059</li> <li>\u81ea\u52d5\u904b\u8ee2\u3067\u306f\u300c\u8a8d\u77e5\u2192\u5224\u65ad\u2192\u64cd\u4f5c\u300d\u3092\u3069\u306e\u3088\u3046\u306a\u5358\u4f4d\u3067\u7e70\u308a\u8fd4\u3057\u3066\u3044\u308b\u3067\u3057\u3087\u3046\u304b\uff1f</li> </ul> \u89e3\u7b54\u4f8b <p>\u4e3b\u306a\u9055\u3044\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\uff1a</p> \u9805\u76ee \u4eba\u9593\u306e\u904b\u8ee2 \u81ea\u52d5\u904b\u8ee2 \u5236\u5fa1\u5468\u671f \u9023\u7d9a\u7684\uff08\u30a2\u30ca\u30ed\u30b0\uff09 \u96e2\u6563\u7684\uff08\u4f8b\uff1a20Hz\uff09 \u64cd\u4f5c\u306e\u6ed1\u3089\u304b\u3055 \u81ea\u7136\u306b\u6ed1\u3089\u304b \u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u88dc\u9593\u304c\u5fc5\u8981 \u75b2\u52b4 \u9577\u6642\u9593\u3067\u4f4e\u4e0b \u4e00\u5b9a\u3092\u7dad\u6301 \u53cd\u5fdc\u901f\u5ea6 \u7d040.2\u79d2 \u30df\u30ea\u79d2\u5358\u4f4d\u3067\u53ef\u80fd \u5b66\u7fd2 \u7d4c\u9a13\u3067\u5411\u4e0a \u30c7\u30fc\u30bf\u3068\u5b66\u7fd2\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3067\u5411\u4e0a"},{"location":"lesson/control/#4-05","title":"4. \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u50240.5\u306e\u3068\u304d\u3001\u65cb\u56de\u534a\u5f84\u306f\u3069\u306e\u304f\u3089\u3044\u306b\u306a\u308b\uff1f","text":"\u30d2\u30f3\u30c8 <ul> <li>\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u50240.5\u306f\u300c\u53f3\u306b50%\u300d\u306e\u64cd\u4f5c\u3067\u3059</li> <li>\u5909\u63db\u306e\u5168\u4f53\u50cf\uff08\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u5024\u2192PWM\u2192\u30b5\u30fc\u30dc\u89d2\u5ea6\u2192\u8235\u89d2\u2192\u65cb\u56de\u534a\u5f84\uff09\u3092\u9806\u756a\u306b\u8ffd\u3063\u3066\u307f\u307e\u3057\u3087\u3046</li> </ul> \u89e3\u7b54\u4f8b <p>\u6982\u7b97\u3067\u7d041100mm\u7a0b\u5ea6\u3067\u3059\uff08\u8eca\u4e21\u7279\u6027\u306b\u3088\u308a\u7570\u306a\u308b\uff09\u3002</p> <p>\u5909\u63db\u306e\u6d41\u308c\uff1a</p> <ol> <li>\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u50240.5 \u2192 PWM\u5024\u7d04410\uff08\u7dda\u5f62\u5909\u63db\uff09</li> <li>PWM\u5024410 \u2192 \u30b5\u30fc\u30dc\u89d2\u5ea6\u7d0410\u00b0\uff08\u30b5\u30fc\u30dc\u7279\u6027\u306b\u3088\u308b\uff09</li> <li>\u30b5\u30fc\u30dc\u89d2\u5ea610\u00b0 \u2192 \u8235\u89d2\u7d047.5\u00b0\uff08\u30ea\u30f3\u30af\u6a5f\u69cb\u306b\u3088\u308b\u3001\u4eee\u5b9a\uff09</li> <li>\u8235\u89d27.5\u00b0 \u2192 \u65cb\u56de\u534a\u5f84 = 150mm / tan(7.5\u00b0) \u2252 1140mm</li> </ol> <p>\u203b\u5b9f\u969b\u306e\u5024\u306f\u8eca\u4e21\u306e\u30ea\u30f3\u30af\u6a5f\u69cb\u3084\u30b5\u30fc\u30dc\u7279\u6027\u306b\u3088\u3063\u3066\u7570\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"lesson/control/#5-pca9685pwm","title":"5. \u306a\u305cPCA9685\u306e\u3088\u3046\u306aPWM\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u4f7f\u3046\u306e\u304b\uff1f","text":"\u30d2\u30f3\u30c8 <ul> <li>Raspberry Pi\u306eCPU\u306f\u4ed6\u306b\u3082\u591a\u304f\u306e\u51e6\u7406\u3092\u884c\u3063\u3066\u3044\u307e\u3059</li> <li>PWM\u4fe1\u53f7\u306f\u6b63\u78ba\u306a\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u51fa\u529b\u3057\u7d9a\u3051\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059</li> </ul> \u89e3\u7b54\u4f8b <p>CPU\u8ca0\u8377\u306e\u8efd\u6e1b\u3068\u4fe1\u53f7\u306e\u5b89\u5b9a\u6027\u306e\u305f\u3081\u3067\u3059\u3002</p> <ul> <li> <p>CPU\u8ca0\u8377\u8efd\u6e1b: Raspberry Pi\u306eCPU\u306f\u30ab\u30e1\u30e9\u753b\u50cf\u51e6\u7406\u3001\u30bb\u30f3\u30b5\u30fc\u8aad\u307f\u53d6\u308a\u3001\u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u63a8\u8ad6\u306a\u3069\u591a\u304f\u306e\u51e6\u7406\u3092\u884c\u3063\u3066\u3044\u307e\u3059\u3002PWM\u4fe1\u53f7\u751f\u6210\u3092\u5c02\u7528IC\u306b\u4efb\u305b\u308b\u3053\u3068\u3067\u3001CPU\u306e\u51e6\u7406\u80fd\u529b\u3092\u4ed6\u306e\u30bf\u30b9\u30af\u306b\u4f7f\u3048\u307e\u3059\u3002</p> </li> <li> <p>\u4fe1\u53f7\u306e\u5b89\u5b9a\u6027: PWM\u4fe1\u53f7\u306f20ms\u5468\u671f\u3067\u6b63\u78ba\u306b\u51fa\u529b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002CPU\u304c\u5fd9\u3057\u3044\u3068\u304d\u306b\u30bf\u30a4\u30df\u30f3\u30b0\u304c\u305a\u308c\u308b\u3068\u3001\u30b5\u30fc\u30dc\u304c\u9707\u3048\u305f\u308a\u3001\u610f\u56f3\u3057\u306a\u3044\u52d5\u304d\u3092\u3059\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002PCA9685\u306f\u5c02\u7528\u306e\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u30bf\u30a4\u30de\u30fc\u3067\u5b89\u5b9a\u3057\u305f\u4fe1\u53f7\u3092\u751f\u6210\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u62e1\u5f35\u6027: 16\u30c1\u30e3\u30f3\u30cd\u30eb\u3042\u308b\u306e\u3067\u3001\u5c06\u6765\u7684\u306bLED\u3084\u8ffd\u52a0\u306e\u30b5\u30fc\u30dc\u3092\u5236\u5fa1\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002</p> </li> </ul>"},{"location":"lesson/decision/","title":"\u5224\u65ad","text":"<p>\u81ea\u52d5\u904b\u8ee2\u306e2\u756a\u76ee\u306e\u30b9\u30c6\u30c3\u30d7\u300c\u5224\u65ad\u300d\u306b\u3064\u3044\u3066\u5b66\u3073\u307e\u3059\u3002</p>"},{"location":"lesson/decision/#_2","title":"\u5224\u65ad\u3068\u306f","text":"<p>\u5224\u65ad\u3068\u306f\u3001\u8a8d\u77e5\u3067\u5f97\u305f\u60c5\u5831\u3092\u3082\u3068\u306b\u300c\u3069\u3046\u52d5\u304f\u304b\u300d\u3092\u6c7a\u3081\u308b\u3053\u3068\u3067\u3059\u3002\u4eba\u9593\u3067\u8a00\u3048\u3070\u300c\u8003\u3048\u308b\u300d\u306b\u76f8\u5f53\u3057\u307e\u3059\u3002</p> <pre><code>graph LR\n    A[\u8a8d\u77e5\u7d50\u679c] --&gt; B[\u5224\u65ad\u30ed\u30b8\u30c3\u30af]\n    B --&gt; C{\u3069\u3046\u52d5\u304f?}\n    C --&gt;|\u5de6\u306b\u969c\u5bb3\u7269| D[\u53f3\u306b\u66f2\u304c\u308b]\n    C --&gt;|\u524d\u306b\u969c\u5bb3\u7269| E[\u6b62\u307e\u308b/\u56de\u907f]\n    C --&gt;|\u969c\u5bb3\u7269\u306a\u3057| F[\u76f4\u9032]</code></pre> <p>\u8eab\u8fd1\u306a\u4f8b</p> <ul> <li>\u4fe1\u53f7\u6a5f: \u8d64\u306a\u3089\u6b62\u307e\u308b\u3001\u9752\u306a\u3089\u9032\u3080</li> <li>\u30b2\u30fc\u30e0AI: \u6575\u304c\u8fd1\u3065\u3044\u305f\u3089\u653b\u6483\u3001\u9060\u3051\u308c\u3070\u8ffd\u8de1</li> <li>\u30a8\u30a2\u30b3\u30f3: \u5ba4\u6e29\u304c\u9ad8\u3051\u308c\u3070\u51b7\u623f\u3001\u4f4e\u3051\u308c\u3070\u6696\u623f</li> </ul>"},{"location":"lesson/decision/#_3","title":"\u5224\u65ad\u65b9\u5f0f\u306e\u6bd4\u8f03","text":"<p>\u5224\u65ad\u65b9\u6cd5\u306b\u306f\u5927\u304d\u304f2\u3064\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"lesson/decision/#_4","title":"\u30eb\u30fc\u30eb\u30d9\u30fc\u30b9\uff08\u30d7\u30ed\u30b0\u30e9\u30e0\uff09","text":"<p>\u4eba\u9593\u304c\u300c\u3053\u3046\u3044\u3046\u6642\u306f\u3053\u3046\u3059\u308b\u300d\u3068\u3044\u3046\u30eb\u30fc\u30eb\u3092\u660e\u793a\u7684\u306b\u66f8\u304f\u65b9\u6cd5\u3067\u3059\u3002</p> <pre><code># \u4f8b\uff1a\u969c\u5bb3\u7269\u56de\u907f\u306e\u57fa\u672c\u30eb\u30fc\u30eb\nif \u524d\u65b9\u306b\u969c\u5bb3\u7269:\n    if \u5de6\u304c\u5e83\u3044:\n        \u5de6\u306b\u66f2\u304c\u308b\n    else:\n        \u53f3\u306b\u66f2\u304c\u308b\nelse:\n    \u76f4\u9032\n</code></pre> \u30e1\u30ea\u30c3\u30c8 \u30c7\u30e1\u30ea\u30c3\u30c8 \u52d5\u4f5c\u304c\u660e\u78ba\u3067\u4e88\u6e2c\u53ef\u80fd \u8907\u96d1\u306a\u72b6\u6cc1\u3078\u306e\u5bfe\u5fdc\u304c\u96e3\u3057\u3044 \u30c7\u30d0\u30c3\u30b0\u3057\u3084\u3059\u3044 \u30eb\u30fc\u30eb\u306e\u6570\u304c\u7206\u767a\u7684\u306b\u5897\u3048\u308b \u5c11\u306a\u3044\u30c7\u30fc\u30bf\u3067\u52d5\u4f5c \u4eba\u9593\u304c\u5168\u30d1\u30bf\u30fc\u30f3\u3092\u8003\u3048\u308b\u5fc5\u8981"},{"location":"lesson/decision/#_5","title":"\u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\uff08\u6a5f\u68b0\u5b66\u7fd2\uff09","text":"<p>\u4eba\u9593\u306e\u904b\u8ee2\u30c7\u30fc\u30bf\u3092\u5b66\u7fd2\u3057\u3066\u3001AI\u304c\u5224\u65ad\u3059\u308b\u65b9\u6cd5\u3067\u3059\u3002</p> <pre><code>\u5165\u529b\uff08\u30bb\u30f3\u30b5\u30fc\u5024/\u753b\u50cf\uff09 \u2192 \u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8 \u2192 \u51fa\u529b\uff08\u64cd\u4f5c\u5024\uff09\n                         \u2191\n                   \u5b66\u7fd2\u30c7\u30fc\u30bf\u304b\u3089\u81ea\u52d5\u3067\u7372\u5f97\n</code></pre> \u30e1\u30ea\u30c3\u30c8 \u30c7\u30e1\u30ea\u30c3\u30c8 \u8907\u96d1\u306a\u30d1\u30bf\u30fc\u30f3\u3092\u5b66\u7fd2\u3067\u304d\u308b \u5927\u91cf\u306e\u5b66\u7fd2\u30c7\u30fc\u30bf\u304c\u5fc5\u8981 \u4eba\u9593\u304c\u6c17\u3065\u304b\u306a\u3044\u30d1\u30bf\u30fc\u30f3\u3082\u767a\u898b \u5224\u65ad\u7406\u7531\u304c\u5206\u304b\u308a\u306b\u304f\u3044 \u72b6\u6cc1\u306b\u67d4\u8edf\u306b\u5bfe\u5fdc \u5b66\u7fd2\u30c7\u30fc\u30bf\u306b\u306a\u3044\u72b6\u6cc1\u306b\u5f31\u3044 <p>\u3069\u3061\u3089\u3092\u9078\u3076\uff1f</p> <ul> <li>\u30b7\u30f3\u30d7\u30eb\u306a\u74b0\u5883: \u30eb\u30fc\u30eb\u30d9\u30fc\u30b9\u3067\u5341\u5206</li> <li>\u8907\u96d1\u306a\u74b0\u5883: \u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304c\u6709\u52b9</li> <li>\u5b9f\u969b\u306e\u81ea\u52d5\u904b\u8ee2\u8eca: \u4e21\u65b9\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u4f7f\u7528</li> </ul>"},{"location":"lesson/decision/#_6","title":"\u30eb\u30fc\u30eb\u30d9\u30fc\u30b9\u306e\u5224\u65ad\u30e2\u30fc\u30c9","text":""},{"location":"lesson/decision/#right_left_3","title":"right_left_3\uff08\u969c\u5bb3\u7269\u56de\u907f\uff09","text":"<p>\u524d\u65b93\u3064\u306e\u30bb\u30f3\u30b5\u30fc\uff08\u5de6\u524d\u30fb\u6b63\u9762\u30fb\u53f3\u524d\uff09\u3092\u4f7f\u3063\u3066\u3001\u969c\u5bb3\u7269\u3092\u56de\u907f\u3057\u307e\u3059\u3002</p> <pre><code>     FrLH    FrFR    FrRH\n       \uff3c     \u2502     \uff0f\n         \uff3c   \u2502   \uff0f\n           \uff3c \u2502 \uff0f\n            [\u8eca]\n</code></pre>"},{"location":"lesson/decision/#_7","title":"\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0","text":"<pre><code>graph TD\n    A[\u30bb\u30f3\u30b5\u30fc\u5024\u53d6\u5f97] --&gt; B{\u524d\u65b9\u306b\u969c\u5bb3\u7269?}\n    B --&gt;|Yes| C{\u5de6\u3068\u53f3&lt;br/&gt;\u3069\u3061\u3089\u304c\u5e83\u3044?}\n    B --&gt;|No| D[\u76f4\u9032]\n    C --&gt;|\u5de6\u304c\u5e83\u3044| E[\u5de6\u306b\u66f2\u304c\u308b]\n    C --&gt;|\u53f3\u304c\u5e83\u3044| F[\u53f3\u306b\u66f2\u304c\u308b]</code></pre>"},{"location":"lesson/decision/#_8","title":"\u30b3\u30fc\u30c9\uff08\u7c21\u7565\u7248\uff09","text":"<pre><code>def right_left_3(dis_FrLH, dis_FrFR, dis_FrRH):\n    # \u524d\u65b9\u307e\u305f\u306f\u5de6\u53f3\u306b\u969c\u5bb3\u7269\u3092\u691c\u77e5\n    if dis_FrFR &lt; \u691c\u77e5\u8ddd\u96e2 or dis_FrLH &lt; \u691c\u77e5\u8ddd\u96e2 or dis_FrRH &lt; \u691c\u77e5\u8ddd\u96e2:\n        # \u5de6\u53f3\u3069\u3061\u3089\u304c\u5e83\u3044\u304b\u3067\u5224\u65ad\n        if dis_FrLH &lt; dis_FrRH:\n            return \u53f3\u65cb\u56de  # \u5de6\u304c\u72ed\u3044\u306e\u3067\u53f3\u3078\n        else:\n            return \u5de6\u65cb\u56de  # \u53f3\u304c\u72ed\u3044\u306e\u3067\u5de6\u3078\n    else:\n        return \u76f4\u9032  # \u969c\u5bb3\u7269\u306a\u3057\n</code></pre> <p>\u30d1\u30e9\u30e1\u30fc\u30bf\u8abf\u6574</p> <ul> <li><code>DETECTION_RANGE</code>: \u524d\u65b9\u306e\u691c\u77e5\u958b\u59cb\u8ddd\u96e2\uff08\u30c7\u30d5\u30a9\u30eb\u30c8: 300mm\uff09</li> <li><code>RIGHT_LEFT_RANGE</code>: \u5de6\u53f3\u306e\u691c\u77e5\u958b\u59cb\u8ddd\u96e2\uff08\u30c7\u30d5\u30a9\u30eb\u30c8: 550mm\uff09</li> </ul>"},{"location":"lesson/decision/#wall_follow","title":"wall_follow\uff08\u58c1\u6cbf\u3044\u8d70\u884c\uff09","text":"<p>\u58c1\u3068\u306e\u8ddd\u96e2\u3092\u4e00\u5b9a\u306b\u4fdd\u3061\u306a\u304c\u3089\u8d70\u884c\u3057\u307e\u3059\u3002\u300c\u53f3\u624b\u6cd5\u300d\u300c\u5de6\u624b\u6cd5\u300d\u3092\u9078\u629e\u3067\u304d\u307e\u3059\u3002</p> <p></p> <ul> <li>\u53f3\u624b\u6cd5: \u53f3\u5074\u306e\u58c1\u306b\u6cbf\u3063\u3066\u8d70\u884c\uff08FrRH\u30fbRrRH\u30bb\u30f3\u30b5\u30fc\u3092\u4f7f\u7528\uff09</li> <li>\u5de6\u624b\u6cd5: \u5de6\u5074\u306e\u58c1\u306b\u6cbf\u3063\u3066\u8d70\u884c\uff08FrLH\u30fbRrLH\u30bb\u30f3\u30b5\u30fc\u3092\u4f7f\u7528\uff09</li> <li>\u76ee\u6a19\u8ddd\u96e2: \u58c1\u3068\u306e\u8ddd\u96e2\u3092\u4e00\u5b9a\uff08\u4f8b: 200mm\uff09\u306b\u4fdd\u3064</li> </ul>"},{"location":"lesson/decision/#_9","title":"\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0","text":"<pre><code>graph TD\n    A[\u58c1\u307e\u3067\u306e\u8ddd\u96e2\u3092\u6e2c\u5b9a] --&gt; B{\u76ee\u6a19\u8ddd\u96e2\u3068\u6bd4\u8f03}\n    B --&gt;|\u58c1\u304c\u9060\u3044| C[\u58c1\u5074\u306b\u5bc4\u308b]\n    B --&gt;|\u58c1\u304c\u8fd1\u3044| D[\u58c1\u304b\u3089\u96e2\u308c\u308b]\n    B --&gt;|\u9069\u5207\u306a\u8ddd\u96e2| E[\u76f4\u9032]</code></pre>"},{"location":"lesson/decision/#_10","title":"\u30b3\u30fc\u30c9\uff08\u7c21\u7565\u7248\uff09","text":"<pre><code>def wall_follow(dis_front, dis_rear, side=\"right\"):\n    target = \u76ee\u6a19\u8ddd\u96e2  # \u4f8b: 200mm\n    adjustment = \u8a31\u5bb9\u7bc4\u56f2  # \u4f8b: \u00b125mm\n\n    if \u58c1\u304c\u9060\u3044 (&gt; target + adjustment):\n        \u58c1\u5074\u306b\u65cb\u56de\n    elif \u58c1\u304c\u8fd1\u3044 (&lt; target - adjustment):\n        \u58c1\u304b\u3089\u96e2\u308c\u308b\u65b9\u5411\u306b\u65cb\u56de\n    else:\n        \u76f4\u9032\n</code></pre> <p>\u6ce8\u610f\u70b9</p> <p>\u58c1\u6cbf\u3044\u8d70\u884c\u306f\u3001\u58c1\u304c\u9014\u5207\u308c\u305f\u308a\u6025\u306b\u66f2\u304c\u3063\u305f\u308a\u3059\u308b\u3068\u5bfe\u5fdc\u304c\u96e3\u3057\u304f\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"lesson/decision/#wall_follow_pidpid","title":"wall_follow_pid\uff08PID\u5236\u5fa1\uff09","text":"<p>\u3088\u308a\u6ed1\u3089\u304b\u306a\u58c1\u6cbf\u3044\u8d70\u884c\u3092\u5b9f\u73fe\u3059\u308b\u305f\u3081\u3001PID\u5236\u5fa1 \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002</p>"},{"location":"lesson/decision/#pid","title":"PID\u5236\u5fa1\u3068\u306f","text":"<pre><code>\u5236\u5fa1\u91cf = P\uff08\u6bd4\u4f8b\uff09 + I\uff08\u7a4d\u5206\uff09 + D\uff08\u5fae\u5206\uff09\n</code></pre> \u9805 \u5f79\u5272 \u52b9\u679c P\uff08\u6bd4\u4f8b\uff09 \u73fe\u5728\u306e\u8aa4\u5dee\u306b\u6bd4\u4f8b \u8aa4\u5dee\u304c\u5927\u304d\u3044\u307b\u3069\u5f37\u304f\u4fee\u6b63 I\uff08\u7a4d\u5206\uff09 \u904e\u53bb\u306e\u8aa4\u5dee\u306e\u7d2f\u7a4d \u5c0f\u3055\u306a\u8aa4\u5dee\u3082\u6642\u9593\u3092\u304b\u3051\u3066\u4fee\u6b63 D\uff08\u5fae\u5206\uff09 \u8aa4\u5dee\u306e\u5909\u5316\u901f\u5ea6 \u6025\u306a\u5909\u5316\u3092\u6291\u5236\u3001\u30aa\u30fc\u30d0\u30fc\u30b7\u30e5\u30fc\u30c8\u9632\u6b62"},{"location":"lesson/decision/#_11","title":"\u52d5\u4f5c\u30a4\u30e1\u30fc\u30b8","text":"<pre><code>\u76ee\u6a19\u8ddd\u96e2\u304b\u3089\u306e\u30ba\u30ec\uff08\u8aa4\u5dee\uff09\n     \u2193\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502  \u8aa4\u5dee \u00d7 Kp  \u2192  \u6bd4\u4f8b\u9805\uff08\u4eca\u306e\u8aa4\u5dee\uff09  \u2502\n  \u2502  \u03a3\u8aa4\u5dee \u00d7 Ki \u2192  \u7a4d\u5206\u9805\uff08\u7d2f\u7a4d\u8aa4\u5dee\uff09  \u2502\n  \u2502  \u0394\u8aa4\u5dee \u00d7 Kd \u2192  \u5fae\u5206\u9805\uff08\u5909\u5316\u901f\u5ea6\uff09  \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n     \u2193\n  \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u88dc\u6b63\u91cf\n</code></pre>"},{"location":"lesson/decision/#_12","title":"\u8aa4\u5dee\u30fb\u64cd\u8235\u30fb\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u5024\u306e\u95a2\u4fc2","text":"<p>\u8aa4\u5dee\u306e\u8a08\u7b97\u3068\u3001\u305d\u308c\u306b\u5fdc\u3058\u305f\u64cd\u8235\u306e\u65b9\u5411\u3092\u7406\u89e3\u3059\u308b\u3053\u3068\u304c\u91cd\u8981\u3067\u3059\u3002</p> <pre><code>\u8aa4\u5dee = \u73fe\u5728\u306e\u58c1\u307e\u3067\u306e\u8ddd\u96e2 \u2212 \u76ee\u6a19\u8ddd\u96e2\n</code></pre> <p>\u53f3\u624b\u6cd5\u306e\u5834\u5408\uff08\u53f3\u5074\u306b\u58c1\uff09:</p> \u8aa4\u5dee \u72b6\u6cc1 \u64cd\u8235 \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u5024 \u6b63\uff08+\uff09 \u58c1\u304c\u9060\u3044 \u53f3\u306b\u66f2\u304c\u308b \u6b63\uff08+\uff09\u2192 \u58c1\u306b\u8fd1\u3065\u304f 0 \u76ee\u6a19\u8ddd\u96e2 \u76f4\u9032 0 \u8ca0\uff08\u2212\uff09 \u58c1\u304c\u8fd1\u3044 \u5de6\u306b\u66f2\u304c\u308b \u8ca0\uff08\u2212\uff09\u2192 \u58c1\u304b\u3089\u96e2\u308c\u308b <pre><code>\u4f8b\uff1a\u76ee\u6a19\u8ddd\u96e2 200mm\u3001\u73fe\u5728 250mm \u306e\u5834\u5408\n  \u8aa4\u5dee = 250 - 200 = +50mm\uff08\u58c1\u304c\u9060\u3044\uff09\n  \u2192 \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u3092\u6b63\uff08\u53f3\uff09\u306b \u2192 \u58c1\u306b\u8fd1\u3065\u304f\n</code></pre> <p>\u5de6\u624b\u6cd5\u306e\u5834\u5408\uff08\u5de6\u5074\u306b\u58c1\uff09:</p> \u8aa4\u5dee \u72b6\u6cc1 \u64cd\u8235 \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u5024 \u6b63\uff08+\uff09 \u58c1\u304c\u9060\u3044 \u5de6\u306b\u66f2\u304c\u308b \u8ca0\uff08\u2212\uff09\u2192 \u58c1\u306b\u8fd1\u3065\u304f 0 \u76ee\u6a19\u8ddd\u96e2 \u76f4\u9032 0 \u8ca0\uff08\u2212\uff09 \u58c1\u304c\u8fd1\u3044 \u53f3\u306b\u66f2\u304c\u308b \u6b63\uff08+\uff09\u2192 \u58c1\u304b\u3089\u96e2\u308c\u308b <p>\u7b26\u53f7\u306e\u53cd\u8ee2</p> <p>\u5de6\u624b\u6cd5\u3067\u306f\u3001\u8aa4\u5dee\u304b\u3089\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u5024\u3092\u8a08\u7b97\u3059\u308b\u969b\u306b\u7b26\u53f7\u3092\u53cd\u8ee2\u3055\u305b\u307e\u3059\u3002 <pre><code>if side == \"right\":\n    steering = steering_gain  # \u305d\u306e\u307e\u307e\nelse:  # left\n    steering = -steering_gain  # \u7b26\u53f7\u53cd\u8ee2\n</code></pre></p>"},{"location":"lesson/decision/#_13","title":"\u30d1\u30e9\u30e1\u30fc\u30bf\u8abf\u6574","text":"\u30d1\u30e9\u30e1\u30fc\u30bf \u5f79\u5272 \u8abf\u6574\u306e\u5f71\u97ff <code>K_P</code> \u6bd4\u4f8b\u30b2\u30a4\u30f3 \u5927\u304d\u304f\u3059\u308b\u3068\u53cd\u5fdc\u304c\u901f\u304f\u306a\u308b\u304c\u3001\u632f\u52d5\u3057\u3084\u3059\u3044 <code>K_I</code> \u7a4d\u5206\u30b2\u30a4\u30f3 \u5927\u304d\u304f\u3059\u308b\u3068\u5b9a\u5e38\u504f\u5dee\u304c\u6e1b\u308b\u304c\u3001\u30aa\u30fc\u30d0\u30fc\u30b7\u30e5\u30fc\u30c8\u3057\u3084\u3059\u3044 <code>K_D</code> \u5fae\u5206\u30b2\u30a4\u30f3 \u5927\u304d\u304f\u3059\u308b\u3068\u632f\u52d5\u304c\u6291\u3048\u3089\u308c\u308b\u304c\u3001\u53cd\u5fdc\u304c\u920d\u304f\u306a\u308b <p>PID\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\u306e\u76ee\u5b89</p> <ol> <li>\u307e\u305a <code>K_P</code> \u306e\u307f\u3067\u8abf\u6574\uff08<code>K_I = 0</code>, <code>K_D = 0</code>\uff09</li> <li>\u632f\u52d5\u3057\u305f\u3089 <code>K_D</code> \u3092\u5c11\u3057\u305a\u3064\u5897\u3084\u3059</li> <li>\u5b9a\u5e38\u504f\u5dee\u304c\u6b8b\u308b\u306a\u3089 <code>K_I</code> \u3092\u5c11\u3057\u305a\u3064\u5897\u3084\u3059</li> </ol>"},{"location":"lesson/decision/#_14","title":"\u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u5224\u65ad\u30e2\u30fc\u30c9","text":""},{"location":"lesson/decision/#nn","title":"nn\uff08\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u5165\u529b\uff09","text":"<p>\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u306e\u8ddd\u96e2\u5024\u3092\u5165\u529b\u3068\u3057\u3066\u3001\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u3068\u30b9\u30ed\u30c3\u30c8\u30eb\u3092\u51fa\u529b\u3057\u307e\u3059\u3002</p> <pre><code>\u5165\u529b\u5c64          \u96a0\u308c\u5c64           \u51fa\u529b\u5c64\n(5\u30ce\u30fc\u30c9)       (64\u30ce\u30fc\u30c9\u00d73)     (2\u30ce\u30fc\u30c9)\n\n FrFR \u2500\u2510\n FrLH \u2500\u253c\u2500\u25cb\u2500\u25cb\u2500\u25cb\u2500\u252c\u2500 \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\n FrRH \u2500\u253c\u2500\u25cb\u2500\u25cb\u2500\u25cb\u2500\u2524\n RrLH \u2500\u253c\u2500\u25cb\u2500\u25cb\u2500\u25cb\u2500\u2534\u2500 \u30b9\u30ed\u30c3\u30c8\u30eb\n RrRH \u2500\u2518\n</code></pre>"},{"location":"lesson/decision/#_15","title":"\u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u57fa\u672c","text":"\u7528\u8a9e \u610f\u5473 \u30ce\u30fc\u30c9\uff08\u30cb\u30e5\u30fc\u30ed\u30f3\uff09 \u5165\u529b\u3092\u53d7\u3051\u53d6\u308a\u3001\u8a08\u7b97\u3057\u3066\u51fa\u529b\u3059\u308b\u5358\u4f4d \u5c64\uff08\u30ec\u30a4\u30e4\u30fc\uff09 \u30ce\u30fc\u30c9\u306e\u96c6\u307e\u308a\u3002\u5165\u529b\u5c64\u2192\u96a0\u308c\u5c64\u2192\u51fa\u529b\u5c64 \u91cd\u307f\uff08\u30a6\u30a7\u30a4\u30c8\uff09 \u30ce\u30fc\u30c9\u9593\u306e\u63a5\u7d9a\u306e\u5f37\u3055\u3002\u5b66\u7fd2\u3067\u8abf\u6574\u3055\u308c\u308b \u6d3b\u6027\u5316\u95a2\u6570 \u30ce\u30fc\u30c9\u306e\u51fa\u529b\u3092\u975e\u7dda\u5f62\u306b\u5909\u63db\u3059\u308b\u95a2\u6570"},{"location":"lesson/decision/#_16","title":"\u5b66\u7fd2\u306e\u4ed5\u7d44\u307f","text":"<pre><code>graph LR\n    A[\u4eba\u9593\u304c\u904b\u8ee2] --&gt; B[\u30bb\u30f3\u30b5\u30fc\u5024\u3068&lt;br/&gt;\u64cd\u4f5c\u5024\u3092\u8a18\u9332]\n    B --&gt; C[\u5b66\u7fd2\u30c7\u30fc\u30bf]\n    C --&gt; D[\u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8&lt;br/&gt;\u306b\u5b66\u7fd2\u3055\u305b\u308b]\n    D --&gt; E[\u91cd\u307f\u3092\u8abf\u6574]\n    E --&gt; F[\u81ea\u52d5\u904b\u8ee2\u3067\u4f7f\u7528]</code></pre>"},{"location":"lesson/decision/#donkeycarcnn","title":"donkeycar\uff08\u30ab\u30e1\u30e9\u5165\u529bCNN\uff09","text":"<p>\u30ab\u30e1\u30e9\u753b\u50cf\u3092\u5165\u529b\u3068\u3057\u3066\u3001CNN\uff08\u7573\u307f\u8fbc\u307f\u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\uff09 \u3067\u5224\u65ad\u3057\u307e\u3059\u3002</p> <pre><code>\u5165\u529b\u753b\u50cf            \u7573\u307f\u8fbc\u307f\u5c64        \u5168\u7d50\u5408\u5c64      \u51fa\u529b\n(224\u00d7224\u00d73)        (\u7279\u5fb4\u62bd\u51fa)       (\u5224\u65ad)\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  \u753b\u50cf   \u2502 \u2192 \u2502 Conv\u2502 \u2192 \u2502 FC\u2502 \u2192 \u2502\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u2502\n\u2502         \u2502    \u2502     \u2502    \u2502   \u2502   \u2502\u30b9\u30ed\u30c3\u30c8\u30eb  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"lesson/decision/#cnn","title":"CNN\u304c\u753b\u50cf\u8a8d\u8b58\u306b\u5f37\u3044\u7406\u7531","text":"\u7279\u5fb4 \u8aac\u660e \u5c40\u6240\u7684\u306a\u7279\u5fb4\u691c\u51fa \u5c0f\u3055\u306a\u9818\u57df\u3054\u3068\u306b\u30a8\u30c3\u30b8\u3084\u6a21\u69d8\u3092\u691c\u51fa \u4f4d\u7f6e\u4e0d\u5909\u6027 \u7269\u4f53\u304c\u753b\u50cf\u306e\u3069\u3053\u306b\u3042\u3063\u3066\u3082\u8a8d\u8b58\u53ef\u80fd \u968e\u5c64\u7684\u306a\u5b66\u7fd2 \u4f4e\u30ec\u30d9\u30eb\uff08\u30a8\u30c3\u30b8\uff09\u2192\u9ad8\u30ec\u30d9\u30eb\uff08\u7269\u4f53\uff09\u3078\u6bb5\u968e\u7684\u306b\u5b66\u7fd2"},{"location":"lesson/decision/#_17","title":"\u7573\u307f\u8fbc\u307f\u51e6\u7406\u306e\u30a4\u30e1\u30fc\u30b8","text":"<pre><code>\u5165\u529b\u753b\u50cf          \u30d5\u30a3\u30eb\u30bf\u30fc        \u7279\u5fb4\u30de\u30c3\u30d7\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2510           \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 \u25a1 \u25a1 \u25a0 \u25a1 \u2502    \u25021 0\u2502           \u2502         \u2502\n\u2502 \u25a1 \u25a0 \u25a0 \u25a1 \u2502  \u00d7 \u25020 1\u2502    \u2192     \u2502 \u30a8\u30c3\u30b8  \u2502\n\u2502 \u25a1 \u25a1 \u25a0 \u25a1 \u2502    \u2514\u2500\u2500\u2500\u2518           \u2502 \u3092\u691c\u51fa  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>\u306a\u305c\u753b\u50cf\u5165\u529b\u304c\u6709\u52b9\uff1f</p> <ul> <li>\u767d\u7dda\u3001\u9053\u8def\u306e\u5f62\u72b6\u3001\u969c\u5bb3\u7269\u306e\u7a2e\u985e\u306a\u3069\u3001\u8c4a\u5bcc\u306a\u60c5\u5831\u3092\u542b\u3080</li> <li>\u4eba\u9593\u304c\u904b\u8ee2\u3059\u308b\u3068\u304d\u306b\u898b\u3066\u3044\u308b\u60c5\u5831\u306b\u8fd1\u3044</li> <li>\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u3067\u306f\u5f97\u3089\u308c\u306a\u3044\u8996\u899a\u7684\u306a\u624b\u304c\u304b\u308a\u3092\u6d3b\u7528</li> </ul>"},{"location":"lesson/decision/#_18","title":"\u5224\u65ad\u30e2\u30fc\u30c9\u4e00\u89a7","text":"\u30e2\u30fc\u30c9 \u65b9\u5f0f \u5165\u529b \u7279\u5fb4 <code>right_left_3</code> \u30eb\u30fc\u30eb \u8d85\u97f3\u6ce2\u00d73 \u30b7\u30f3\u30d7\u30eb\u306a\u969c\u5bb3\u7269\u56de\u907f <code>wall_follow</code> \u30eb\u30fc\u30eb \u8d85\u97f3\u6ce2\u00d72 \u58c1\u6cbf\u3044\u8d70\u884c\uff08ON/OFF\u5236\u5fa1\uff09 <code>wall_follow_pid</code> \u30eb\u30fc\u30eb \u8d85\u97f3\u6ce2\u00d72 \u58c1\u6cbf\u3044\u8d70\u884c\uff08PID\u5236\u5fa1\uff09 <code>nn</code> NN \u8d85\u97f3\u6ce2\u00d75 \u8ddd\u96e2\u5024\u304b\u3089\u5b66\u7fd2 <code>donkeycar</code> CNN \u30ab\u30e1\u30e9\u753b\u50cf \u753b\u50cf\u304b\u3089\u5b66\u7fd2\uff08\u63a8\u5968\uff09 <code>resnet18</code> CNN \u30ab\u30e1\u30e9\u753b\u50cf \u9ad8\u7cbe\u5ea6\u30e2\u30c7\u30eb"},{"location":"lesson/decision/#_19","title":"\u5165\u529b\u3068\u51fa\u529b","text":""},{"location":"lesson/decision/#_20","title":"\u5165\u529b\u30c7\u30fc\u30bf\uff08\u8a8d\u77e5\u304b\u3089\u53d7\u3051\u53d6\u308b\uff09","text":"\u30c7\u30fc\u30bf\u7a2e\u985e \u5f62\u5f0f \u4f8b \u8d85\u97f3\u6ce2\u8ddd\u96e2 \u6574\u6570\uff08mm\uff09 <code>FrFR: 350, FrLH: 520</code> LiDAR\u8ddd\u96e2 \u6d6e\u52d5\u5c0f\u6570\u70b9\uff08mm\uff09 <code>FrFR: 350.5</code> \u30ab\u30e1\u30e9\u753b\u50cf 224\u00d7224\u00d73 \u306e\u914d\u5217 RGB\u753b\u50cf"},{"location":"lesson/decision/#_21","title":"\u51fa\u529b\u30c7\u30fc\u30bf\uff08\u64cd\u4f5c\u3078\u6e21\u3059\uff09","text":"<p>\u3059\u3079\u3066\u306e\u5224\u65ad\u30e2\u30fc\u30c9\u306f\u3001\u540c\u3058\u5f62\u5f0f\u3067\u51fa\u529b\u3057\u307e\u3059\u3002</p> \u51fa\u529b \u7bc4\u56f2 \u610f\u5473 \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0 -1.0 \u301c 1.0 -1.0=\u5de6\u6700\u5927\u30010=\u76f4\u9032\u30011.0=\u53f3\u6700\u5927 \u30b9\u30ed\u30c3\u30c8\u30eb -1.0 \u301c 1.0 -1.0=\u5f8c\u9000\u30010=\u505c\u6b62\u30011.0=\u524d\u9032\u6700\u5927 <pre><code># \u51fa\u529b\u4f8b\nsteering = 0.3   # \u3084\u3084\u53f3\u306b\u66f2\u304c\u308b\nthrottle = 0.4   # \u4e2d\u901f\u3067\u524d\u9032\n</code></pre> <p>\u7d71\u4e00\u3055\u308c\u305f\u51fa\u529b\u5f62\u5f0f</p> <p>\u5224\u65ad\u30e2\u30fc\u30c9\u3092\u5207\u308a\u66ff\u3048\u3066\u3082\u3001\u51fa\u529b\u5f62\u5f0f\u304c\u540c\u3058\u306a\u306e\u3067\u3001 \u64cd\u4f5c\uff08\u30e2\u30fc\u30bf\u30fc\u5236\u5fa1\uff09\u5074\u306e\u5909\u66f4\u306f\u4e0d\u8981\u3067\u3059\u3002</p>"},{"location":"lesson/decision/#_22","title":"\u8003\u3048\u3066\u307f\u3088\u3046","text":"<p>\u4ee5\u4e0b\u306e\u554f\u3044\u306b\u3064\u3044\u3066\u8003\u3048\u3066\u307f\u307e\u3057\u3087\u3046\u3002</p>"},{"location":"lesson/decision/#1","title":"1. \u30eb\u30fc\u30eb\u30d9\u30fc\u30b9\u3067\u5bfe\u5fdc\u3067\u304d\u306a\u3044\u72b6\u6cc1\u306f\uff1f","text":"\u30d2\u30f3\u30c8 <ul> <li>\u30eb\u30fc\u30eb\u306f\u4eba\u9593\u304c\u300c\u60f3\u5b9a\u3057\u305f\u72b6\u6cc1\u300d\u306b\u5bfe\u3057\u3066\u66f8\u304f</li> <li>\u60f3\u5b9a\u5916\u306e\u72b6\u6cc1\u304c\u8d77\u304d\u305f\u3089\u3069\u3046\u306a\u308b\uff1f</li> </ul> \u89e3\u7b54\u4f8b <ul> <li>\u8907\u5408\u7684\u306a\u72b6\u6cc1: \u524d\u306b\u3082\u5de6\u306b\u3082\u53f3\u306b\u3082\u969c\u5bb3\u7269\u304c\u3042\u308b</li> <li>\u65b0\u3057\u3044\u969c\u5bb3\u7269: \u30eb\u30fc\u30eb\u4f5c\u6210\u6642\u306b\u60f3\u5b9a\u3057\u3066\u3044\u306a\u304b\u3063\u305f\u5f62\u72b6\u3084\u8272</li> <li>\u5fae\u5999\u306a\u5224\u65ad: \u5de6\u53f3\u306e\u8ddd\u96e2\u304c\u307b\u307c\u540c\u3058\u3067\u3069\u3061\u3089\u306b\u884c\u304f\u3079\u304d\u304b</li> <li>\u9023\u7d9a\u7684\u306a\u5909\u5316: \u58c1\u306e\u30ab\u30fc\u30d6\u304c\u5f90\u3005\u306b\u5909\u5316\u3059\u308b\u72b6\u6cc1</li> </ul>"},{"location":"lesson/decision/#2-nn","title":"2. NN\u306e\u5b66\u7fd2\u30c7\u30fc\u30bf\u304c\u504f\u3063\u3066\u3044\u305f\u3089\u3069\u3046\u306a\u308b\uff1f","text":"\u30d2\u30f3\u30c8 <ul> <li>NN\u306f\u300c\u5b66\u7fd2\u3057\u305f\u30d1\u30bf\u30fc\u30f3\u300d\u3092\u3082\u3068\u306b\u5224\u65ad\u3059\u308b</li> <li>\u5b66\u7fd2\u30c7\u30fc\u30bf\u306b\u542b\u307e\u308c\u306a\u3044\u30d1\u30bf\u30fc\u30f3\u306f\uff1f</li> </ul> \u89e3\u7b54\u4f8b <ul> <li>\u53f3\u30ab\u30fc\u30d6\u3070\u304b\u308a\u5b66\u7fd2 \u2192 \u5de6\u30ab\u30fc\u30d6\u3067\u66f2\u304c\u308c\u306a\u3044</li> <li>\u660e\u308b\u3044\u74b0\u5883\u3070\u304b\u308a\u5b66\u7fd2 \u2192 \u6697\u3044\u74b0\u5883\u3067\u8a8d\u8b58\u3067\u304d\u306a\u3044</li> <li>\u4f4e\u901f\u30c7\u30fc\u30bf\u3070\u304b\u308a\u5b66\u7fd2 \u2192 \u9ad8\u901f\u8d70\u884c\u3067\u5236\u5fa1\u304c\u8ffd\u3044\u3064\u304b\u306a\u3044</li> <li>\u5bfe\u7b56: \u30c7\u30fc\u30bf\u62e1\u5f35\uff08\u53cd\u8ee2\u3001\u660e\u5ea6\u5909\u66f4\u306a\u3069\uff09\u3067\u504f\u308a\u3092\u6e1b\u3089\u3059</li> </ul>"},{"location":"lesson/decision/#3-nn","title":"3. \u30eb\u30fc\u30eb\u3068NN\u3092\u7d44\u307f\u5408\u308f\u305b\u308b\u3053\u3068\u306f\u3067\u304d\u308b\uff1f","text":"\u30d2\u30f3\u30c8 <ul> <li>\u305d\u308c\u305e\u308c\u306e\u5f97\u610f\u30fb\u4e0d\u5f97\u610f\u3092\u8003\u3048\u3088\u3046</li> <li>\u5b89\u5168\u6027\u3092\u62c5\u4fdd\u3059\u308b\u306b\u306f\uff1f</li> </ul> \u89e3\u7b54\u4f8b <ul> <li>NN\u3067\u57fa\u672c\u8d70\u884c + \u30eb\u30fc\u30eb\u3067\u5b89\u5168\u78ba\u4fdd</li> <li>\u4f8b: NN\u304c\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u3092\u6c7a\u3081\u3001\u524d\u65b9\u969c\u5bb3\u7269\u304c\u8fd1\u3059\u304e\u305f\u3089\u30eb\u30fc\u30eb\u3067\u5f37\u5236\u505c\u6b62</li> <li>\u72b6\u6cc1\u306b\u5fdc\u3058\u3066\u5207\u308a\u66ff\u3048</li> <li>\u4f8b: \u901a\u5e38\u306fNN\u3001\u8ff7\u8def\u306e\u3088\u3046\u306a\u74b0\u5883\u3067\u306fwall_follow</li> <li>NN\u306e\u51fa\u529b\u3092\u30eb\u30fc\u30eb\u3067\u88dc\u6b63</li> <li>\u4f8b: NN\u306e\u6025\u30cf\u30f3\u30c9\u30eb\u3092\u6ed1\u3089\u304b\u306b\u3059\u308b</li> </ul>"},{"location":"lesson/decision/#4-pid","title":"4. PID\u5236\u5fa1\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u8abf\u6574\u3067\u632f\u52d5\u304c\u8d77\u304d\u305f\u3089\uff1f","text":"\u30d2\u30f3\u30c8 <ul> <li>P, I, D \u305d\u308c\u305e\u308c\u306e\u5f79\u5272\u3092\u601d\u3044\u51fa\u305d\u3046</li> <li>\u632f\u52d5 = \u4fee\u6b63\u3057\u3059\u304e\u3066\u53cd\u5bfe\u5074\u306b\u884c\u304d\u904e\u304e\u308b</li> </ul> \u89e3\u7b54\u4f8b <ul> <li>Kp \u304c\u5927\u304d\u3059\u304e\u308b \u2192 \u6bd4\u4f8b\u30b2\u30a4\u30f3\u3092\u4e0b\u3052\u308b</li> <li>Kd \u304c\u5c0f\u3055\u3059\u304e\u308b \u2192 \u5fae\u5206\u30b2\u30a4\u30f3\u3092\u4e0a\u3052\u3066\u632f\u52d5\u3092\u6291\u5236</li> <li>Ki \u304c\u5927\u304d\u3059\u304e\u308b \u2192 \u7a4d\u5206\u9805\u304c\u30aa\u30fc\u30d0\u30fc\u30b7\u30e5\u30fc\u30c8\u3092\u5f15\u304d\u8d77\u3053\u3057\u3066\u3044\u308b</li> </ul> <p>\u8abf\u6574\u624b\u9806: 1. \u307e\u305a <code>Ki = 0</code>, <code>Kd = 0</code> \u306b\u3057\u3066P\u306e\u307f\u3067\u8abf\u6574 2. \u632f\u52d5\u3057\u305f\u3089 <code>Kd</code> \u3092\u5c11\u3057\u305a\u3064\u4e0a\u3052\u308b 3. \u5b89\u5b9a\u3057\u305f\u3089 <code>Ki</code> \u3092\u5c11\u3057\u305a\u3064\u4e0a\u3052\u308b</p>"},{"location":"lesson/decision/#5-11","title":"5. \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u5024\uff08-1\u301c1\uff09\u3068\u5b9f\u969b\u306e\u8eca\u4e21\u306e\u52d5\u304d\u306e\u95a2\u4fc2\u306f\uff1f","text":"\u30d2\u30f3\u30c8 <ul> <li>\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u5024\u306f\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u4e0a\u306e\u62bd\u8c61\u7684\u306a\u6307\u793a</li> <li>\u5b9f\u969b\u306e\u8eca\u4e21\u306b\u306f\u300c\u8235\u89d2\u300d\u300c\u65cb\u56de\u534a\u5f84\u300d\u300c\u30db\u30a4\u30fc\u30eb\u30d9\u30fc\u30b9\u300d\u304c\u3042\u308b</li> <li>\u3053\u306e\u5909\u63db\u306f\u6b21\u306e\u300c\u64cd\u4f5c\u300d\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u8a73\u3057\u304f\u5b66\u3073\u307e\u3059</li> </ul> \u89e3\u7b54\u4f8b <p>\u5909\u63db\u306e\u6d41\u308c\uff08\u8a73\u7d30\u306f\u64cd\u4f5c\u30bb\u30af\u30b7\u30e7\u30f3\u3067\uff09</p> <pre><code>\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u5024 \u2192 PWM\u5024 \u2192 \u30b5\u30fc\u30dc\u89d2\u5ea6 \u2192 \u8235\u89d2 \u2192 \u65cb\u56de\u534a\u5f84\n  (\u5224\u65ad\u306e\u51fa\u529b)              (\u64cd\u4f5c\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u5b66\u3076)\n</code></pre> <p>\u306a\u305c\u6b63\u898f\u5316\uff08-1\u301c1\uff09\u3092\u4f7f\u3046\uff1f</p> <ul> <li>\u8eca\u4e21\u3054\u3068\u306e\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u306e\u9055\u3044\u3092\u5438\u53ce</li> <li>\u6a5f\u68b0\u5b66\u7fd2\u30e2\u30c7\u30eb\u306e\u51fa\u529b\u3068\u7d71\u4e00</li> <li>\u5224\u65ad\uff08\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\uff09\u3068\u64cd\u4f5c\uff08\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\uff09\u306e\u5206\u96e2</li> </ul>"},{"location":"lesson/decision/#_23","title":"\u307e\u3068\u3081","text":"\u65b9\u5f0f \u9069\u3057\u305f\u5834\u9762 \u96e3\u6613\u5ea6 \u30eb\u30fc\u30eb\u30d9\u30fc\u30b9 \u30b7\u30f3\u30d7\u30eb\u306a\u74b0\u5883\u3001\u660e\u78ba\u306a\u30eb\u30fc\u30eb\u304c\u3042\u308b\u5834\u5408 \u4f4e PID\u5236\u5fa1 \u9023\u7d9a\u7684\u306a\u5024\u3092\u5236\u5fa1\u3057\u305f\u3044\u5834\u5408 \u4e2d \u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8 \u8907\u96d1\u306a\u30d1\u30bf\u30fc\u30f3\u3001\u4eba\u9593\u304c\u904b\u8ee2\u3067\u304d\u308b\u72b6\u6cc1 \u9ad8 <p>\u5224\u65ad\u30e2\u30fc\u30c9\u306e\u9078\u3073\u65b9</p> <ul> <li>\u307e\u305a\u8a66\u3059: <code>right_left_3</code>\uff08\u30b7\u30f3\u30d7\u30eb\u3067\u52d5\u4f5c\u78ba\u8a8d\u3057\u3084\u3059\u3044\uff09</li> <li>\u58c1\u6cbf\u3044\u8d70\u884c: <code>wall_follow_pid</code>\uff08\u6ed1\u3089\u304b\u306a\u52d5\u304d\uff09</li> <li>\u672c\u683c\u7684\u306a\u81ea\u52d5\u904b\u8ee2: <code>donkeycar</code>\uff08\u753b\u50cf\u5b66\u7fd2\uff09</li> </ul> <p>\u5224\u65ad\u3057\u305f\u7d50\u679c\u306f\u3001\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u300c\u64cd\u4f5c\u300d\u3067\u30e2\u30fc\u30bf\u30fc\u306b\u51fa\u529b\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"lesson/overview/","title":"\u4f53\u9a13\u578b\u6388\u696d \u6982\u8981","text":"<p>\u81ea\u52d5\u904b\u8ee2\u306e3\u30b9\u30c6\u30c3\u30d7</p> <p>\u8a8d\u77e5\uff08\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc/\u30ab\u30e1\u30e9\u7b49\uff09\u2192 \u5224\u65ad\uff08\u30e2\u30fc\u30c9\u306e\u9078\u629e/\u7d39\u4ecb\uff09\u2192 \u64cd\u4f5c\uff08\u30e2\u30fc\u30bf\u30fc\u51fa\u529b\uff09 \u306e\u9806\u3067\u81ea\u52d5\u904b\u8ee2\u3092\u5b9f\u65bd</p>"},{"location":"lesson/overview/#_2","title":"\u4f7f\u7528\u3059\u308b\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2","text":"<ul> <li>Raspberry Pi 4/5 \u307e\u305f\u306f Jetson Orin Nano</li> <li>\u30e2\u30fc\u30bf\u30fc\uff08ESC\u5236\u5fa1\uff09+ \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u30b5\u30fc\u30dc</li> <li>\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\uff08HC-SR04\uff09\u307e\u305f\u306fLiDAR</li> <li>\u30ab\u30e1\u30e9\u30e2\u30b8\u30e5\u30fc\u30eb</li> <li>\u30b2\u30fc\u30e0\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\uff08Logicool F710\u306a\u3069\uff09</li> </ul>"},{"location":"lesson/overview/#_3","title":"\u5b66\u7fd2\u76ee\u6a19","text":"<ol> <li>\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u74b0\u5883\u60c5\u5831\u3092\u53d6\u5f97\u3059\u308b\u65b9\u6cd5\u3092\u7406\u89e3\u3059\u308b</li> <li>\u53d6\u5f97\u3057\u305f\u60c5\u5831\u304b\u3089\u8d70\u884c\u5224\u65ad\u3092\u884c\u3046\u30ed\u30b8\u30c3\u30af\u3092\u5b66\u3076</li> <li>\u5224\u65ad\u7d50\u679c\u3092\u30e2\u30fc\u30bf\u30fc\u5236\u5fa1\u306b\u5909\u63db\u3059\u308b\u4ed5\u7d44\u307f\u3092\u7fd2\u5f97\u3059\u308b</li> <li>\u81ea\u5206\u3067\u8d70\u884c\u30eb\u30fc\u30eb\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b</li> </ol>"},{"location":"lesson/overview/#_4","title":"\u5404\u30bb\u30af\u30b7\u30e7\u30f3","text":""},{"location":"lesson/overview/#_5","title":"\u8a8d\u77e5","text":"<ul> <li>\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u306e\u4ed5\u7d44\u307f\u3068\u7279\u6027</li> <li>\u30ab\u30e1\u30e9\u753b\u50cf\u306e\u53d6\u5f97</li> <li>\u30bb\u30f3\u30b5\u30fc\u306e\u9055\u3044\u3068\u4f7f\u3044\u5206\u3051</li> </ul>"},{"location":"lesson/overview/#_6","title":"\u5224\u65ad","text":"<ul> <li>\u8d70\u884c\u30e2\u30fc\u30c9\u306e\u9078\u629e</li> <li>\u30eb\u30fc\u30eb\u30d9\u30fc\u30b9 vs \u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af</li> <li>\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306e\u7406\u89e3</li> </ul>"},{"location":"lesson/overview/#_7","title":"\u64cd\u4f5c","text":"<ul> <li>PWM\u4fe1\u53f7\u306e\u57fa\u672c</li> <li>\u5236\u5fa1\u5024\u304b\u3089\u52d5\u304d\u3078\u306e\u5909\u63db</li> <li>\u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af\u5236\u5fa1</li> </ul>"},{"location":"lesson/recognition/","title":"\u8a8d\u77e5","text":"<p>\u81ea\u52d5\u904b\u8ee2\u306e\u6700\u521d\u306e\u30b9\u30c6\u30c3\u30d7\u300c\u8a8d\u77e5\u300d\u306b\u3064\u3044\u3066\u5b66\u3073\u307e\u3059\u3002</p>"},{"location":"lesson/recognition/#_2","title":"\u8a8d\u77e5\u3068\u306f","text":"<p>\u8a8d\u77e5\u3068\u306f\u3001\u30bb\u30f3\u30b5\u30fc\u3092\u4f7f\u3063\u3066\u5468\u56f2\u306e\u74b0\u5883\u3092\u628a\u63e1\u3059\u308b\u3053\u3068\u3067\u3059\u3002\u4eba\u9593\u3067\u8a00\u3048\u3070\u300c\u76ee\u3067\u898b\u308b\u300d\u300c\u8033\u3067\u805e\u304f\u300d\u306b\u76f8\u5f53\u3057\u307e\u3059\u3002</p> <pre><code>graph LR\n    A[\u74b0\u5883] --&gt;|\u8d85\u97f3\u6ce2| B[\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc]\n    A --&gt;|\u30ec\u30fc\u30b6\u30fc\u5149| L[LiDAR]\n    A --&gt;|\u5149| C[\u30ab\u30e1\u30e9]\n    B --&gt; D[\u8ddd\u96e2\u30c7\u30fc\u30bf]\n    L --&gt; D2[\u70b9\u7fa4\u30c7\u30fc\u30bf]\n    C --&gt; E[\u753b\u50cf\u30c7\u30fc\u30bf]\n    D --&gt; F[\u8a8d\u77e5\u7d50\u679c]\n    D2 --&gt; F\n    E --&gt; F</code></pre> <p>\u8eab\u8fd1\u306a\u4f8b</p> <ul> <li>\u81ea\u52d5\u30c9\u30a2: \u4eba\u3092\u691c\u77e5\u3057\u3066\u958b\u9589</li> <li>\u99d0\u8eca\u30bb\u30f3\u30b5\u30fc: \u969c\u5bb3\u7269\u307e\u3067\u306e\u8ddd\u96e2\u3092\u97f3\u3067\u901a\u77e5</li> <li>\u30b9\u30de\u30db\u306e\u9854\u8a8d\u8a3c: \u30ab\u30e1\u30e9\u3067\u9854\u3092\u8a8d\u8b58</li> </ul>"},{"location":"lesson/recognition/#_3","title":"\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u306b\u3088\u308b\u8a8d\u77e5","text":""},{"location":"lesson/recognition/#_4","title":"\u4ed5\u7d44\u307f","text":"<p>\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u306f ToF\uff08Time of Flight: \u98db\u884c\u6642\u9593\uff09 \u65b9\u5f0f\u3067\u8ddd\u96e2\u3092\u6e2c\u5b9a\u3057\u307e\u3059\u3002 \u97f3\u6ce2\u3092\u767a\u5c04\u3057\u3001\u7269\u4f53\u306b\u53cd\u5c04\u3057\u3066\u623b\u3063\u3066\u304f\u308b\u307e\u3067\u306e\u6642\u9593\u304b\u3089\u8ddd\u96e2\u3092\u8a08\u7b97\u3057\u307e\u3059\u3002</p> <pre><code>\u30bb\u30f3\u30b5\u30fc \u2192 \u8d85\u97f3\u6ce2\u767a\u5c04 \u2192 \u7269\u4f53\u3067\u53cd\u5c04 \u2192 \u30bb\u30f3\u30b5\u30fc\u3067\u53d7\u4fe1\n         \u2514\u2500\u2500\u2500\u2500\u2500\u2500 \u5f80\u5fa9\u6642\u9593(ToF)\u3092\u6e2c\u5b9a \u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u2193\n              \u8ddd\u96e2 = ToF \u00d7 \u97f3\u901f \u00f7 2\n</code></pre> <p>ToF\u65b9\u5f0f\u3068\u306f</p> <p>ToF\uff08Time of Flight\uff09\u306f\u3001\u4fe1\u53f7\u306e\u300c\u98db\u884c\u6642\u9593\u300d\u3092\u6e2c\u5b9a\u3059\u308b\u8ddd\u96e2\u8a08\u6e2c\u306e\u57fa\u672c\u539f\u7406\u3067\u3059\u3002 \u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u3067\u306f\u97f3\u6ce2\u3001LiDAR\u3067\u306f\u30ec\u30fc\u30b6\u30fc\u5149\u3092\u4f7f\u3044\u307e\u3059\u304c\u3001\u3069\u3061\u3089\u3082\u540c\u3058ToF\u306e\u8003\u3048\u65b9\u3067\u8ddd\u96e2\u3092\u6c42\u3081\u307e\u3059\u3002</p>"},{"location":"lesson/recognition/#_5","title":"\u8a08\u7b97\u4f8b","text":"<p>\u8ddd\u96e2\u3092\u8a08\u7b97\u3057\u3066\u307f\u3088\u3046</p> <p>\u6761\u4ef6: \u8d85\u97f3\u6ce2\u3092\u767a\u5c04\u3057\u3066\u304b\u3089\u3001\u53cd\u5c04\u6ce2\u304c\u623b\u308b\u307e\u3067 0.002\u79d2\uff082\u30df\u30ea\u79d2\uff09 \u304b\u304b\u3063\u305f</p> <p>\u97f3\u901f: \u7d04 340 m/s\uff08\u6c17\u6e2920\u2103\u306e\u5834\u5408\uff09</p> <p>\u8a08\u7b97: <pre><code>\u8ddd\u96e2 = 0.002\u79d2 \u00d7 340 m/s \u00f7 2\n     = 0.68 m \u00f7 2\n     = 0.34 m\n     = 34 cm\n</code></pre></p> <p>\u203b 2\u3067\u5272\u308b\u306e\u306f\u3001\u97f3\u6ce2\u304c\u5f80\u5fa9\u3057\u3066\u3044\u308b\u305f\u3081</p>"},{"location":"lesson/recognition/#_6","title":"\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u306e\u7279\u6027","text":"\u9805\u76ee \u5024 \u88dc\u8db3 \u691c\u77e5\u89d2\u5ea6 \u7d0415\u5ea6\uff08\u7247\u5074\uff09 \u6247\u5f62\u306b\u5e83\u304c\u308b \u691c\u77e5\u8ddd\u96e2 2cm\u301c400cm \u8fd1\u3059\u304e\u308b\u3068\u6e2c\u5b9a\u4e0d\u53ef \u6e2c\u5b9a\u7cbe\u5ea6 \u00b13mm \u6e29\u5ea6\u3067\u5909\u5316\u3059\u308b"},{"location":"lesson/recognition/#_7","title":"\u691c\u77e5\u7bc4\u56f2","text":"<pre><code>graph TB\n    subgraph \"\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5 HC-SR04 \u691c\u77e5\u7bc4\u56f2\"\n        S[\u30bb\u30f3\u30b5\u30fc\u4f4d\u7f6e]\n        S -.-&gt;|15\u00b0| L1[\u5de6\u7aef]\n        S -.-&gt;|0\u00b0| C[\u4e2d\u5fc3\u7dda]\n        S -.-&gt;|15\u00b0| R1[\u53f3\u7aef]\n        C -.-&gt;|2cm| MIN[\u6700\u5c0f\u691c\u77e5\u8ddd\u96e2]\n        C -.-&gt;|400cm| MAX[\u6700\u5927\u691c\u77e5\u8ddd\u96e2]\n    end\n\n    style S fill:#ff6633,stroke:#000,stroke-width:4px,color:#000\n    style MIN fill:#ff9999,stroke:#000,stroke-width:2px,color:#000\n    style MAX fill:#66cc66,stroke:#000,stroke-width:2px,color:#000</code></pre>"},{"location":"lesson/recognition/#_8","title":"\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u306e\u5f31\u70b9","text":"<p>\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u306f\u4e07\u80fd\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u72b6\u6cc1\u3067\u306f\u6b63\u78ba\u306b\u6e2c\u5b9a\u3067\u304d\u306a\u3044\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002</p> \u72b6\u6cc1 \u7406\u7531 \u5bfe\u7b56 \u30ac\u30e9\u30b9\u30fb\u93e1 \u97f3\u6ce2\u304c\u659c\u3081\u306b\u53cd\u5c04\u3057\u3066\u623b\u3089\u306a\u3044 \u30ab\u30e1\u30e9\u3068\u4f75\u7528 \u30b9\u30dd\u30f3\u30b8\u30fb\u5e03 \u97f3\u6ce2\u3092\u5438\u53ce\u3057\u3066\u3057\u307e\u3046 \u8907\u6570\u30bb\u30f3\u30b5\u30fc\u3067\u78ba\u8a8d \u7d30\u3044\u68d2\u30fb\u30ef\u30a4\u30e4\u30fc \u53cd\u5c04\u9762\u304c\u5c0f\u3055\u3059\u304e\u308b LiDAR\u3092\u4f7f\u7528 \u659c\u3081\u306e\u58c1 \u97f3\u6ce2\u304c\u5225\u65b9\u5411\u306b\u53cd\u5c04 \u8907\u6570\u89d2\u5ea6\u304b\u3089\u6e2c\u5b9a <p>\u6e29\u5ea6\u306e\u5f71\u97ff</p> <p>\u97f3\u901f\u306f\u6e29\u5ea6\u306b\u3088\u3063\u3066\u5909\u5316\u3057\u307e\u3059\uff080\u2103\u3067331m/s\u300130\u2103\u3067349m/s\uff09\u3002 \u7cbe\u5bc6\u306a\u6e2c\u5b9a\u306b\u306f\u6e29\u5ea6\u88dc\u6b63\u304c\u5fc5\u8981\u3067\u3059\u3002</p>"},{"location":"lesson/recognition/#lidar","title":"LiDAR\u306b\u3088\u308b\u8a8d\u77e5","text":""},{"location":"lesson/recognition/#_9","title":"\u4ed5\u7d44\u307f","text":"<p>LiDAR\uff08Light Detection and Ranging\uff09\u3082\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u3068\u540c\u3058 ToF\u65b9\u5f0f \u3067\u3059\u304c\u3001\u97f3\u6ce2\u306e\u4ee3\u308f\u308a\u306b \u30ec\u30fc\u30b6\u30fc\u5149 \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002</p> <pre><code>\u30bb\u30f3\u30b5\u30fc \u2192 \u30ec\u30fc\u30b6\u30fc\u767a\u5c04 \u2192 \u7269\u4f53\u3067\u53cd\u5c04 \u2192 \u30bb\u30f3\u30b5\u30fc\u3067\u53d7\u4fe1\n         \u2514\u2500\u2500\u2500\u2500\u2500\u2500 \u5f80\u5fa9\u6642\u9593(ToF)\u3092\u6e2c\u5b9a \u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u2193\n              \u8ddd\u96e2 = ToF \u00d7 \u5149\u901f \u00f7 2\n</code></pre> <p>\u8d85\u97f3\u6ce2\u3068\u306e\u9055\u3044</p> <ul> <li>\u8d85\u97f3\u6ce2: \u97f3\u901f\uff08\u7d04340 m/s\uff09\u3092\u4f7f\u7528 \u2192 \u6e2c\u5b9a\u306b\u6642\u9593\u304c\u304b\u304b\u308b</li> <li>LiDAR: \u5149\u901f\uff08\u7d043\u5104 m/s\uff09\u3092\u4f7f\u7528 \u2192 \u9ad8\u901f\u30fb\u9ad8\u7cbe\u5ea6\u306b\u6e2c\u5b9a\u53ef\u80fd</li> </ul>"},{"location":"lesson/recognition/#_10","title":"\u8a08\u7b97\u4f8b","text":"<p>LiDAR\u306e\u8ddd\u96e2\u8a08\u7b97</p> <p>\u6761\u4ef6: \u30ec\u30fc\u30b6\u30fc\u3092\u767a\u5c04\u3057\u3066\u304b\u3089\u3001\u53cd\u5c04\u5149\u304c\u623b\u308b\u307e\u3067 0.00000001\u79d2\uff0810\u30ca\u30ce\u79d2\uff09 \u304b\u304b\u3063\u305f</p> <p>\u5149\u901f: \u7d04 3 \u00d7 10\u2078 m/s</p> <p>\u8a08\u7b97: <pre><code>\u8ddd\u96e2 = 0.00000001\u79d2 \u00d7 300,000,000 m/s \u00f7 2\n     = 3 m \u00f7 2\n     = 1.5 m\n</code></pre></p> <p>\u203b \u5149\u901f\u304c\u975e\u5e38\u306b\u901f\u3044\u305f\u3081\u3001\u30ca\u30ce\u79d2\u5358\u4f4d\u306e\u7cbe\u5bc6\u306a\u6642\u9593\u8a08\u6e2c\u304c\u5fc5\u8981</p>"},{"location":"lesson/recognition/#ydlidar-t-mini","title":"YDLIDAR T-mini \u306e\u7279\u6027","text":"<p>\u672c\u8b1b\u5ea7\u3067\u4f7f\u7528\u3059\u308bLiDAR\u30bb\u30f3\u30b5\u30fc\u306e\u4ed5\u69d8\u3067\u3059\u3002</p> \u9805\u76ee \u5024 \u88dc\u8db3 \u691c\u77e5\u89d2\u5ea6 360\u5ea6 \u5168\u5468\u56f2\u3092\u30b9\u30ad\u30e3\u30f3 \u691c\u77e5\u8ddd\u96e2 2cm\u301c12m \u8d85\u97f3\u6ce2\u3088\u308a\u5e83\u7bc4\u56f2 \u6e2c\u5b9a\u7cbe\u5ea6 \u00b12cm \u9ad8\u7cbe\u5ea6 \u30b9\u30ad\u30e3\u30f3\u30ec\u30fc\u30c8 6\u301c12Hz 1\u79d2\u9593\u306b6\u301c12\u56de\u8ee2 \u30c7\u30fc\u30bf\u70b9\u6570 \u7d04400\u70b9/\u56de\u8ee2 0.9\u5ea6\u9593\u9694"},{"location":"lesson/recognition/#_11","title":"\u30b9\u30ad\u30e3\u30f3\u65b9\u5f0f","text":"<p>LiDAR\u306f\u30e2\u30fc\u30bf\u30fc\u3067\u56de\u8ee2\u3057\u306a\u304c\u3089\u30ec\u30fc\u30b6\u30fc\u3092\u7167\u5c04\u3057\u3001360\u5ea6\u5168\u5468\u56f2\u306e\u8ddd\u96e2\u3092\u6e2c\u5b9a\u3057\u307e\u3059\u3002</p> <pre><code>          \u524d\u65b9 (0\u00b0)\n            \u2502\n     315\u00b0 \u2500\u2500\u253c\u2500\u2500 45\u00b0\n           \u2571\u2502\u2572\n          \u2571 \u2502 \u2572\n   270\u00b0 \u2500\u253c\u2500\u2500\u25cf\u2500\u2500\u253c\u2500 90\u00b0\n          \u2572 \u2502 \u2571\n           \u2572\u2502\u2571\n     225\u00b0 \u2500\u2500\u253c\u2500\u2500 135\u00b0\n            \u2502\n          \u5f8c\u65b9 (180\u00b0)\n\n    \u25cf = LiDAR\u30bb\u30f3\u30b5\u30fc\uff08\u56de\u8ee2\u3057\u306a\u304c\u3089\u30b9\u30ad\u30e3\u30f3\uff09\n</code></pre>"},{"location":"lesson/recognition/#_12","title":"\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u3068\u306e\u6bd4\u8f03","text":"\u9805\u76ee \u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5 LiDAR \u4f7f\u7528\u6ce2 \u97f3\u6ce2\uff08\u7d04340 m/s\uff09 \u30ec\u30fc\u30b6\u30fc\u5149\uff08\u5149\u901f\uff09 \u691c\u77e5\u7bc4\u56f2 \u7d0430\u5ea6\uff08\u6247\u5f62\uff09 360\u5ea6\uff08\u5168\u5468\u56f2\uff09 \u691c\u77e5\u8ddd\u96e2 \u301c4m \u301c12m \u30c7\u30fc\u30bf\u70b9\u6570 1\u70b9/\u30bb\u30f3\u30b5\u30fc \u7d04400\u70b9/\u56de\u8ee2 \u7cbe\u5ea6 \u00b13mm \u00b12cm \u30b3\u30b9\u30c8 \u5b89\u4fa1\uff08\u6570\u767e\u5186\uff09 \u9ad8\u4fa1\uff08\u6570\u5343\u301c\u6570\u4e07\u5186\uff09 \u51e6\u7406\u8ca0\u8377 \u4f4e\u3044 \u4e2d\u7a0b\u5ea6"},{"location":"lesson/recognition/#lidar_1","title":"LiDAR\u306e\u5f31\u70b9","text":"\u72b6\u6cc1 \u7406\u7531 \u5bfe\u7b56 \u9ed2\u3044\u7269\u4f53 \u30ec\u30fc\u30b6\u30fc\u5149\u3092\u5438\u53ce\u3059\u308b \u53cd\u5c04\u7387\u306e\u9ad8\u3044\u6750\u8cea\u3068\u7d44\u307f\u5408\u308f\u305b \u93e1\u9762\u53cd\u5c04 \u5149\u304c\u5225\u65b9\u5411\u306b\u53cd\u5c04 \u8907\u6570\u30bb\u30f3\u30b5\u30fc\u3067\u88dc\u5b8c \u900f\u660e\u306a\u7269\u4f53 \u30ac\u30e9\u30b9\u3092\u900f\u904e\u3059\u308b \u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u3068\u4f75\u7528 \u5f37\u3044\u65e5\u5149\u4e0b \u5916\u5149\u306e\u5f71\u97ff\u3092\u53d7\u3051\u308b \u8d64\u5916\u7dda\u30d5\u30a3\u30eb\u30bf\u30fc\u4f7f\u7528 \u96e8\u30fb\u9727\u30fb\u7159 \u5149\u304c\u6563\u4e71\u3059\u308b \u4ed6\u30bb\u30f3\u30b5\u30fc\u3068\u4f75\u7528 <p>LiDAR\u306e\u7528\u9014</p> <ul> <li>\u81ea\u52d5\u904b\u8ee2\u8eca: \u5468\u56f2\u306e\u8eca\u4e21\u30fb\u6b69\u884c\u8005\u30fb\u969c\u5bb3\u7269\u3092\u691c\u77e5</li> <li>\u30ed\u30dc\u30c3\u30c8\u6383\u9664\u6a5f: \u90e8\u5c4b\u306e\u5730\u56f3\u3092\u4f5c\u6210\uff08SLAM\uff09</li> <li>\u30c9\u30ed\u30fc\u30f3: \u969c\u5bb3\u7269\u56de\u907f\u3001\u5730\u5f62\u30de\u30c3\u30d4\u30f3\u30b0</li> <li>\u6e2c\u91cf: \u5730\u5f62\u306e3D\u30b9\u30ad\u30e3\u30f3</li> </ul>"},{"location":"lesson/recognition/#_13","title":"\u30ab\u30e1\u30e9\u306b\u3088\u308b\u8a8d\u77e5","text":""},{"location":"lesson/recognition/#_14","title":"\u4ed5\u7d44\u307f","text":"<p>\u30ab\u30e1\u30e9\u306f \u5149\uff08\u96fb\u78c1\u6ce2\uff09 \u3092\u6349\u3048\u3066\u753b\u50cf\u30c7\u30fc\u30bf\u3092\u751f\u6210\u3057\u307e\u3059\u3002\u4eba\u9593\u306e\u76ee\u3068\u540c\u3058\u539f\u7406\u3067\u3059\u3002</p> <pre><code>graph LR\n    A[\u5149\u6e90] --&gt; B[\u7269\u4f53\u304b\u3089\u306e\u53cd\u5c04\u5149]\n    B --&gt; C[\u30ec\u30f3\u30ba]\n    C --&gt; D[\u30a4\u30e1\u30fc\u30b8\u30bb\u30f3\u30b5\u30fc]\n    D --&gt; E[\u753b\u50cf\u30c7\u30fc\u30bf]\n    E --&gt; F[\u753b\u50cf\u8a8d\u8b58AI]\n    F --&gt; G[\u8a8d\u8b58\u7d50\u679c]</code></pre>"},{"location":"lesson/recognition/#_15","title":"\u753b\u50cf\u30c7\u30fc\u30bf\u306e\u69cb\u9020","text":"<p>\u30ab\u30e1\u30e9\u304c\u6349\u3048\u305f\u753b\u50cf\u306f\u3001\u5c0f\u3055\u306a\u70b9\uff08\u30d4\u30af\u30bb\u30eb\uff09\u306e\u96c6\u307e\u308a\u3067\u3059\u3002</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  224 \u30d4\u30af\u30bb\u30eb\uff08\u6a2a\uff09          \u2502\n\u2502 \u250c\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502 \u2502R G B\u2502R G B\u2502R G B\u2502  ...    \u2502 \u2502 224\n\u2502 \u251c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2502 \u30d4\u30af\u30bb\u30eb\n\u2502 \u2502R G B\u2502R G B\u2502R G B\u2502  ...    \u2502 \u2502 \uff08\u7e26\uff09\n\u2502 \u2514\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> \u7528\u8a9e \u610f\u5473 \u30d4\u30af\u30bb\u30eb \u753b\u50cf\u3092\u69cb\u6210\u3059\u308b\u6700\u5c0f\u306e\u70b9 RGB \u8d64(Red)\u30fb\u7dd1(Green)\u30fb\u9752(Blue)\u306e3\u8272 \u89e3\u50cf\u5ea6 \u753b\u50cf\u306e\u7d30\u304b\u3055\uff08\u30d4\u30af\u30bb\u30eb\u6570\uff09 <p>\u306a\u305c224\u00d7224\uff1f</p> <p>\u6a5f\u68b0\u5b66\u7fd2\u3067\u3088\u304f\u4f7f\u308f\u308c\u308b\u30e2\u30c7\u30eb\uff08ResNet\u3001MobileNet\u306a\u3069\uff09\u306e\u6a19\u6e96\u5165\u529b\u30b5\u30a4\u30ba\u3067\u3059\u3002 \u5927\u304d\u3059\u304e\u308b\u3068\u51e6\u7406\u304c\u9045\u304f\u3001\u5c0f\u3055\u3059\u304e\u308b\u3068\u60c5\u5831\u304c\u5931\u308f\u308c\u307e\u3059\u3002</p>"},{"location":"lesson/recognition/#_16","title":"\u753b\u50cf\u8a8d\u8b58\u3067\u3067\u304d\u308b\u3053\u3068","text":"<p>\u30ab\u30e1\u30e9\uff0b\u753b\u50cf\u8a8d\u8b58AI\u3092\u4f7f\u3046\u3068\u3001\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u3067\u306f\u3067\u304d\u306a\u3044\u8a8d\u8b58\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002</p> \u8a8d\u8b58\u5185\u5bb9 \u4f8b \u7269\u4f53\u691c\u51fa \u8eca\u3001\u4eba\u3001\u6a19\u8b58\u3092\u898b\u3064\u3051\u308b \u5206\u985e \u4fe1\u53f7\u304c\u8d64\u304b\u9752\u304b\u5224\u65ad \u30bb\u30b0\u30e1\u30f3\u30c6\u30fc\u30b7\u30e7\u30f3 \u9053\u8def\u3068\u6b69\u9053\u3092\u533a\u5225 \u7dda\u691c\u51fa \u767d\u7dda\u30fb\u9ec4\u7dda\u3092\u8a8d\u8b58"},{"location":"lesson/recognition/#_17","title":"\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u3068\u306e\u6bd4\u8f03","text":"\u9805\u76ee \u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5 \u30ab\u30e1\u30e9 \u53d6\u5f97\u60c5\u5831 \u8ddd\u96e2\u306e\u307f \u8272\u30fb\u5f62\u30fb\u30c6\u30af\u30b9\u30c1\u30e3 \u51e6\u7406\u8ca0\u8377 \u4f4e\u3044\uff08\u5358\u7d14\u8a08\u7b97\uff09 \u9ad8\u3044\uff08AI\u51e6\u7406\uff09 \u74b0\u5883\u4f9d\u5b58 \u6750\u8cea\u306b\u4f9d\u5b58 \u7167\u660e\u306b\u4f9d\u5b58 \u8a8d\u8b58\u5bfe\u8c61 \u969c\u5bb3\u7269\u306e\u6709\u7121 \u7269\u4f53\u306e\u7a2e\u985e\u307e\u3067 \u30b3\u30b9\u30c8 \u5b89\u4fa1\uff08\u6570\u767e\u5186\uff09 \u3084\u3084\u9ad8\u4fa1 \u6697\u6240\u6027\u80fd \u554f\u984c\u306a\u3057 \u6027\u80fd\u4f4e\u4e0b <p>\u30bb\u30f3\u30b5\u30fc\u30d5\u30e5\u30fc\u30b8\u30e7\u30f3</p> <p>\u5b9f\u969b\u306e\u81ea\u52d5\u904b\u8ee2\u8eca\u3067\u306f\u3001\u8907\u6570\u306e\u30bb\u30f3\u30b5\u30fc\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u4f7f\u3044\u307e\u3059\u3002 \u305d\u308c\u305e\u308c\u306e\u5f31\u70b9\u3092\u88dc\u3044\u5408\u3046\u3053\u3068\u3067\u3001\u3088\u308a\u5b89\u5168\u306a\u8a8d\u77e5\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"lesson/recognition/#_18","title":"\u30c7\u30fc\u30bf\u30d5\u30a9\u30fc\u30de\u30c3\u30c8","text":"<p>\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u53d6\u5f97\u3057\u305f\u30c7\u30fc\u30bf\u306f\u3001\u5b66\u7fd2\u3084\u5206\u6790\u306e\u305f\u3081\u306b\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002</p> \u3053\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u306b\u3064\u3044\u3066\uff08\u30af\u30ea\u30c3\u30af\u3067\u5c55\u958b\uff09 <p>\u30c7\u30fc\u30bf\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u8a73\u7d30\u306f\u3001\u5b9f\u969b\u306b\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u66f8\u304f\u969b\u306b\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002 \u307e\u305a\u306f\u6982\u8981\u3092\u7406\u89e3\u3057\u3001\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"lesson/recognition/#_19","title":"\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u306e\u8ddd\u96e2\u30c7\u30fc\u30bf","text":"\u9805\u76ee \u5024 \u5358\u4f4d mm\uff08\u30df\u30ea\u30e1\u30fc\u30c8\u30eb\uff09 \u6e2c\u5b9a\u7bc4\u56f2 20mm\u301c2000mm \u30c7\u30fc\u30bf\u578b \u6574\u6570\u5024\uff08int\uff09"},{"location":"lesson/recognition/#_20","title":"\u30bb\u30f3\u30b5\u30fc\u4f4d\u7f6e\u3068\u540d\u79f0","text":"<pre><code>        \u524d\u65b9\n    FrLH  FrFR  FrRH\n      \uff3c   \u2502   \uff0f\n        \uff3c \u2502 \uff0f\nRrLH \u2500\u2500\u2500  \u8eca  \u2500\u2500\u2500 RrRH\n        \u5f8c\u65b9\n</code></pre> \u540d\u79f0 \u4f4d\u7f6e \u7528\u9014 RrLH \u5de6\u5f8c\u65b9\uff08Rear Left Hand\uff09 \u58c1\u8ffd\u5f93\uff08\u5de6\u624b\u6cd5\uff09 FrLH \u5de6\u524d\u65b9\uff08Front Left Hand\uff09 \u5de6\u5074\u969c\u5bb3\u7269\u691c\u77e5 FrFR \u524d\u65b9\uff08Front Front\uff09 \u6b63\u9762\u969c\u5bb3\u7269\u691c\u77e5 FrRH \u53f3\u524d\u65b9\uff08Front Right Hand\uff09 \u53f3\u5074\u969c\u5bb3\u7269\u691c\u77e5 RrRH \u53f3\u5f8c\u65b9\uff08Rear Right Hand\uff09 \u58c1\u8ffd\u5f93\uff08\u53f3\u624b\u6cd5\uff09"},{"location":"lesson/recognition/#_21","title":"\u4fdd\u5b58\u5f62\u5f0f","text":"<pre><code>{\n  \"ultrasonic/FrFR\": 350,\n  \"ultrasonic/FrLH\": 520,\n  \"ultrasonic/FrRH\": 480,\n  \"ultrasonic/RrLH\": 1200,\n  \"ultrasonic/RrRH\": 890\n}\n</code></pre>"},{"location":"lesson/recognition/#lidar_2","title":"LiDAR\u306e\u70b9\u7fa4\u30c7\u30fc\u30bf","text":"\u9805\u76ee \u5024 \u5358\u4f4d mm\uff08\u30df\u30ea\u30e1\u30fc\u30c8\u30eb\uff09 \u6e2c\u5b9a\u7bc4\u56f2 20mm\u301c12000mm \u30c7\u30fc\u30bf\u578b \u6d6e\u52d5\u5c0f\u6570\u70b9\uff08float\uff09 \u30c7\u30fc\u30bf\u70b9\u6570 \u7d04400\u70b9/\u30b9\u30ad\u30e3\u30f3"},{"location":"lesson/recognition/#_22","title":"\u30c7\u30fc\u30bf\u69cb\u9020","text":"<p>LiDAR\u306f1\u56de\u306e\u30b9\u30ad\u30e3\u30f3\u3067\u7d04400\u70b9\u306e\u8ddd\u96e2\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\u5404\u70b9\u306f\u89d2\u5ea6\u3068\u8ddd\u96e2\u306e\u30da\u30a2\u3067\u3059\u3002</p> <pre><code>\u89d2\u5ea6 0\u00b0 \u2192 \u8ddd\u96e2 1250mm\n\u89d2\u5ea6 0.9\u00b0 \u2192 \u8ddd\u96e2 1248mm\n\u89d2\u5ea6 1.8\u00b0 \u2192 \u8ddd\u96e2 1245mm\n...\n\u89d2\u5ea6 359.1\u00b0 \u2192 \u8ddd\u96e2 1252mm\n</code></pre>"},{"location":"lesson/recognition/#_23","title":"\u30be\u30fc\u30f3\u5206\u5272","text":"<p>\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u3068\u540c\u30585\u3064\u306e\u30be\u30fc\u30f3\u306b\u5206\u5272\u3057\u3066\u3001\u540c\u3058\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3067\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p> <pre><code>          \u524d\u65b9\n    FrLH  FrFR  FrRH\n      \uff3c   \u2502   \uff0f\n        \uff3c \u2502 \uff0f       \u5404\u30be\u30fc\u30f3\u7d0430\u00b0\nRrLH \u2500\u2500\u2500  \u8eca  \u2500\u2500\u2500 RrRH\n        \u5f8c\u65b9\n</code></pre>"},{"location":"lesson/recognition/#_24","title":"\u4fdd\u5b58\u5f62\u5f0f","text":"<pre><code>{\n  \"lidar/FrFR\": 350.5,\n  \"lidar/FrLH\": 520.2,\n  \"lidar/FrRH\": 480.8,\n  \"lidar/RrLH\": 1200.0,\n  \"lidar/RrRH\": 890.3\n}\n</code></pre> <p>LiDAR\u753b\u50cf</p> <p>\u70b9\u7fa4\u30c7\u30fc\u30bf\u3092\u53ef\u8996\u5316\u3057\u305f\u753b\u50cf\uff08224\u00d7224\uff09\u3082\u4fdd\u5b58\u3067\u304d\u307e\u3059\u3002 \u767d\u3044\u70b9\u304c\u691c\u51fa\u3057\u305f\u7269\u4f53\u306e\u4f4d\u7f6e\u3092\u8868\u3057\u3001\u6a5f\u68b0\u5b66\u7fd2\u306e\u5165\u529b\u3068\u3057\u3066\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"lesson/recognition/#_25","title":"\u30ab\u30e1\u30e9\u753b\u50cf\u30c7\u30fc\u30bf","text":"\u9805\u76ee \u5024 \u88dc\u8db3 \u89e3\u50cf\u5ea6 224 \u00d7 224 \u30d4\u30af\u30bb\u30eb \u6a5f\u68b0\u5b66\u7fd2\u306e\u6a19\u6e96\u30b5\u30a4\u30ba \u8272\u6df1\u5ea6 RGB 3\u30c1\u30e3\u30f3\u30cd\u30eb \u5404\u82720\u301c255\u306e256\u6bb5\u968e \u30d5\u30ec\u30fc\u30e0\u30ec\u30fc\u30c8 60fps 1\u79d2\u9593\u306b60\u679a\u64ae\u5f71 \u30d5\u30a1\u30a4\u30eb\u5f62\u5f0f JPEG \u5727\u7e2e\u753b\u50cf\u5f62\u5f0f <p>fps\uff08frames per second\uff09\u3068\u306f</p> <p>1\u79d2\u9593\u306b\u4f55\u679a\u306e\u753b\u50cf\u3092\u64ae\u5f71\u30fb\u8868\u793a\u3059\u308b\u304b\u3092\u8868\u3059\u5358\u4f4d\u3067\u3059\u3002 60fps\u306a\u30891\u79d2\u9593\u306b60\u679a\u3001\u3064\u307e\u308a\u7d0416.7\u30df\u30ea\u79d2\u3054\u3068\u306b1\u679a\u64ae\u5f71\u3057\u307e\u3059\u3002</p>"},{"location":"lesson/recognition/#_26","title":"\u753b\u50cf\u30b5\u30a4\u30ba\u306e\u8a08\u7b97","text":"<pre><code>224 \u00d7 224 \u00d7 3 = 150,528 \u30d0\u30a4\u30c8/\u30d5\u30ec\u30fc\u30e0\uff08\u7d04150KB\uff09\n</code></pre> <ul> <li>224 \u00d7 224: \u30d4\u30af\u30bb\u30eb\u6570</li> <li>3: RGB\u306e3\u30c1\u30e3\u30f3\u30cd\u30eb</li> </ul>"},{"location":"lesson/recognition/#donkeycar","title":"\u4fdd\u5b58\u5f62\u5f0f\uff08Donkeycar\u5f62\u5f0f\uff09","text":"<pre><code>data/data_20250131_120000/\n\u251c\u2500\u2500 images/\n\u2502   \u251c\u2500\u2500 0_cam_image_array_.jpg      # \u30d5\u30ec\u30fc\u30e00\n\u2502   \u251c\u2500\u2500 1_cam_image_array_.jpg      # \u30d5\u30ec\u30fc\u30e01\n\u2502   \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 catalog_0.catalog               # \u30e1\u30bf\u30c7\u30fc\u30bf\uff080-999\uff09\n\u2514\u2500\u2500 manifest.json                   # \u5168\u4f53\u8a2d\u5b9a\n</code></pre>"},{"location":"lesson/recognition/#_27","title":"\u30ab\u30bf\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u5185\u5bb9","text":"<pre><code>{\n  \"_index\": 0,\n  \"cam/image_array\": \"0_cam_image_array_.jpg\",\n  \"user/angle\": 0.15,\n  \"user/throttle\": 0.4,\n  \"user/mode\": \"user\"\n}\n</code></pre>"},{"location":"lesson/recognition/#_28","title":"\u30c7\u30fc\u30bf\u306e\u6b63\u898f\u5316","text":"<p>\u5b66\u7fd2\u6642\u306b\u306f\u5024\u30920\u301c1\u306e\u7bc4\u56f2\u306b\u6b63\u898f\u5316\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u7570\u306a\u308b\u5358\u4f4d\u306e\u30c7\u30fc\u30bf\u3092\u540c\u3058\u30b9\u30b1\u30fc\u30eb\u3067\u6271\u3048\u307e\u3059\u3002</p> \u30c7\u30fc\u30bf \u5143\u306e\u7bc4\u56f2 \u6b63\u898f\u5316\u5f8c \u8a08\u7b97\u65b9\u6cd5 \u8ddd\u96e2 0\u301c2000mm 0.0\u301c1.0 \u5024 \u00f7 2000 \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0 -1\u301c1 \u305d\u306e\u307e\u307e - \u30b9\u30ed\u30c3\u30c8\u30eb -1\u301c1 \u305d\u306e\u307e\u307e - \u753b\u50cf 0\u301c255 0.0\u301c1.0 \u5024 \u00f7 255 <p>\u306a\u305c\u6b63\u898f\u5316\u304c\u5fc5\u8981\uff1f</p> <p>\u6a5f\u68b0\u5b66\u7fd2\u3067\u306f\u3001\u5165\u529b\u5024\u306e\u30b9\u30b1\u30fc\u30eb\u304c\u63c3\u3063\u3066\u3044\u308b\u3068\u5b66\u7fd2\u304c\u5b89\u5b9a\u3057\u307e\u3059\u3002 \u4f8b\u3048\u3070\u300c\u8ddd\u96e21000mm\u300d\u3068\u300c\u30b9\u30c6\u30a2\u30ea\u30f3\u30b00.5\u300d\u3092\u540c\u6642\u306b\u6271\u3046\u5834\u5408\u3001 \u6b63\u898f\u5316\u3057\u306a\u3044\u3068\u8ddd\u96e2\u306e\u5f71\u97ff\u304c\u5927\u304d\u304f\u306a\u308a\u3059\u304e\u307e\u3059\u3002</p>"},{"location":"lesson/recognition/#_29","title":"\u8003\u3048\u3066\u307f\u3088\u3046","text":"<p>\u4ee5\u4e0b\u306e\u554f\u3044\u306b\u3064\u3044\u3066\u8003\u3048\u3066\u307f\u307e\u3057\u3087\u3046\u3002</p>"},{"location":"lesson/recognition/#1","title":"1. \u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u3067\u691c\u77e5\u3067\u304d\u306a\u3044\u3082\u306e\u306f\uff1f","text":"\u30d2\u30f3\u30c8 <ul> <li>\u97f3\u6ce2\u306e\u53cd\u5c04\u306b\u3064\u3044\u3066\u8003\u3048\u3066\u307f\u3088\u3046</li> <li>\u300c\u5438\u53ce\u300d\u300c\u900f\u904e\u300d\u300c\u53cd\u5c04\u89d2\u5ea6\u300d\u304c\u30ad\u30fc\u30ef\u30fc\u30c9</li> </ul> \u89e3\u7b54\u4f8b <ul> <li>\u30ac\u30e9\u30b9\u7a93: \u97f3\u6ce2\u304c\u900f\u904e\u30fb\u659c\u3081\u53cd\u5c04\u3059\u308b</li> <li>\u67d4\u3089\u304b\u3044\u5e03\u3084\u30b9\u30dd\u30f3\u30b8: \u97f3\u6ce2\u3092\u5438\u53ce\u3059\u308b</li> <li>\u7d30\u3044\u30ef\u30a4\u30e4\u30fc: \u53cd\u5c04\u9762\u304c\u5c0f\u3055\u3059\u304e\u308b</li> <li>\u6bdb\u76ae\u3084\u7fbd\u6bdb: \u97f3\u6ce2\u304c\u6563\u4e71\u3059\u308b</li> </ul>"},{"location":"lesson/recognition/#2","title":"2. \u30ab\u30e1\u30e9\u3060\u3051\u3067\u306f\u5206\u304b\u3089\u306a\u3044\u60c5\u5831\u306f\uff1f","text":"\u30d2\u30f3\u30c8 <ul> <li>\u30ab\u30e1\u30e9\u306f\u300c\u5149\u300d\u3092\u6349\u3048\u308b\u30bb\u30f3\u30b5\u30fc</li> <li>\u300c\u898b\u305f\u76ee\u300d\u3060\u3051\u3067\u306f\u5224\u65ad\u3067\u304d\u306a\u3044\u3082\u306e\u306f\uff1f</li> </ul> \u89e3\u7b54\u4f8b <ul> <li>\u6b63\u78ba\u306a\u8ddd\u96e2: \u753b\u50cf\u3060\u3051\u3067\u306f\u8ddd\u96e2\u306e\u63a8\u5b9a\u304c\u96e3\u3057\u3044</li> <li>\u900f\u660e\u306a\u7269\u4f53: \u30ac\u30e9\u30b9\u3084\u6c34\u306f\u5199\u308a\u306b\u304f\u3044</li> <li>\u6697\u95d8\u3067\u306e\u72b6\u6cc1: \u5149\u304c\u306a\u3044\u3068\u4f55\u3082\u898b\u3048\u306a\u3044</li> <li>\u7269\u4f53\u306e\u6750\u8cea: \u898b\u305f\u76ee\u304c\u540c\u3058\u3067\u3082\u6750\u8cea\u306f\u9055\u3046\u53ef\u80fd\u6027</li> </ul>"},{"location":"lesson/recognition/#3","title":"3. \u8907\u6570\u30bb\u30f3\u30b5\u30fc\u3092\u7d44\u307f\u5408\u308f\u305b\u308b\u30e1\u30ea\u30c3\u30c8\u306f\uff1f","text":"\u30d2\u30f3\u30c8 <ul> <li>\u305d\u308c\u305e\u308c\u306e\u300c\u5f97\u610f\u300d\u3068\u300c\u82e6\u624b\u300d\u3092\u8003\u3048\u3088\u3046</li> <li>\u5b9f\u969b\u306e\u81ea\u52d5\u904b\u8ee2\u8eca\u306f\u3069\u3046\u3057\u3066\u3044\u308b\uff1f</li> </ul> \u89e3\u7b54\u4f8b <ul> <li>\u76f8\u4e92\u88dc\u5b8c: \u8d85\u97f3\u6ce2/LiDAR\u306e\u8ddd\u96e2\u7cbe\u5ea6 + \u30ab\u30e1\u30e9\u306e\u7269\u4f53\u8a8d\u8b58</li> <li>\u5197\u9577\u6027: \u4e00\u65b9\u304c\u6545\u969c\u3057\u3066\u3082\u4ed6\u65b9\u3067\u30d0\u30c3\u30af\u30a2\u30c3\u30d7</li> <li>\u78ba\u8a8d: \u8907\u6570\u30bb\u30f3\u30b5\u30fc\u3067\u691c\u77e5\u3059\u308b\u3053\u3068\u3067\u4fe1\u983c\u6027\u5411\u4e0a</li> <li>\u4f8b: \u524d\u65b9\u306e\u969c\u5bb3\u7269\u3092\u300c\u30ab\u30e1\u30e9\u3067\u8eca\u3068\u8a8d\u8b58\u300d+\u300cLiDAR\u3067\u8ddd\u96e23m\u3068\u6e2c\u5b9a\u300d+\u300c\u8d85\u97f3\u6ce2\u3067\u78ba\u8a8d\u300d</li> </ul>"},{"location":"lesson/recognition/#4-lidar","title":"4. \u8d85\u97f3\u6ce2\u306f\u659c\u3081\u306e\u58c1\u304c\u82e6\u624b\u306a\u306e\u306b\u3001LiDAR\u306f\u306a\u305c\u6e2c\u308c\u308b\uff1f","text":"\u30d2\u30f3\u30c8 <ul> <li>\u5149\u306e\u53cd\u5c04\u306b\u306f2\u7a2e\u985e\u3042\u308b\uff1a\u300c\u93e1\u306e\u3088\u3046\u306a\u53cd\u5c04\u300d\u3068\u300c\u6563\u3089\u3070\u308b\u53cd\u5c04\u300d</li> <li>\u58c1\u306e\u8868\u9762\u3092\u30df\u30af\u30ed\u306e\u76ee\u3067\u898b\u308b\u3068\u3001\u3069\u3046\u306a\u3063\u3066\u3044\u308b\uff1f</li> </ul> \u89e3\u7b54\u4f8b <p>\u62e1\u6563\u53cd\u5c04\uff08diffuse reflection\uff09 \u304c\u30dd\u30a4\u30f3\u30c8\u3067\u3059\u3002</p> <p>2\u7a2e\u985e\u306e\u53cd\u5c04</p> \u53cd\u5c04\u306e\u7a2e\u985e \u7279\u5fb4 \u4f8b \u93e1\u9762\u53cd\u5c04 \u5165\u5c04\u89d2\uff1d\u53cd\u5c04\u89d2\u3067\u4e00\u65b9\u5411\u306b\u53cd\u5c04 \u93e1\u3001\u30ac\u30e9\u30b9 \u62e1\u6563\u53cd\u5c04 \u5168\u65b9\u5411\u306b\u5149\u304c\u6563\u4e71 \u58c1\u3001\u9053\u8def\u3001\u6728 <p>\u306a\u305c\u62e1\u6563\u53cd\u5c04\u304c\u8d77\u304d\u308b\u306e\u304b</p> <p>\u73fe\u5b9f\u306e\u58c1\u3084\u7269\u4f53\u306f\u3001\u8089\u773c\u3067\u306f\u6ed1\u3089\u304b\u306b\u898b\u3048\u3066\u3082\u3001\u30df\u30af\u30ed\u30b9\u30b1\u30fc\u30eb\u3067\u306f\u7121\u6570\u306e\u51f9\u51f8\u304c\u3042\u308a\u307e\u3059\u3002 \u30ec\u30fc\u30b6\u30fc\u5149\u304c\u3053\u308c\u3089\u306e\u51f9\u51f8\u306b\u5f53\u305f\u308b\u3068\u3001\u69d8\u3005\u306a\u65b9\u5411\u306b\u6563\u4e71\u3057\u3001\u4e00\u90e8\u306f\u5fc5\u305a\u30bb\u30f3\u30b5\u30fc\u306b\u623b\u308a\u307e\u3059\u3002</p> <pre><code>     \u30bb\u30f3\u30b5\u30fc\n        \u2191 (\u4e00\u90e8\u306e\u5149\u304c\u623b\u308b)\n        |\n    \uff3c  |  \uff0f\n     \uff3c\u2193\uff0f    \u2190 \u62e1\u6563\u53cd\u5c04\u3067\u5168\u65b9\u5411\u306b\u6563\u4e71\n    \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501  \u2190 \u58c1\uff08\u5fae\u7d30\u306a\u51f9\u51f8\u3042\u308a\uff09\n       \uff0f\uff3c\n</code></pre> <p>\u8d85\u97f3\u6ce2\u3068\u306e\u9055\u3044</p> <ul> <li>\u8d85\u97f3\u6ce2: \u6ce2\u9577\u304c\u9577\u3044\uff08\u7d048mm\uff09\u305f\u3081\u3001\u8868\u9762\u306e\u51f9\u51f8\u306e\u5f71\u97ff\u3092\u53d7\u3051\u306b\u304f\u304f\u3001\u93e1\u9762\u53cd\u5c04\u306b\u8fd1\u3044\u6319\u52d5</li> <li>LiDAR: \u6ce2\u9577\u304c\u77ed\u3044\uff08\u7d04900nm\uff09\u305f\u3081\u3001\u5fae\u7d30\u306a\u51f9\u51f8\u3067\u62e1\u6563\u53cd\u5c04\u304c\u8d77\u304d\u3084\u3059\u3044</li> </ul> <p>\u6ce8\u610f\uff1a\u659c\u3081\u3067\u3082\u9650\u754c\u304c\u3042\u308b</p> <p>\u6975\u7aef\u306b\u6d45\u3044\u89d2\u5ea6\uff08grazing angle\uff09\u3067\u306f\uff1a</p> <ul> <li>\u53cd\u5c04\u5149\u91cf\u304c\u6e1b\u5c11\u3059\u308b</li> <li>\u30d3\u30fc\u30e0\u304c\u6955\u5186\u5f62\u306b\u5e83\u304c\u308a\u8aa4\u5dee\u304c\u751f\u3058\u308b</li> <li>\u6700\u5927\u6e2c\u5b9a\u8ddd\u96e2\u304c\u77ed\u304f\u306a\u308b</li> </ul>"},{"location":"lesson/recognition/#_30","title":"\u307e\u3068\u3081","text":"\u30bb\u30f3\u30b5\u30fc \u53d6\u5f97\u30c7\u30fc\u30bf \u5f97\u610f\u306a\u3053\u3068 \u82e6\u624b\u306a\u3053\u3068 \u8d85\u97f3\u6ce2 \u8ddd\u96e2\uff081\u70b9\uff09 \u4f4e\u30b3\u30b9\u30c8\u3001\u6697\u6240OK \u72ed\u3044\u691c\u77e5\u7bc4\u56f2\u3001\u6750\u8cea\u4f9d\u5b58 LiDAR \u70b9\u7fa4\uff08\u7d04400\u70b9\uff09 \u5e83\u7bc4\u56f2\u30fb\u9ad8\u7cbe\u5ea6\u3001\u5168\u5468\u56f2 \u9ad8\u30b3\u30b9\u30c8\u3001\u9ed2\u3044\u7269\u4f53 \u30ab\u30e1\u30e9 \u753b\u50cf \u7269\u4f53\u8a8d\u8b58\u3001\u8272\u30fb\u5f62\u306e\u5224\u5225 \u8ddd\u96e2\u6e2c\u5b9a\u3001\u6697\u6240 <p>\u30bb\u30f3\u30b5\u30fc\u306e\u4f7f\u3044\u5206\u3051</p> <ul> <li>\u8d85\u97f3\u6ce2: \u4f4e\u30b3\u30b9\u30c8\u3067\u624b\u8efd\u306b\u8ddd\u96e2\u6e2c\u5b9a\u3057\u305f\u3044\u5834\u5408</li> <li>LiDAR: \u5e83\u7bc4\u56f2\u3092\u9ad8\u7cbe\u5ea6\u306b\u30b9\u30ad\u30e3\u30f3\u3057\u305f\u3044\u5834\u5408</li> <li>\u30ab\u30e1\u30e9: \u7269\u4f53\u306e\u7a2e\u985e\u3084\u72b6\u614b\u3092\u8a8d\u8b58\u3057\u305f\u3044\u5834\u5408</li> <li>\u7d44\u307f\u5408\u308f\u305b: \u3088\u308a\u5b89\u5168\u3067\u4fe1\u983c\u6027\u306e\u9ad8\u3044\u30b7\u30b9\u30c6\u30e0\u3092\u69cb\u7bc9</li> </ul> <p>\u81ea\u52d5\u904b\u8ee2\u3067\u306f\u3001\u3053\u308c\u3089\u306e\u30bb\u30f3\u30b5\u30fc\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u5468\u56f2\u74b0\u5883\u3092\u6b63\u78ba\u306b\u300c\u8a8d\u77e5\u300d\u3057\u307e\u3059\u3002 \u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u300c\u5224\u65ad\u300d\u3067\u306f\u3001\u8a8d\u77e5\u3057\u305f\u60c5\u5831\u3092\u3082\u3068\u306b\u3069\u3046\u884c\u52d5\u3059\u308b\u304b\u3092\u5b66\u3073\u307e\u3059\u3002</p>"},{"location":"reference/camera/","title":"\u30ab\u30e1\u30e9\u8abf\u6574","text":""},{"location":"reference/camera/#jetson-csi","title":"Jetson CSI\u30ab\u30e1\u30e9","text":""},{"location":"reference/camera/#_2","title":"\u30d4\u30f3\u30af\u8272\u306e\u8272\u5408\u3044\u3092\u4fee\u6b63","text":"<p>Jetson\u306e\u4e00\u90e8\u306eCSI\u30ab\u30e1\u30e9\u3067\u30d4\u30f3\u30af\u8272\u306e\u8272\u5408\u3044\u304c\u767a\u751f\u3059\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code># \u30d7\u30ea\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\ncp /var/nvidia/nvcam/settings/camera_overrides.isp /home/jetson/\n\n# \u307e\u305f\u306f\u3001Dropbox\u304b\u3089\u6700\u65b0\u7248\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n# https://www.dropbox.com/s/...\n</code></pre> <p>ISP\u30d5\u30a1\u30a4\u30eb\u3092\u9069\u7528\u5f8c\u3001\u518d\u8d77\u52d5\u304c\u5fc5\u8981\u3067\u3059\u3002</p>"},{"location":"reference/camera/#configpy","title":"config.py \u30ab\u30e1\u30e9\u8a2d\u5b9a","text":"<pre><code># ============================================================================\n# \u30ab\u30e1\u30e9\u8a2d\u5b9a\n# ============================================================================\n\n# \u30ab\u30e1\u30e9\u306e\u6709\u52b9/\u7121\u52b9\nHAVE_CAMERA = True\n\n# \u30ab\u30e1\u30e9\u89e3\u50cf\u5ea6\nCAMERA_WIDTH = 224\nCAMERA_HEIGHT = 224\n\n# \u30d5\u30ec\u30fc\u30e0\u30ec\u30fc\u30c8\nCAMERA_FPS = 30\n\n# \u30ab\u30e1\u30e90\u306e\u53cd\u8ee2\u8a2d\u5b9a\nCAMERA_0_FLIP_HORIZONTAL = False\nCAMERA_0_FLIP_VERTICAL = False\n\n# \u30ab\u30e1\u30e91\u306e\u53cd\u8ee2\u8a2d\u5b9a\uff08\u30c7\u30e5\u30a2\u30eb\u30ab\u30e1\u30e9\u4f7f\u7528\u6642\uff09\nCAMERA_1_FLIP_HORIZONTAL = False\nCAMERA_1_FLIP_VERTICAL = False\n</code></pre>"},{"location":"reference/camera/#_3","title":"\u30c7\u30e5\u30a2\u30eb\u30ab\u30e1\u30e9\u8a2d\u5b9a","text":"<p>2\u53f0\u306e\u30ab\u30e1\u30e9\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u306e\u8a2d\u5b9a\u3067\u3059\u3002</p> <pre><code># \u30c7\u30e5\u30a2\u30eb\u30ab\u30e1\u30e9\u6709\u52b9\u5316\nHAVE_DUAL_CAMERA = True\n\n# \u7d50\u5408\u65b9\u5411\u306e\u8a2d\u5b9a\nCAMERA_CONCAT_DIRECTION = \"horizontal\"  # \"horizontal\" or \"vertical\"\n\n# \u7d50\u5408\u753b\u50cf\u306e\u4fdd\u5b58\u8a2d\u5b9a\nSAVE_CONCAT_IMAGE = True\n</code></pre>"},{"location":"reference/camera/#_4","title":"\u30ab\u30e1\u30e9\u30c6\u30b9\u30c8","text":"<pre><code># \u30ab\u30e1\u30e9\u306e\u52d5\u4f5c\u78ba\u8a8d\npython camera_test.py\n\n# \u307e\u305f\u306f\npython -c \"import camera; camera.test()\"\n</code></pre>"},{"location":"reference/camera/#_5","title":"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0","text":""},{"location":"reference/camera/#_6","title":"\u30ab\u30e1\u30e9\u304c\u8a8d\u8b58\u3055\u308c\u306a\u3044","text":"<p>Raspberry Pi: <pre><code># \u30ab\u30e1\u30e9\u306e\u72b6\u614b\u78ba\u8a8d\nvcgencmd get_camera\n\n# raspi-config\u3067\u6709\u52b9\u5316\nsudo raspi-config\n# Interface Options \u2192 Camera \u2192 Enable\n</code></pre></p> <p>Jetson: <pre><code># \u30c7\u30d0\u30a4\u30b9\u78ba\u8a8d\nls /dev/video*\n\n# GStreamer\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u30c6\u30b9\u30c8\ngst-launch-1.0 nvarguscamerasrc ! nvoverlaysink\n</code></pre></p>"},{"location":"reference/camera/#_7","title":"\u753b\u50cf\u304c\u6697\u3044/\u660e\u308b\u3059\u304e\u308b","text":"<pre><code># config.py\nCAMERA_EXPOSURE = \"auto\"  # \"auto\", \"manual\"\nCAMERA_EXPOSURE_VALUE = 0  # \u30de\u30cb\u30e5\u30a2\u30eb\u6642\u306e\u9732\u51fa\u5024\nCAMERA_GAIN = \"auto\"\n</code></pre>"},{"location":"reference/camera/#_8","title":"\u30d5\u30ec\u30fc\u30e0\u30ec\u30fc\u30c8\u304c\u4f4e\u3044","text":"<ul> <li>\u89e3\u50cf\u5ea6\u3092\u4e0b\u3052\u308b</li> <li>GStreamer\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3092\u6700\u9069\u5316\uff08GStreamer\u6700\u9069\u5316\u53c2\u7167\uff09</li> <li>USB\u30ab\u30e1\u30e9\u306e\u5834\u5408\u306fUSB3.0\u30dd\u30fc\u30c8\u3092\u4f7f\u7528</li> </ul>"},{"location":"reference/camera/#_9","title":"\u30ab\u30e1\u30e9\u30ad\u30e3\u30ea\u30d6\u30ec\u30fc\u30b7\u30e7\u30f3","text":"<p>\u30ec\u30f3\u30ba\u6b6a\u307f\u306e\u88dc\u6b63\u304c\u5fc5\u8981\u306a\u5834\u5408\uff1a</p> <pre><code>import cv2\nimport numpy as np\n\n# \u30ad\u30e3\u30ea\u30d6\u30ec\u30fc\u30b7\u30e7\u30f3\u30c7\u30fc\u30bf\uff08\u4e8b\u524d\u306b\u8a08\u7b97\uff09\ncamera_matrix = np.array([...])\ndist_coeffs = np.array([...])\n\n# \u6b6a\u307f\u88dc\u6b63\nundistorted = cv2.undistort(frame, camera_matrix, dist_coeffs)\n</code></pre> <p>\u30ad\u30e3\u30ea\u30d6\u30ec\u30fc\u30b7\u30e7\u30f3\u30c7\u30fc\u30bf\u306e\u53d6\u5f97\u306b\u306f\u3001\u30c1\u30a7\u30c3\u30ab\u30fc\u30dc\u30fc\u30c9\u30d1\u30bf\u30fc\u30f3\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002</p>"},{"location":"reference/inference/","title":"TensorRT / OpenVINO \u63a8\u8ad6","text":"<p>\u5b66\u7fd2\u6e08\u307f\u30e2\u30c7\u30eb\u3092\u9ad8\u901f\u5316\u3059\u308b\u305f\u3081\u306e\u63a8\u8ad6\u30a8\u30f3\u30b8\u30f3\u306b\u3064\u3044\u3066\u89e3\u8aac\u3057\u307e\u3059\u3002</p>"},{"location":"reference/inference/#_1","title":"\u6982\u8981","text":"\u30a8\u30f3\u30b8\u30f3 \u5bfe\u8c61\u30c7\u30d0\u30a4\u30b9 \u7279\u5fb4 PyTorch \u5168\u30c7\u30d0\u30a4\u30b9 \u958b\u767a\u30fb\u30c7\u30d0\u30c3\u30b0\u5411\u3051 TensorRT Jetson NVIDIA GPU\u6700\u9069\u5316 OpenVINO Raspberry Pi Intel CPU\u6700\u9069\u5316"},{"location":"reference/inference/#configpy","title":"config.py\u8a2d\u5b9a","text":"<pre><code># \u63a8\u8ad6\u30a8\u30f3\u30b8\u30f3\u9078\u629e\nINFERENCE_ENGINE = \"pytorch\"  # \"tensorrt\", \"openvino\"\n</code></pre>"},{"location":"reference/inference/#tensorrtjetson","title":"TensorRT\uff08Jetson\u5411\u3051\uff09","text":""},{"location":"reference/inference/#_2","title":"\u5909\u63db\u65b9\u5f0f","text":"<p>ONNX\u7d4c\u7531\u3067trtexec\u3092\u4f7f\u7528\u3057\u3066\u5909\u63db\u3057\u307e\u3059\uff08torch2trt\u306f\u8907\u96d1\u306a\u30e2\u30c7\u30eb\u306b\u975e\u5bfe\u5fdc\u306e\u305f\u3081\uff09\u3002</p> <pre><code>PyTorch (.pth) \u2192 ONNX (.onnx) \u2192 TensorRT (.trt)\n</code></pre>"},{"location":"reference/inference/#_3","title":"\u5909\u63db\u65b9\u6cd5","text":""},{"location":"reference/inference/#1","title":"\u65b9\u6cd51: \u5b66\u7fd2\u5f8c\u306e\u81ea\u52d5\u63d0\u6848","text":"<p><code>python train_pytorch.py</code> \u3067\u5b66\u7fd2\u5b8c\u4e86\u5f8c\u3001Jetson\u30c7\u30d0\u30a4\u30b9\u304c\u691c\u51fa\u3055\u308c\u308b\u3068\u81ea\u52d5\u7684\u306bTensorRT\u5909\u63db\u304c\u63d0\u6848\u3055\u308c\u307e\u3059\u3002</p> <pre><code>\ud83d\ude80 \u5b66\u7fd2\u5b8c\u4e86\uff01\u30e2\u30c7\u30eb\u5909\u63db\u30aa\u30d7\u30b7\u30e7\u30f3\n\u691c\u51fa\u3055\u308c\u305f\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0: Jetson Orin Nano\n\ud83d\udca1 Jetson\u30c7\u30d0\u30a4\u30b9\u304c\u691c\u51fa\u3055\u308c\u307e\u3057\u305f\n\nTensorRT\u5f62\u5f0f\u306b\u5909\u63db\u3057\u307e\u3059\u304b\uff1f (Y/n): y\n</code></pre>"},{"location":"reference/inference/#2","title":"\u65b9\u6cd52: \u5909\u63db\u30c4\u30fc\u30eb\u3067\u624b\u52d5\u5b9f\u884c","text":"<pre><code>python tools/onnx_trt_converter.py\n</code></pre> <p>\u5bfe\u8a71\u5f62\u5f0f\u3067\u30e2\u30c7\u30eb\u3092\u9078\u629e\u3057\u5909\u63db\u3067\u304d\u307e\u3059\u3002\u30aa\u30d7\u30b7\u30e7\u30f3\u6307\u5b9a\u3082\u53ef\u80fd\u3067\u3059:</p> <pre><code># \u76f4\u63a5\u6307\u5b9a\npython tools/onnx_trt_converter.py --model models/edgenext_xx_small_20260208.pth\n\n# FP32\u3067\u5909\u63db\uff08\u7cbe\u5ea6\u512a\u5148\uff09\npython tools/onnx_trt_converter.py --fp32\n\n# \u4e2d\u9593ONNX\u30d5\u30a1\u30a4\u30eb\u3092\u4fdd\u6301\npython tools/onnx_trt_converter.py --keep-onnx\n</code></pre>"},{"location":"reference/inference/#_4","title":"\u51fa\u529b\u30d5\u30a1\u30a4\u30eb","text":"<pre><code>models/\n\u251c\u2500\u2500 edgenext_xx_small_20260208.pth   # \u5143\u306ePyTorch\u30e2\u30c7\u30eb\n\u2514\u2500\u2500 edgenext_xx_small_20260208.trt   # TensorRT\u30a8\u30f3\u30b8\u30f3\n</code></pre> <p>\u4e2d\u9593\u306eONNX\u30d5\u30a1\u30a4\u30eb\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u81ea\u52d5\u524a\u9664\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"reference/inference/#orin-nano-super-fp16","title":"\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u7d50\u679c\uff08Orin Nano Super / FP16\uff09","text":"\u30e2\u30c7\u30eb PyTorch TensorRT \u9ad8\u901f\u5316\u7387 donkeycar 1.65ms 1.31ms 1.26x resnet18 10.4ms 4.89ms 2.12x mobilevit_xxs 29.1ms 7.43ms 3.92x edgenext_xx_small 22.8ms 4.42ms 5.15x"},{"location":"reference/inference/#_5","title":"\u524d\u63d0\u6761\u4ef6","text":"<ul> <li>trtexec: <code>sudo apt install libnvinfer-bin</code> \u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb</li> <li>JetPack SDK \u306b\u542b\u307e\u308c\u308b TensorRT \u30e9\u30f3\u30bf\u30a4\u30e0</li> </ul>"},{"location":"reference/inference/#openvinoraspberry-pi","title":"OpenVINO\uff08Raspberry Pi\u5411\u3051\uff09","text":""},{"location":"reference/inference/#_6","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<pre><code>pip install openvino-dev\n</code></pre>"},{"location":"reference/inference/#_7","title":"\u5909\u63db\u624b\u9806","text":"<pre><code># ONNX\u7d4c\u7531\u3067\u5909\u63db\npython convert_openvino.py --model models/my_model.pth\n</code></pre>"},{"location":"reference/inference/#_8","title":"\u5909\u63db\u306e\u6d41\u308c","text":"<pre><code>PyTorch (.pth) \u2192 ONNX (.onnx) \u2192 OpenVINO IR (.xml + .bin)\n</code></pre>"},{"location":"reference/inference/#_9","title":"\u51fa\u529b\u30d5\u30a1\u30a4\u30eb","text":"<pre><code>models/\n\u251c\u2500\u2500 my_model.pth           # \u5143\u306ePyTorch\u30e2\u30c7\u30eb\n\u251c\u2500\u2500 my_model.xml           # OpenVINO\u30e2\u30c7\u30eb\u5b9a\u7fa9\n\u2514\u2500\u2500 my_model.bin           # OpenVINO\u91cd\u307f\n</code></pre>"},{"location":"reference/inference/#_10","title":"\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u7d50\u679c\uff08\u53c2\u8003\uff09","text":"\u30e2\u30c7\u30eb PyTorch OpenVINO \u9ad8\u901f\u5316\u7387 donkeycar 80ms 25ms 3.2x resnet18 250ms 70ms 3.6x"},{"location":"reference/inference/#_11","title":"\u4f7f\u7528\u65b9\u6cd5","text":""},{"location":"reference/inference/#tensorrt","title":"TensorRT","text":"<pre><code># config.py\nINFERENCE_ENGINE = \"tensorrt\"\nMODEL_NAME = \"edgenext_xx_small_20260208.trt\"\n</code></pre>"},{"location":"reference/inference/#openvino","title":"OpenVINO","text":"<pre><code># config.py\nINFERENCE_ENGINE = \"openvino\"\nMODEL_NAME = \"my_model.xml\"\n</code></pre>"},{"location":"reference/inference/#_12","title":"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0","text":""},{"location":"reference/inference/#tensorrt-trtexec","title":"TensorRT: trtexec\u304c\u898b\u3064\u304b\u3089\u306a\u3044","text":"<pre><code>\u274c trtexec \u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\n</code></pre> <p>\u5bfe\u7b56: <pre><code>sudo apt install libnvinfer-bin\n</code></pre></p>"},{"location":"reference/inference/#tensorrt-gpu","title":"TensorRT: GPU\u30e1\u30e2\u30ea\u4e0d\u8db3","text":"<pre><code>NvMapMemAllocInternalTagged: error 12\n</code></pre> <p>\u5bfe\u7b56: - \u4ed6\u306eGPU\u30d7\u30ed\u30bb\u30b9\uff08Jupyter, \u30d6\u30e9\u30a6\u30b6\u7b49\uff09\u3092\u7d42\u4e86\u3059\u308b - <code>--fp32</code> \u3067\u8a66\u3059\uff08FP16\u30d3\u30eb\u30c9\u306f\u30e1\u30e2\u30ea\u3092\u591a\u304f\u4f7f\u3046\u5834\u5408\u304c\u3042\u308b\uff09</p>"},{"location":"reference/inference/#tensorrt-torch2trt","title":"TensorRT: torch2trt\u3067\u306e\u5909\u63db\u5931\u6557","text":"<p>EdgeNeXt, MobileViT\u7b49\u306e\u8907\u96d1\u306a\u30e2\u30c7\u30eb\u306ftorch2trt\u3067\u5909\u63db\u3067\u304d\u307e\u305b\u3093\u3002 <code>tools/onnx_trt_converter.py</code> \u3092\u4f7f\u7528\u3057\u3066ONNX\u7d4c\u7531\u3067\u5909\u63db\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"reference/inference/#openvino_1","title":"OpenVINO\u5909\u63db\u30a8\u30e9\u30fc","text":"<pre><code>Error: Unsupported operation\n</code></pre> <p>\u5bfe\u7b56: - PyTorch\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u78ba\u8a8d - \u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u6f14\u7b97\u304c\u306a\u3044\u304b\u78ba\u8a8d - ONNX opset\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u8abf\u6574</p>"},{"location":"reference/inference/#_13","title":"\u63a8\u8ad6\u7d50\u679c\u304c\u7570\u306a\u308b","text":"<p>\u78ba\u8a8d\u4e8b\u9805: - \u5165\u529b\u306e\u6b63\u898f\u5316\u304c\u4e00\u81f4\u3057\u3066\u3044\u308b\u304b - FP16\u5909\u63db\u306b\u3088\u308b\u7cbe\u5ea6\u4f4e\u4e0b - \u524d\u51e6\u7406\u30fb\u5f8c\u51e6\u7406\u306e\u9055\u3044</p>"},{"location":"reference/inference/#_14","title":"\u63a8\u5968\u30d5\u30ed\u30fc","text":"<pre><code>graph TD\n    A[PyTorch\u3067\u5b66\u7fd2] --&gt; B{\u30c7\u30d0\u30a4\u30b9\u78ba\u8a8d}\n    B --&gt;|Jetson| C[ONNX\u7d4c\u7531\u3067TensorRT\u5909\u63db]\n    B --&gt;|Raspberry Pi| D[OpenVINO\u5909\u63db]\n    C --&gt; E[\u52d5\u4f5c\u78ba\u8a8d]\n    D --&gt; E\n    E --&gt; F[\u672c\u756a\u904b\u7528]</code></pre> <ol> <li>\u307e\u305aPyTorch\u3067\u5b66\u7fd2\u30fb\u52d5\u4f5c\u78ba\u8a8d</li> <li>\u30c7\u30d0\u30a4\u30b9\u306b\u5fdc\u3058\u3066\u5909\u63db\uff08\u5b66\u7fd2\u5f8c\u306e\u81ea\u52d5\u63d0\u6848 or \u624b\u52d5\u30c4\u30fc\u30eb\uff09</li> <li>\u5909\u63db\u5f8c\u306e\u30e2\u30c7\u30eb\u3067\u52d5\u4f5c\u78ba\u8a8d</li> <li>\u7cbe\u5ea6\u304c\u8a31\u5bb9\u7bc4\u56f2\u5185\u304b\u691c\u8a3c</li> <li>\u672c\u756a\u904b\u7528</li> </ol>"},{"location":"reference/pwm-mapping/","title":"PWM\u30de\u30c3\u30d4\u30f3\u30b0\u8a73\u7d30","text":""},{"location":"reference/pwm-mapping/#_1","title":"\u6982\u8981","text":"<p>\u5236\u5fa1\u5024\uff08-1.0\u301c1.0\uff09\u304b\u3089PWM\u4fe1\u53f7\u3078\u306e\u5909\u63db\u306b\u3064\u3044\u3066\u8a73\u3057\u304f\u89e3\u8aac\u3057\u307e\u3059\u3002</p> <pre><code>graph LR\n    A[\u5236\u5fa1\u5024&lt;br/&gt;-1.0 ~ 1.0] --&gt; B[\u30de\u30c3\u30d4\u30f3\u30b0\u95a2\u6570]\n    B --&gt; C[PWM\u5024&lt;br/&gt;\u4f8b: 290 ~ 450]\n    C --&gt; D[PCA9685]\n    D --&gt; E[\u30b5\u30fc\u30dc/ESC]</code></pre>"},{"location":"reference/pwm-mapping/#1-angle","title":"1. \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\uff08Angle\uff09\u306e\u30de\u30c3\u30d4\u30f3\u30b0","text":""},{"location":"reference/pwm-mapping/#_2","title":"\u5909\u63db\u5f0f","text":"<pre><code>def steering_to_pwm(steering_value):\n    \"\"\"\n    steering_value: -1.0\uff08\u5de6\u6700\u5927\uff09\u301c 1.0\uff08\u53f3\u6700\u5927\uff09\n    \"\"\"\n    if steering_value &gt;= 0:\n        # \u53f3\u65b9\u5411\uff08steering_value &gt;= 0\uff09\n        pwm = STEERING_CENTER_PWM + (steering_value * STEERING_WIDTH_PWM)\n    else:\n        # \u5de6\u65b9\u5411\uff08steering_value &lt; 0\uff09\n        pwm = STEERING_CENTER_PWM + (steering_value * STEERING_WIDTH_PWM)\n    return int(pwm)\n</code></pre>"},{"location":"reference/pwm-mapping/#_3","title":"\u6570\u5024\u4f8b","text":"steering_value \u8a08\u7b97\u5f0f PWM\u5024 -1.0\uff08\u5de6\u6700\u5927\uff09 370 + (-1.0 \u00d7 80) 290 -0.5\uff08\u5de6\u534a\u5206\uff09 370 + (-0.5 \u00d7 80) 330 0.0\uff08\u4e2d\u592e\uff09 370 + (0.0 \u00d7 80) 370 0.5\uff08\u53f3\u534a\u5206\uff09 370 + (0.5 \u00d7 80) 410 1.0\uff08\u53f3\u6700\u5927\uff09 370 + (1.0 \u00d7 80) 450"},{"location":"reference/pwm-mapping/#_4","title":"\u56f3\u89e3","text":"<pre><code>-1.0 (\u5de6\u6700\u5927) \u2190\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 0.0 (\u4e2d\u592e) \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2192 +1.0 (\u53f3\u6700\u5927)\n     \u2502                      \u2502                      \u2502\n     \u25bc                      \u25bc                      \u25bc\n LEFT_PWM              CENTER_PWM              RIGHT_PWM\n   (290)                  (370)                  (450)\n</code></pre>"},{"location":"reference/pwm-mapping/#2-throttle","title":"2. \u30b9\u30ed\u30c3\u30c8\u30eb\uff08Throttle\uff09\u306e\u30de\u30c3\u30d4\u30f3\u30b0","text":""},{"location":"reference/pwm-mapping/#_5","title":"\u5909\u63db\u5f0f","text":"<pre><code>def throttle_to_pwm(throttle_value):\n    \"\"\"\n    throttle_value: -1.0\uff08\u5f8c\u9000\u6700\u5927\uff09\u301c 1.0\uff08\u524d\u9032\u6700\u5927\uff09\n    \"\"\"\n    if throttle_value &gt;= 0:\n        # \u524d\u9032\u65b9\u5411\uff08throttle_value &gt;= 0\uff09\n        pwm = THROTTLE_STOPPED_PWM + (throttle_value * (THROTTLE_FORWARD_PWM - THROTTLE_STOPPED_PWM))\n    else:\n        # \u5f8c\u9000\u65b9\u5411\uff08throttle_value &lt; 0\uff09\n        pwm = THROTTLE_STOPPED_PWM + (throttle_value * (THROTTLE_STOPPED_PWM - THROTTLE_REVERSE_PWM))\n    return int(pwm)\n</code></pre>"},{"location":"reference/pwm-mapping/#_6","title":"\u6570\u5024\u4f8b","text":"throttle_value \u8a08\u7b97\u5f0f PWM\u5024 -1.0\uff08\u5f8c\u9000\u6700\u5927\uff09 370 + (-1.0 \u00d7 70) 300 0.0\uff08\u505c\u6b62\uff09 370 370 0.6\uff08\u524d\u903260%\uff09 370 + (0.6 \u00d7 130) 448 1.0\uff08\u524d\u9032\u6700\u5927\uff09 370 + (1.0 \u00d7 130) 500"},{"location":"reference/pwm-mapping/#3-pwm","title":"3. PWM\u4fe1\u53f7\u306e\u4ed5\u69d8","text":"\u9805\u76ee \u5024 PWM\u5468\u6ce2\u6570 50Hz\uff0820ms\u5468\u671f\uff09 \u30d1\u30eb\u30b9\u5e45\u7bc4\u56f2 1.0ms\u301c2.0ms \u4e2d\u592e\u5024 1.5ms PCA9685\u5206\u89e3\u80fd 12bit\uff080\u301c4095\uff09"},{"location":"reference/pwm-mapping/#4","title":"4. \u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9","text":"<pre><code>Raspberry Pi / Jetson\n        \u2502\n        \u2502 I2C (SDA, SCL)\n        \u25bc\n    PCA9685\n    PWM\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\n        \u2502\n        \u251c\u2500\u2500 CH0 \u2192 \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u30b5\u30fc\u30dc\n        \u2514\u2500\u2500 CH1 \u2192 ESC\uff08\u30b9\u30ed\u30c3\u30c8\u30eb\uff09\n</code></pre>"},{"location":"reference/pwm-mapping/#5","title":"5. \u30ad\u30e3\u30ea\u30d6\u30ec\u30fc\u30b7\u30e7\u30f3\u624b\u9806","text":""},{"location":"reference/pwm-mapping/#_7","title":"\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0","text":"<ol> <li><code>python motor.py</code> \u3092\u5b9f\u884c</li> <li>\u4e2d\u592e\u4f4d\u7f6e\u306ePWM\u5024\u3092\u63a2\u3059 \u2192 <code>STEERING_CENTER_PWM</code></li> <li>\u5de6\u6700\u5927\u306ePWM\u5024\u3092\u63a2\u3059 \u2192 \u5dee\u5206\u3092\u8a08\u7b97</li> <li>\u53f3\u6700\u5927\u306ePWM\u5024\u3092\u63a2\u3059 \u2192 \u5dee\u5206\u3092\u8a08\u7b97</li> <li><code>STEERING_WIDTH_PWM</code> = (\u53f3\u6700\u5927 - \u4e2d\u592e) \u306e\u5024\u3092\u8a2d\u5b9a</li> </ol>"},{"location":"reference/pwm-mapping/#_8","title":"\u30b9\u30ed\u30c3\u30c8\u30eb","text":"<ol> <li><code>python motor.py</code> \u3092\u5b9f\u884c</li> <li>ESC\u304c\u30d4\u30c3\u30d4\u30c3\u30d4\u3068\u9cf4\u308b(370\u524d\u5f8c\u306e\u30cb\u30e5\u30fc\u30c8\u30e9\u30eb\u691c\u77e5\u30d3\u30fc\u30d7\u97f3\u4ed5\u69d8\u306e\u3082\u306e)PWM\u5024\u3092\u63a2\u3059 \u2192 <code>THROTTLE_STOPPED_PWM</code></li> <li>\u524d\u9032\u6700\u5927\u306ePWM\u5024\u3092\u63a2\u3059 \u2192 <code>THROTTLE_FORWARD_PWM</code></li> <li>\u5f8c\u9000\u6700\u5927\u306ePWM\u5024\u3092\u63a2\u3059 \u2192 <code>THROTTLE_REVERSE_PWM</code></li> </ol>"},{"location":"reference/pwm-mapping/#6","title":"6. \u6ce8\u610f\u4e8b\u9805","text":"<p>\u5b89\u5168\u6ce8\u610f</p> <ul> <li>\u6975\u7aef\u306aPWM\u5024\u306f\u30b5\u30fc\u30dc\u3084\u30e2\u30fc\u30bf\u30fc\u3092\u7834\u640d\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059</li> <li>\u6700\u521d\u306f\u5c0f\u3055\u3044\u5024\u304b\u3089\u5f90\u3005\u306b\u8abf\u6574\u3057\u3066\u304f\u3060\u3055\u3044</li> <li>ESC\u306e\u30ad\u30e3\u30ea\u30d6\u30ec\u30fc\u30b7\u30e7\u30f3\u304c\u5fc5\u8981\u306a\u5834\u5408\u304c\u3042\u308a\u307e\u3059</li> </ul> <p>\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0</p> <ul> <li>\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u304c\u9006\u306b\u52d5\u304f \u2192 <code>STEERING_WIDTH_PWM</code> \u306e\u7b26\u53f7\u3092\u53cd\u8ee2</li> <li>\u30b9\u30ed\u30c3\u30c8\u30eb\u304c\u53cd\u5fdc\u3057\u306a\u3044 \u2192 <code>THROTTLE_STOPPED_PWM</code> \u3092\u5fae\u8abf\u6574</li> </ul>"},{"location":"reference/pwm-mapping/#7","title":"7. \u8eca\u4e21\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u89d2\u5ea6\u3068\u306e\u30de\u30c3\u30d4\u30f3\u30b0","text":"<p>\u5b9f\u969b\u306e\u8eca\u4e21\u306e\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u89d2\u5ea6\u3068\u306e\u5bfe\u5fdc\uff1a</p> steering_value \u89d2\u5ea6\uff08\u53c2\u8003\uff09 -1.0 \u7d04-30\u5ea6\uff08\u5de6\u6700\u5927\uff09 -0.5 \u7d04-15\u5ea6 0.0 0\u5ea6\uff08\u76f4\u9032\uff09 0.5 \u7d04+15\u5ea6 1.0 \u7d04+30\u5ea6\uff08\u53f3\u6700\u5927\uff09 <p>\u203b\u89d2\u5ea6\u306f\u8eca\u4e21\u306b\u3088\u3063\u3066\u7570\u306a\u308a\u307e\u3059</p>"}]}