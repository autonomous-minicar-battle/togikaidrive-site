{"config":{"lang":["ja"],"separator":"[\\s\\-\u3000\u3001\u3002\uff0c\uff0e]+","pipeline":["stemmer"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"togikaidrive","text":""},{"location":"#mobility-for-all-to-study","title":"Mobility for All to Study!","text":"<p>\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u7b49\u3067\u81ea\u52d5\u904b\u8ee2\u3059\u308b\u30df\u30cb\u30ab\u30fc\u306e\u5236\u5fa1\u30d7\u30ed\u30b0\u30e9\u30e0\u3002 \u81ea\u52d5\u904b\u8ee2\u30df\u30cb\u30ab\u30fc\u30d0\u30c8\u30eb\u3068\u51fa\u524d\u6388\u696d\u7b49\u3067\u6d3b\u7528\u3002</p> <p></p>"},{"location":"#_1","title":"\u4e3b\u306a\u30d7\u30ed\u30b0\u30e9\u30e0\u6982\u8981","text":"<p><code>python run.py</code> \u3067\u8d70\u884c\uff01</p> \u30d7\u30ed\u30b0\u30e9\u30e0\u540d \u8aac\u660e run.py \u8d70\u884c\u6642\u306e\u30eb\u30fc\u30d7\u51e6\u7406\u3092\u3059\u308b\u30e1\u30a4\u30f3\u30d7\u30ed\u30b0\u30e9\u30e0 config.py \u30d1\u30e9\u30e1\u30fc\u30bf\u7528\u30d7\u30ed\u30b0\u30e9\u30e0\uff08\u30c7\u30d0\u30a4\u30b9\u81ea\u52d5\u691c\u51fa\u6a5f\u80fd\u4ed8\u304d\uff09 ultrasonic.py \u8d85\u97f3\u6ce2\u6e2c\u5b9a\u7528\u30d7\u30ed\u30b0\u30e9\u30e0\uff08RPi4/5/Jetson\u81ea\u52d5\u5bfe\u5fdc\uff09 planner.py \u8d70\u884c\u30ed\u30b8\u30c3\u30af\u7528\u30d7\u30ed\u30b0\u30e9\u30e0 motor.py \u64cd\u8235\u30fb\u30e2\u30fc\u30bf\u30fc\u51fa\u529b/\u8abf\u6574\u7528\u30d7\u30ed\u30b0\u30e9\u30e0 train_pytorch.py \u6a5f\u68b0\u5b66\u7fd2\u7528\u30d7\u30ed\u30b0\u30e9\u30e0 <p>\u753b\u50cf\u8a8d\u8b58\u30e2\u30c7\u30eb\u306b\u3064\u3044\u3066</p> <p>\u753b\u50cf\u5165\u529b\u3092\u4f7f\u3063\u305fCNN\u30e2\u30c7\u30eb\u306b\u3088\u308b\u63a8\u8ad6\u306b\u306fannotation_training_d2j\u306e\u7d71\u5408\u304c\u5fc5\u8981\u3067\u3059\u3002</p> <p></p>"},{"location":"#_2","title":"\u81ea\u52d5\u904b\u8ee2\u306e\u6d41\u308c","text":"<pre><code>graph LR\n    A[\u8a8d\u77e5] --&gt; B[\u5224\u65ad] --&gt; C[\u64cd\u4f5c]\n    A --&gt;|\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc&lt;br/&gt;\u30ab\u30e1\u30e9| A\n    B --&gt;|\u30e2\u30fc\u30c9\u9078\u629e&lt;br/&gt;\u30eb\u30fc\u30eb/NN| B\n    C --&gt;|\u30e2\u30fc\u30bf\u30fc\u51fa\u529b| C</code></pre>"},{"location":"#_3","title":"\u30af\u30a4\u30c3\u30af\u30b9\u30bf\u30fc\u30c8","text":""},{"location":"#1","title":"1. \u30bb\u30f3\u30b5\u30fc\u78ba\u8a8d","text":"<pre><code>python ultrasonic.py\n</code></pre>"},{"location":"#2","title":"2. \u30e2\u30fc\u30bf\u30fc\u8abf\u6574","text":"<pre><code>python motor.py\n</code></pre>"},{"location":"#3","title":"3. \u8d70\u884c\u958b\u59cb","text":"<pre><code>python run.py\n</code></pre>"},{"location":"#_4","title":"\u8b1b\u5ea7\u306e\u9032\u3081\u65b9","text":"<ol> <li>\u57fa\u672c\u78ba\u8a8d - \u30bb\u30f3\u30b5\u30fc\u30fb\u30e2\u30fc\u30bf\u30fc\u30fb\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u52d5\u4f5c\u78ba\u8a8d</li> <li>\u8a8d\u77e5 - \u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u306e\u4ed5\u7d44\u307f\u3092\u7406\u89e3</li> <li>\u5224\u65ad - \u8d70\u884c\u30e2\u30fc\u30c9\u3068\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3092\u5b66\u3076</li> <li>\u64cd\u4f5c - \u30e2\u30fc\u30bf\u30fc\u5236\u5fa1\u306e\u57fa\u672c\u3092\u7fd2\u5f97</li> <li>\u6f14\u7fd2 - \u5b9f\u8df5\u7684\u306a\u8ab2\u984c\u306b\u6311\u6226</li> </ol>"},{"location":"#_5","title":"\u30ea\u30f3\u30af","text":"<ul> <li>GitHub \u30ea\u30dd\u30b8\u30c8\u30ea</li> <li>annotation_training_d2j - \u753b\u50cf\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u30fb\u5b66\u7fd2\u30c4\u30fc\u30eb</li> </ul>"},{"location":"handson/","title":"\u30cf\u30f3\u30ba\u30aa\u30f3 \u30ac\u30a4\u30c9","text":"<p>\u81ea\u52d5\u904b\u8ee2\u30df\u30cb\u30ab\u30fc\u8b1b\u7fd2\u306e\u9032\u884c\u30ac\u30a4\u30c9\u3067\u3059\u3002\u3053\u306e\u30da\u30fc\u30b8\u3092\u898b\u306a\u304c\u3089\u9032\u3081\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"handson/#3","title":"\u30bf\u30a4\u30e0\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\uff083\u6642\u9593\uff09","text":"\u6642\u9593 \u5185\u5bb9 \u6240\u8981\u6642\u9593 00:00-00:20 0. \u5168\u4f53\u50cf\u30fb\u74b0\u5883\u78ba\u8a8d 20\u5206 00:20-00:40 1. \u30e2\u30fc\u30bf\u30fc\u8abf\u6574 20\u5206 00:40-01:00 2. \u30bb\u30f3\u30b5\u30fc\u78ba\u8a8d 20\u5206 01:00-01:10 \u4f11\u61a9 10\u5206 01:10-01:30 3. \u30c7\u30fc\u30bf\u53ce\u96c6 20\u5206 01:30-01:40 4. \u30c7\u30fc\u30bf\u5206\u6790 10\u5206 01:40-02:10 5. \u5b66\u7fd2 30\u5206 02:10-02:30 6. \u7df4\u7fd2\u30bf\u30a4\u30e0 20\u5206 02:30-03:00 7. \u30bf\u30a4\u30e0\u30a2\u30bf\u30c3\u30af 30\u5206"},{"location":"handson/#0","title":"0. \u5168\u4f53\u50cf","text":""},{"location":"handson/#3_1","title":"\u81ea\u52d5\u904b\u8ee2\u306e3\u30b9\u30c6\u30c3\u30d7","text":"<pre><code>\u8a8d\u77e5\uff08\u30bb\u30f3\u30b5\u30fc\uff09\u2192 \u5224\u65ad\uff08\u30d7\u30e9\u30f3\u30ca\u30fc\uff09\u2192 \u64cd\u4f5c\uff08\u30e2\u30fc\u30bf\u30fc\uff09\n</code></pre>"},{"location":"handson/#1","title":"1. \u30e2\u30fc\u30bf\u30fc\u8abf\u6574","text":""},{"location":"handson/#_2","title":"\u5b9f\u884c","text":"<pre><code>python motor.py\n</code></pre>"},{"location":"handson/#_3","title":"\u8abf\u6574\u624b\u9806","text":"<ol> <li>\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0: \u771f\u3093\u4e2d\u2192\u5de6\u6700\u5927\u2192\u53f3\u6700\u5927\u306e\u5024\u3092\u63a2\u3059</li> <li>\u30b9\u30ed\u30c3\u30c8\u30eb: \u30cb\u30e5\u30fc\u30c8\u30e9\u30eb\uff08\u30d4\u30c3\u30d4\u30c3\u30d4\u97f3\uff09\u2192\u524d\u9032\u2192\u5f8c\u9032\u306e\u5024\u3092\u63a2\u3059</li> </ol>"},{"location":"handson/#configpy","title":"config.py \u306b\u4fdd\u5b58","text":"<pre><code># \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\nSTEERING_CENTER_PWM = 420    # \u771f\u3093\u4e2d\u306e\u5024\nSTEERING_WIDTH_PWM = 80      # \u5de6\u53f3\u306e\u632f\u308c\u5e45\n\n# \u30b9\u30ed\u30c3\u30c8\u30eb\nTHROTTLE_STOPPED_PWM = 390   # \u30cb\u30e5\u30fc\u30c8\u30e9\u30eb\nTHROTTLE_FORWARD_PWM = 450   # \u524d\u9032\nTHROTTLE_REVERSE_PWM = 330   # \u5f8c\u9032\n</code></pre> <p>\u6ce8\u610f</p> <p>\u6975\u7aef\u306a\u5024\u306f\u30e2\u30fc\u30bf\u30fc\u3092\u7834\u640d\u3059\u308b\u6050\u308c\u304c\u3042\u308a\u307e\u3059</p>"},{"location":"handson/#2","title":"2. \u30bb\u30f3\u30b5\u30fc\u78ba\u8a8d","text":""},{"location":"handson/#_4","title":"\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc","text":"<pre><code>python ultrasonic.py\n</code></pre> <ul> <li>\u5b9a\u898f\u3067\u5b9f\u969b\u306e\u8ddd\u96e2\u3092\u6e2c\u308a\u3001\u30bb\u30f3\u30b5\u30fc\u5024\u3068\u6bd4\u8f03</li> <li>\u691c\u77e5\u89d2\u5ea6\uff08\u7d04\u00b115\u5ea6\uff09\u3092\u624b\u3092\u304b\u3056\u3057\u3066\u78ba\u8a8d</li> </ul>"},{"location":"handson/#lidar","title":"LiDAR\uff08\u4f7f\u7528\u3059\u308b\u5834\u5408\uff09","text":"<pre><code>python lidar.py\n</code></pre> <p>\u30d6\u30e9\u30a6\u30b6\u3067 <code>http://localhost:8080</code> \u306b\u30a2\u30af\u30bb\u30b9</p>"},{"location":"handson/#_5","title":"\u30ab\u30e1\u30e9\u30fb\u30bb\u30f3\u30b5\u30fc\u7d71\u5408\u78ba\u8a8d","text":"<pre><code>python monitor.py\n</code></pre> <p>\u30d6\u30e9\u30a6\u30b6\u3067 <code>http://localhost:8888</code> \u306b\u30a2\u30af\u30bb\u30b9</p>"},{"location":"handson/#3_2","title":"3. \u30c7\u30fc\u30bf\u53ce\u96c6","text":""},{"location":"handson/#configpy_1","title":"config.py \u8a2d\u5b9a","text":"<pre><code>PLAN = \"manual\"\nSAVE_FORMAT = \"donkeycar\"\nACTIVE_SENSORS = [\"lidar\", \"camera_0\"]  # \u307e\u305f\u306f [\"ultrasonic\", \"camera_0\"]\n</code></pre>"},{"location":"handson/#_6","title":"\u5b9f\u884c","text":"<pre><code>python run.py\n</code></pre>"},{"location":"handson/#_7","title":"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u64cd\u4f5c","text":"<pre><code>        [LB]              [RB]\n         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n         \u2502                 \u2502\n    [\u2190\u2192] \u2502    [BACK] [S]   \u2502  [Y]\n    [\u2191\u2193] \u2502                 \u2502[X] [B]\n         \u2502   [LOGICOOL]    \u2502  [A]\n         \u2502                 \u2502\n         \u2502 [LSTICKB]       \u2502     [RSTICKB]\n         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> \u64cd\u4f5c \u30dc\u30bf\u30f3/\u30b9\u30c6\u30a3\u30c3\u30af \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0 \u5de6\u30b9\u30c6\u30a3\u30c3\u30af\uff08\u5de6\u53f3\uff09 \u30b9\u30ed\u30c3\u30c8\u30eb \u53f3\u30b9\u30c6\u30a3\u30c3\u30af\uff08\u4e0a\u4e0b\uff09 \u4e00\u5b9a\u901f\u5ea61\uff08\u76f4\u7dda\u7528\uff09 X\u30dc\u30bf\u30f3 \u4e00\u5b9a\u901f\u5ea62\uff08\u30ab\u30fc\u30d6\u7528\uff09 B\u30dc\u30bf\u30f3 \u30d6\u30ec\u30fc\u30ad A\u30dc\u30bf\u30f3 \u8a18\u9332\u958b\u59cb/\u505c\u6b62 Y\u30dc\u30bf\u30f3 \u30e2\u30fc\u30c9\u5207\u66ff S\u30dc\u30bf\u30f3"},{"location":"handson/#_8","title":"\u8a18\u9332\u624b\u9806","text":"<ol> <li>Y\u30dc\u30bf\u30f3 \u2192 \u8a18\u9332\u958b\u59cb</li> <li>\u30b3\u30fc\u30b9\u3092\u8d70\u884c\uff08\u6700\u4f4e3\u5468\u3001\u6ed1\u3089\u304b\u306b\u64cd\u4f5c\uff09</li> <li>Y\u30dc\u30bf\u30f3 \u2192 \u8a18\u9332\u505c\u6b62</li> </ol> <p>\u8a18\u9332\u306e\u30b3\u30c4</p> <ul> <li>\u6025\u306a\u30cf\u30f3\u30c9\u30eb\u64cd\u4f5c\u306f\u907f\u3051\u308b</li> <li>\u69d8\u3005\u306a\u5834\u6240\u3092\u8d70\u308b</li> <li>1000\u30d5\u30ec\u30fc\u30e0\u4ee5\u4e0a\u63a8\u5968</li> </ul>"},{"location":"handson/#4-data_viewer","title":"4. \u30c7\u30fc\u30bf\u5206\u6790\uff08data_viewer\uff09","text":""},{"location":"handson/#_9","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff08\u521d\u56de\u306e\u307f\uff09","text":"<pre><code>git clone https://github.com/Romihi/data_viewer.git\ncd data_viewer\npip install -r requirements.txt\n</code></pre>"},{"location":"handson/#_10","title":"\u8d77\u52d5","text":"<pre><code>python app.py\n</code></pre> <p>\u30d6\u30e9\u30a6\u30b6\u3067 <code>http://localhost:5000</code> \u306b\u30a2\u30af\u30bb\u30b9</p>"},{"location":"handson/#_11","title":"\u4e3b\u306a\u6a5f\u80fd","text":"\u6a5f\u80fd \u8aac\u660e \u30bf\u30a4\u30e0\u30e9\u30a4\u30f3 \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u30fb\u30b9\u30ed\u30c3\u30c8\u30eb\u306e\u6642\u7cfb\u5217\u8868\u793a \u30d2\u30b9\u30c8\u30b0\u30e9\u30e0 \u30c7\u30fc\u30bf\u5206\u5e03\u306e\u78ba\u8a8d \u753b\u50cf\u78ba\u8a8d \u30b9\u30e9\u30a4\u30c0\u30fc\u3067\u4efb\u610f\u30d5\u30ec\u30fc\u30e0\u3092\u78ba\u8a8d \u524a\u9664\u7ba1\u7406 \u4e0d\u826f\u30c7\u30fc\u30bf\u306e\u7bc4\u56f2\u3092\u9664\u5916 \u5b66\u7fd2 \u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u5b66\u7fd2\u5b9f\u884c"},{"location":"handson/#_12","title":"\u78ba\u8a8d\u30dd\u30a4\u30f3\u30c8","text":"<ul> <li>[ ] \u30c7\u30fc\u30bf\u91cf\u306f\u5341\u5206\u304b\uff081000\u30d5\u30ec\u30fc\u30e0\u4ee5\u4e0a\uff09</li> <li>[ ] \u64cd\u4f5c\u304c\u6ed1\u3089\u304b\u304b\uff08\u30ae\u30b6\u30ae\u30b6\u3057\u3066\u3044\u306a\u3044\u304b\uff09</li> <li>[ ] \u5de6\u53f3\u306e\u30d0\u30e9\u30f3\u30b9\u306f\u53d6\u308c\u3066\u3044\u308b\u304b</li> </ul>"},{"location":"handson/#5","title":"5. \u5b66\u7fd2","text":""},{"location":"handson/#configpy_2","title":"config.py \u8a2d\u5b9a","text":"<pre><code>PLAN = \"donkeycar\"  # \u304a\u3059\u3059\u3081\nEPOCHS = 30\nBATCH_SIZE = 64\nMODEL_INPUT_IMAGE = \"cam1/image_array\"\n</code></pre>"},{"location":"handson/#_13","title":"\u30e2\u30c7\u30eb\u9078\u629e","text":"\u30e2\u30c7\u30eb \u7279\u5fb4 \u304a\u3059\u3059\u3081\u5ea6 donkeycar \u8efd\u91cfCNN\u3001\u30d0\u30e9\u30f3\u30b9\u578b \u2605\u2605\u2605\u2605\u2605 nn \u30bb\u30f3\u30b5\u30fc\u5024\u306e\u307f\u3001\u9ad8\u901f \u2605\u2605\u2605\u2606\u2606 resnet18 \u9ad8\u7cbe\u5ea6\u3001\u5b66\u7fd2\u6642\u9593\u9577\u3044 \u2605\u2605\u2605\u2605\u2606"},{"location":"handson/#data_viewer","title":"\u5b9f\u884c\uff08data_viewer\u3092\u4f7f\u7528\uff09","text":"<p>data_viewer\u306e\u5b66\u7fd2\u6a5f\u80fd\u3092\u4f7f\u7528\u3059\u308b\u304b\u3001\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\u5b9f\u884c\uff1a</p> <pre><code>python train_pytorch.py\n</code></pre>"},{"location":"handson/#_14","title":"\u5b66\u7fd2\u306e\u8a55\u4fa1","text":"<pre><code>\u826f\u3044\u4f8b: Train Loss: 0.008, Val Loss: 0.009\uff08\u4e21\u65b9\u4e0b\u304c\u308b\uff09\n\u60aa\u3044\u4f8b: Train Loss: 0.003, Val Loss: 0.040\uff08Val Loss\u304c\u4e0a\u304c\u308b\uff1d\u904e\u5b66\u7fd2\uff09\n</code></pre>"},{"location":"handson/#6","title":"6. \u81ea\u52d5\u8d70\u884c","text":""},{"location":"handson/#configpy_3","title":"config.py \u8a2d\u5b9a","text":"<pre><code>PLAN = \"donkeycar\"\nMODEL_NAME = \"donkeycar_YYYYMMDD_HHMMSS.pth\"  # \u5b66\u7fd2\u3067\u751f\u6210\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u540d\n</code></pre>"},{"location":"handson/#_15","title":"\u5b9f\u884c","text":"<pre><code>python run.py\n</code></pre>"},{"location":"handson/#s","title":"\u30e2\u30fc\u30c9\u5207\u66ff\uff08S\u30dc\u30bf\u30f3\uff09","text":"<pre><code>user\uff08\u624b\u52d5\uff09\u2192 auto_str\uff08\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u81ea\u52d5\uff09\u2192 auto\uff08\u5b8c\u5168\u81ea\u52d5\uff09\u2192 user \u2192 ...\n</code></pre> \u30e2\u30fc\u30c9 \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0 \u30b9\u30ed\u30c3\u30c8\u30eb user \u624b\u52d5 \u624b\u52d5 auto_str \u81ea\u52d5 \u624b\u52d5 auto \u81ea\u52d5 \u81ea\u52d5"},{"location":"handson/#_16","title":"\u52d5\u4f5c\u78ba\u8a8d\u624b\u9806","text":"<ol> <li>user\u30e2\u30fc\u30c9\u3067\u624b\u52d5\u8d70\u884c\u30c6\u30b9\u30c8</li> <li>\u30df\u30cb\u30ab\u30fc\u3092\u30b9\u30bf\u30fc\u30c8\u4f4d\u7f6e\u306b\u914d\u7f6e</li> <li>S\u30dc\u30bf\u30f3\u3067auto\u30e2\u30fc\u30c9\u306b\u5207\u66ff</li> <li>\u8d70\u884c\u958b\u59cb</li> <li>\u505c\u6b62\u306fA\u30dc\u30bf\u30f3\u307e\u305f\u306fS\u30dc\u30bf\u30f3\u3067user\u306b\u623b\u3059</li> </ol>"},{"location":"handson/#_17","title":"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0","text":"\u73fe\u8c61 \u5bfe\u7b56 \u52d5\u304b\u306a\u3044 MODEL_PATH\u3092\u78ba\u8a8d \u30cf\u30f3\u30c9\u30eb\u3092\u5207\u3089\u306a\u3044 \u30c7\u30fc\u30bf\u3092\u8ffd\u52a0\u3057\u3066\u518d\u5b66\u7fd2 \u58c1\u306b\u3076\u3064\u304b\u308b \u30c7\u30fc\u30bf\u3092\u8ffd\u52a0\u3057\u3066\u518d\u5b66\u7fd2 \u3075\u3089\u3075\u3089\u3059\u308b \u6ed1\u3089\u304b\u306a\u64cd\u4f5c\u3067\u30c7\u30fc\u30bf\u518d\u53ce\u96c6"},{"location":"handson/#7","title":"7. \u30bf\u30a4\u30e0\u30a2\u30bf\u30c3\u30af","text":""},{"location":"handson/#_18","title":"\u30b3\u30fc\u30b9","text":""},{"location":"handson/#_19","title":"\u30b7\u30f3\u30d7\u30eb\u30b3\u30fc\u30b9","text":"<p>\u57fa\u672c\u7684\u306a\u5468\u56de\u30b3\u30fc\u30b9\u3002\u76f4\u7dda\u3068\u30ab\u30fc\u30d6\u3067\u69cb\u6210\u3055\u308c\u3001\u81ea\u52d5\u8d70\u884c\u306e\u57fa\u790e\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002</p> \u533a\u9593 \u8d70\u884c\u306e\u30b3\u30c4 \u30b9\u30c8\u30ec\u30fc\u30c8 \u30b9\u30ed\u30c3\u30c8\u30eb\u4e00\u5b9a\u3001\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u771f\u3093\u4e2d \u30b3\u30fc\u30ca\u30fc \u9032\u5165\u524d\u306b\u6e1b\u901f\u3001\u3086\u3063\u304f\u308a\u30cf\u30f3\u30c9\u30eb"},{"location":"handson/#_20","title":"\u30bf\u30b9\u30af\u30b3\u30fc\u30b9","text":"<p>\u30dc\u30fc\u30ca\u30b9\u30bf\u30b9\u30af\u4ed8\u304d\u306e\u5fdc\u7528\u30b3\u30fc\u30b9\u30021\u5468\u8d70\u884c\u3068P\u30a8\u30ea\u30a2\u505c\u6b62\u3067\u30bf\u30a4\u30e0\u77ed\u7e2e\u3092\u72d9\u3048\u307e\u3059\u3002</p> \u533a\u9593 \u8d70\u884c\u306e\u30b3\u30c4 \u30b9\u30c8\u30ec\u30fc\u30c8 \u30b9\u30ed\u30c3\u30c8\u30eb\u4e00\u5b9a\u3001\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u771f\u3093\u4e2d \u76f4\u89d2\u30b3\u30fc\u30ca\u30fc \u9032\u5165\u524d\u306b\u6e1b\u901f\u3001\u3086\u3063\u304f\u308a\u30cf\u30f3\u30c9\u30eb \u30b8\u30b0\u30b6\u30b0 \u614c\u3066\u305a\u4e00\u3064\u305a\u3064\u4e01\u5be7\u306b U\u5b57\u30ab\u30fc\u30d6 \u4e00\u5b9a\u306e\u30cf\u30f3\u30c9\u30eb\u89d2\u5ea6\u3092\u4fdd\u3064 P\u30a8\u30ea\u30a2 \u6e1b\u901f\u3057\u3066\u67a0\u5185\u306b\u505c\u6b62"},{"location":"handson/#_21","title":"\u30eb\u30fc\u30eb","text":"<p>\u5404\u30c1\u30fc\u30e03\u56de\u307e\u3067\u6311\u6226\u53ef\u80fd</p>"},{"location":"handson/#_22","title":"\u30da\u30ca\u30eb\u30c6\u30a3\uff08\u52a0\u7b97\uff09","text":"\u9805\u76ee \u30da\u30ca\u30eb\u30c6\u30a3 \u58c1\u3084\u969c\u5bb3\u7269\u306b\u63a5\u89e6 +1\u79d2 \u624b\u3067\u4fee\u6b63 +3\u79d2"},{"location":"handson/#_23","title":"\u30dc\u30fc\u30ca\u30b9\uff08\u6e1b\u7b97\uff09","text":"\u30bf\u30b9\u30af \u30dc\u30fc\u30ca\u30b9 \u77e2\u5370\u306e\u5411\u304d\u306b1\u5468\u56de\u308b -5\u79d2\uff082\u5468\u76ee\u4ee5\u4e0a\u306f\u306a\u3057\uff09 P\u306e\u67a0\u5185\u3067\u58c1\u306b\u3076\u3064\u304b\u3089\u305a\u505c\u6b62 -3\u79d2"},{"location":"handson/#_24","title":"\u8a08\u6e2c\u65b9\u6cd5","text":"<ol> <li>\u30b9\u30bf\u30fc\u30c8\u30e9\u30a4\u30f3\u306b\u30df\u30cb\u30ab\u30fc\u3092\u914d\u7f6e</li> <li>S\u30dc\u30bf\u30f3\u3067\u81ea\u52d5\u30e2\u30fc\u30c9\u306b\u5207\u66ff</li> <li>\u30b9\u30c8\u30c3\u30d7\u30a6\u30a9\u30c3\u30c1\u3067\u8a08\u6e2c</li> <li>\u30b4\u30fc\u30eb\u901a\u904e\u307e\u305f\u306fP\u30a8\u30ea\u30a2\u505c\u6b62\u3067\u7d42\u4e86</li> </ol>"},{"location":"handson/#_25","title":"\u8a18\u9332\u30b7\u30fc\u30c8","text":"\u30c1\u30fc\u30e0 1\u56de\u76ee 2\u56de\u76ee 3\u56de\u76ee \u30d9\u30b9\u30c8 \u30da\u30ca\u30eb\u30c6\u30a3 \u30dc\u30fc\u30ca\u30b9 \u6700\u7d42\u30bf\u30a4\u30e0 A __\u79d2 __\u79d2 __\u79d2 __\u79d2 +__\u79d2 -__\u79d2 __\u79d2 B __\u79d2 __\u79d2 __\u79d2 __\u79d2 +__\u79d2 -__\u79d2 __\u79d2 C __\u79d2 __\u79d2 __\u79d2 __\u79d2 +__\u79d2 -__\u79d2 __\u79d2 <p>\u6700\u7d42\u30bf\u30a4\u30e0 = \u30d9\u30b9\u30c8\u30bf\u30a4\u30e0 + \u30da\u30ca\u30eb\u30c6\u30a3 - \u30dc\u30fc\u30ca\u30b9</p>"},{"location":"handson/#_26","title":"\u30af\u30a4\u30c3\u30af\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9","text":""},{"location":"handson/#_27","title":"\u3088\u304f\u4f7f\u3046\u30b3\u30de\u30f3\u30c9","text":"<pre><code>python motor.py        # \u30e2\u30fc\u30bf\u30fc\u8abf\u6574\npython ultrasonic.py   # \u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u78ba\u8a8d\npython lidar.py        # LiDAR\u78ba\u8a8d\npython monitor.py      # \u7d71\u5408\u30e2\u30cb\u30bf\u30fc\npython run.py          # \u8d70\u884c\uff08\u624b\u52d5/\u81ea\u52d5\uff09\npython train_pytorch.py # \u5b66\u7fd2\n</code></pre>"},{"location":"handson/#_28","title":"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u30dc\u30bf\u30f3\u65e9\u898b\u8868","text":"\u30dc\u30bf\u30f3 \u6a5f\u80fd Y \u8a18\u9332\u958b\u59cb/\u505c\u6b62 S \u30e2\u30fc\u30c9\u5207\u66ff\uff08user\u2192auto_str\u2192auto\uff09 X \u4e00\u5b9a\u901f\u5ea61\uff08\u76f4\u7dda\u7528\uff09 B \u4e00\u5b9a\u901f\u5ea62\uff08\u30ab\u30fc\u30d6\u7528\uff09 A \u30d6\u30ec\u30fc\u30ad"},{"location":"handson/#_29","title":"\u6539\u5584\u30b5\u30a4\u30af\u30eb","text":"<pre><code>\u30c7\u30fc\u30bf\u53ce\u96c6 \u2192 \u5206\u6790 \u2192 \u5b66\u7fd2 \u2192 \u81ea\u52d5\u8d70\u884c \u2192 \u8a55\u4fa1 \u2192 \uff08\u7e70\u308a\u8fd4\u3057\uff09\n</code></pre>"},{"location":"setup/","title":"\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7","text":"<p>togikidrive\u306e\u74b0\u5883\u69cb\u7bc9\u624b\u9806\u3092\u89e3\u8aac\u3057\u307e\u3059\u3002</p>"},{"location":"setup/#_2","title":"\u5bfe\u5fdc\u30c7\u30d0\u30a4\u30b9","text":"\u30c7\u30d0\u30a4\u30b9 GPIO \u63a8\u5968\u7528\u9014 Raspberry Pi 4 RPi.GPIO \u5165\u9580\u30fb\u5b66\u7fd2 Raspberry Pi 5 gpiozero \u5165\u9580\u30fb\u5b66\u7fd2 Jetson Orin Nano Jetson.GPIO \u9ad8\u5ea6\u306a\u753b\u50cf\u8a8d\u8b58"},{"location":"setup/#_3","title":"\u57fa\u672c\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7","text":""},{"location":"setup/#1","title":"1. \u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30af\u30ed\u30fc\u30f3","text":"<pre><code>git clone https://github.com/autonomous-minicar-battle/togikaidrive-dev.git\ncd togikaidrive-dev\n</code></pre>"},{"location":"setup/#2","title":"2. \u4eee\u60f3\u74b0\u5883\u306e\u4f5c\u6210","text":"<pre><code>python3 -m venv venv\nsource venv/bin/activate\n</code></pre>"},{"location":"setup/#3","title":"3. \u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<pre><code>pip install -r requirements.txt\n</code></pre>"},{"location":"setup/#raspberry-pi","title":"Raspberry Pi \u30bb\u30c3\u30c8\u30a2\u30c3\u30d7","text":""},{"location":"setup/#gpio","title":"GPIO\u6a29\u9650\u306e\u8a2d\u5b9a","text":"<pre><code>sudo usermod -aG gpio $USER\n# \u30ed\u30b0\u30a2\u30a6\u30c8/\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u53cd\u6620\n</code></pre>"},{"location":"setup/#i2c","title":"I2C\u6709\u52b9\u5316\uff08\u30d7\u30ed\u30dd\u4f7f\u7528\u6642\uff09","text":"<pre><code>sudo raspi-config\n# Interface Options \u2192 I2C \u2192 Enable\n</code></pre>"},{"location":"setup/#_4","title":"\u30ab\u30e1\u30e9\u6709\u52b9\u5316","text":"<pre><code>sudo raspi-config\n# Interface Options \u2192 Camera \u2192 Enable\n</code></pre>"},{"location":"setup/#jetson-orin-nano","title":"Jetson Orin Nano \u30bb\u30c3\u30c8\u30a2\u30c3\u30d7","text":""},{"location":"setup/#_5","title":"\u524d\u63d0\u6761\u4ef6","text":"<ul> <li>JetPack 6.1 \u307e\u305f\u306f 6.2 \u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f</li> <li>Python 3.10.12 \u304c\u30d7\u30ea\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f</li> </ul>"},{"location":"setup/#jetpack","title":"JetPack\u78ba\u8a8d","text":"<pre><code>cat /etc/nv_tegra_release\n</code></pre>"},{"location":"setup/#_6","title":"\u4eee\u60f3\u74b0\u5883\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7","text":"<pre><code># \u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo apt update\nsudo apt install -y python3.10-venv python3.10-dev\n\n# user home\u4e0b\u306b\u4f5c\u6210\ncd /home/jetson\n\n# \u4eee\u60f3\u74b0\u5883\u3092\u4f5c\u6210\uff08Python 3.10\u3092\u4f7f\u7528\uff09\npython3.10 -m venv venv\n\n# \u4eee\u60f3\u74b0\u5883\u3092\u6709\u52b9\u5316\nsource venv/bin/activate\n\n# pip\u3092\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\npip install --upgrade pip\n</code></pre>"},{"location":"setup/#_7","title":"\u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<pre><code># \u57fa\u672c\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4e00\u62ec\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\npip install -r requirements-jetson.txt\n</code></pre> <p>requirements-jetson.txt\u306e\u5185\u5bb9</p> <p>\u4ee5\u4e0b\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\uff1a</p> <ul> <li>Web Framework (Flask, tornado\u7b49)</li> <li>Jetson GPIO</li> <li>Hardware Control (Adafruit-PCA9685, smbus, pmw3901\u7b49)</li> <li>Data Processing (numpy, pandas, scipy, matplotlib\u7b49)</li> <li>Utilities (onnx, pygame, pillow\u7b49)</li> </ul> <p>PyTorch\u3001torchvision\u3001OpenCV\u306a\u3069\u7279\u5225\u306a\u5bfe\u5fdc\u304c\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u3001\u4ee5\u4e0b\u306e\u500b\u5225\u624b\u9806\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002</p>"},{"location":"setup/#gpio_1","title":"GPIO\u6a29\u9650\u306e\u8a2d\u5b9a","text":"<pre><code>sudo groupadd -f -r gpio\nsudo usermod -aG gpio $USER\nsudo cp /opt/nvidia/jetson-gpio/etc/99-gpio.rules /etc/udev/rules.d/\nsudo udevadm control --reload-rules &amp;&amp; sudo udevadm trigger\n# \u30ed\u30b0\u30a2\u30a6\u30c8/\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u53cd\u6620\n</code></pre> <p>JetPack 6.2 \u3067\u5229\u7528\u3059\u308b\u5834\u5408\u306f\u3001\u8ffd\u52a0\u306e\u8a2d\u5b9a\u304c\u5fc5\u8981\u306a\u5834\u5408\u304c\u3042\u308a\u307e\u3059\uff1a</p> <ul> <li>\u53c2\u8003: FaBo JetsonGPIO \u8a2d\u5b9a\u30ac\u30a4\u30c9</li> </ul>"},{"location":"setup/#i2c_1","title":"I2C\u6a29\u9650\u306e\u8a2d\u5b9a","text":"<pre><code>sudo usermod -aG i2c $USER\n# \u30ed\u30b0\u30a2\u30a6\u30c8/\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u53cd\u6620\n</code></pre>"},{"location":"setup/#pytorchnvidiawheel","title":"PyTorch\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff08NVIDIA\u516c\u5f0fWheel\uff09","text":"<pre><code># PyTorch 2.5.0 for Jetson\uff08JetPack 6.1/6.2\u5171\u901a\u3001Python 3.10\u7528\uff09\npip3 install --no-cache https://developer.download.nvidia.com/compute/redist/jp/v61/pytorch/torch-2.5.0a0+872d972e41.nv24.08.17622132-cp310-cp310-linux_aarch64.whl\n</code></pre> <p>Python \u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u6ce8\u610f</p> <p>NVIDIA \u306e PyTorch wheel \u306f Python 3.10 \u7528\u3067\u3059\u3002\u5fc5\u305a Python 3.10 \u306e\u4eee\u60f3\u74b0\u5883\u3092\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"setup/#libcusparselt","title":"libcusparseLt\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff08\u5fc5\u9808\uff09","text":"<p>PyTorch\u306e\u5b9f\u884c\u306b\u5fc5\u8981\u306aCUDA\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\uff1a</p> <pre><code># cuSPARSELt \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30fb\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nwget https://developer.download.nvidia.com/compute/cusparselt/0.6.3/local_installers/cusparselt-local-tegra-repo-ubuntu2204-0.6.3_1.0-1_arm64.deb\nsudo dpkg -i cusparselt-local-tegra-repo-ubuntu2204-0.6.3_1.0-1_arm64.deb\nsudo cp /var/cusparselt-local-tegra-repo-ubuntu2204-0.6.3/cusparselt-*-keyring.gpg /usr/share/keyrings/\nsudo apt-get update\nsudo apt-get -y install libcusparselt0 libcusparselt-dev\n</code></pre> <p>\u53c2\u8003: NVIDIA cuSPARSELt Downloads</p>"},{"location":"setup/#torchvision","title":"torchvision\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff08\u30bd\u30fc\u30b9\u304b\u3089\u30d3\u30eb\u30c9\uff09","text":"<pre><code># \u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo apt-get install -y libjpeg-dev zlib1g-dev libpython3-dev libopenblas-dev \\\n    libavcodec-dev libavformat-dev libswscale-dev\n\n# torchvision \u3092\u30af\u30ed\u30fc\u30f3\ngit clone --branch release/0.20 https://github.com/pytorch/vision torchvision\ncd torchvision\n\n# \u30d3\u30eb\u30c9\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nexport BUILD_VERSION=0.20.0\npython3 setup.py install\n\ncd ..\n</code></pre>"},{"location":"setup/#opencv","title":"OpenCV\u306e\u78ba\u8a8d","text":"<p>Jetson \u306b\u306f OpenCV \u304c\u30d7\u30ea\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u307e\u3059\uff1a</p> <pre><code>python3 -c \"import cv2; print(cv2.__version__)\"\n</code></pre>"},{"location":"setup/#_8","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u78ba\u8a8d","text":"<pre><code># Python \u3068\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\npython --version\npip list\n\n# PyTorch \u306e\u52d5\u4f5c\u78ba\u8a8d\npython -c \"import torch; print(f'PyTorch version: {torch.__version__}'); print(f'CUDA available: {torch.cuda.is_available()}')\"\n\n# GPIO \u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u78ba\u8a8d\npython -c \"import Jetson.GPIO; print('Jetson.GPIO OK')\"\n</code></pre>"},{"location":"setup/#_9","title":"\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u63a5\u7d9a","text":""},{"location":"setup/#hc-sr04","title":"\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\uff08HC-SR04\uff09","text":"\u30bb\u30f3\u30b5\u30fc\u30d4\u30f3 Raspberry Pi Jetson VCC 5V 5V GND GND GND TRIG GPIO\u6307\u5b9a GPIO\u6307\u5b9a ECHO GPIO\u6307\u5b9a GPIO\u6307\u5b9a <p>\u96fb\u5727\u306b\u6ce8\u610f</p> <p>HC-SR04\u306eECHO\u30d4\u30f3\u306f5V\u51fa\u529b\u3067\u3059\u3002Raspberry Pi/Jetson\u306eGPIO\u306f3.3V\u5165\u529b\u306e\u305f\u3081\u3001\u5206\u5727\u56de\u8def\u304c\u5fc5\u8981\u306a\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"setup/#escpca9685","title":"\u30b5\u30fc\u30dc/ESC\uff08PCA9685\u7d4c\u7531\uff09","text":"PCA9685 Raspberry Pi Jetson VCC 3.3V 3.3V GND GND GND SDA GPIO2 (SDA) Pin 3 (SDA) SCL GPIO3 (SCL) Pin 5 (SCL) V+ \u5916\u90e8\u96fb\u6e90 \u5916\u90e8\u96fb\u6e90"},{"location":"setup/#_10","title":"\u30ab\u30e1\u30e9","text":"<p>Raspberry Pi: - CSI\u30ab\u30e1\u30e9\u307e\u305f\u306fUSB\u30ab\u30e1\u30e9</p> <p>Jetson: - CSI\u30ab\u30e1\u30e9\uff08\u63a8\u5968\uff09\u307e\u305f\u306fUSB\u30ab\u30e1\u30e9</p>"},{"location":"setup/#ydlidar-tmini","title":"YDLIDAR TMINI \u30bb\u30c3\u30c8\u30a2\u30c3\u30d7","text":"<p>YDLIDAR TMINI\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u306e\u8a2d\u5b9a\u624b\u9806\u3067\u3059\u3002</p>"},{"location":"setup/#1-ydlidar-sdk","title":"1. YDLidar SDK\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<pre><code># SDK\u3092\u30af\u30ed\u30fc\u30f3\ncd ~\ngit clone https://github.com/YDLIDAR/YDLidar-SDK.git\ncd YDLidar-SDK\n\n# \u30d3\u30eb\u30c9\nmkdir build\ncd build\ncmake ..\nmake\nsudo make install\n\n# Python\u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\ncd ..\npip install .\n</code></pre>"},{"location":"setup/#2_1","title":"2. \u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\u306e\u8a2d\u5b9a","text":"<p>YDLIDAR TMINI\u306f\u30b7\u30ea\u30a2\u30eb\uff08UART\uff09\u63a5\u7d9a\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002</p> <p>Raspberry Pi:</p> <pre><code># Bluetooth\u3092\u7121\u52b9\u5316\u3057\u3066\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2UART\u3092\u958b\u653e\nsudo raspi-config\n# Interface Options \u2192 Serial Port\n# - login shell over serial: No\n# - serial port hardware: Yes\n\n# /boot/config.txt\u306b\u8ffd\u8a18\uff08RPi5\u306e\u5834\u5408\uff09\necho \"dtoverlay=disable-bt\" | sudo tee -a /boot/config.txt\n\n# \u518d\u8d77\u52d5\nsudo reboot\n</code></pre> <p>\u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\u306e\u6a29\u9650\u8a2d\u5b9a:</p> <pre><code># dialout\u30b0\u30eb\u30fc\u30d7\u306b\u8ffd\u52a0\nsudo usermod -aG dialout $USER\n# \u30ed\u30b0\u30a2\u30a6\u30c8/\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u53cd\u6620\n</code></pre>"},{"location":"setup/#3-udev","title":"3. udev\u30eb\u30fc\u30eb\u306e\u8a2d\u5b9a\uff08\u63a8\u5968\uff09","text":"<p>\u30c7\u30d0\u30a4\u30b9\u540d\u3092\u56fa\u5b9a\u3059\u308b\u305f\u3081\u306eudev\u30eb\u30fc\u30eb\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002</p> <pre><code># udev\u30eb\u30fc\u30eb\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\nsudo nano /etc/udev/rules.d/99-ydlidar.rules\n</code></pre> <p>\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u8ffd\u52a0: <pre><code>KERNEL==\"ttyAMA0\", MODE=\"0666\"\nKERNEL==\"ttyUSB*\", ATTRS{idVendor}==\"10c4\", ATTRS{idProduct}==\"ea60\", MODE=\"0666\", SYMLINK+=\"ydlidar\"\n</code></pre></p> <pre><code># \u30eb\u30fc\u30eb\u3092\u9069\u7528\nsudo udevadm control --reload-rules &amp;&amp; sudo udevadm trigger\n</code></pre>"},{"location":"setup/#4-configpy","title":"4. config.py\u306e\u8a2d\u5b9a","text":"<pre><code># LiDAR\u3092\u6709\u52b9\u5316\nHAVE_LIDAR = True\nLIDAR_TYPE = \"TMINI\"\n\n# \u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\u8a2d\u5b9a\nLIDAR_SERIAL_PORT = \"/dev/ttyAMA0\"  # RPi\u306e\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2UART\nLIDAR_SERIAL_BAUDRATE = 230400\n\n# \u30a2\u30af\u30c6\u30a3\u30d6\u30bb\u30f3\u30b5\u30fc\u306bLiDAR\u3092\u8ffd\u52a0\nACTIVE_SENSORS = [\"lidar\"]  # \u307e\u305f\u306f [\"ultrasonic\", \"lidar\"]\n</code></pre>"},{"location":"setup/#5","title":"5. \u63a5\u7d9a\u56f3","text":"YDLIDAR TMINI Raspberry Pi TX GPIO15 (RXD) RX GPIO14 (TXD) VCC 5V GND GND <p>\u96fb\u6e90\u306b\u6ce8\u610f</p> <p>YDLIDAR TMINI\u306f5V\u96fb\u6e90\u304c\u5fc5\u8981\u3067\u3059\u3002USB\u96fb\u6e90\u304b\u3089\u306e\u4f9b\u7d66\u307e\u305f\u306f\u5225\u96fb\u6e90\u3092\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"setup/#6","title":"6. \u52d5\u4f5c\u78ba\u8a8d","text":"<pre><code># \u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\u306e\u78ba\u8a8d\nls -la /dev/ttyAMA0\n\n# LiDAR\u5358\u4f53\u30c6\u30b9\u30c8\npython lidar.py\n</code></pre> <p>\u30d6\u30e9\u30a6\u30b6\u3067 <code>http://localhost:8080</code> \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u70b9\u7fa4\u30c7\u30fc\u30bf\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"setup/#_11","title":"\u52d5\u4f5c\u78ba\u8a8d","text":""},{"location":"setup/#1_1","title":"1. \u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc","text":"<pre><code>python ultrasonic.py\n</code></pre>"},{"location":"setup/#2_2","title":"2. \u30e2\u30fc\u30bf\u30fc","text":"<pre><code>python motor.py\n</code></pre>"},{"location":"setup/#3_1","title":"3. \u30ab\u30e1\u30e9","text":"<pre><code>python camera_test.py\n</code></pre>"},{"location":"setup/#4-lidarydlidar-tmini","title":"4. LiDAR\uff08YDLIDAR TMINI\u306e\u5834\u5408\uff09","text":"<pre><code>python lidar.py\n</code></pre> <p>\u30d6\u30e9\u30a6\u30b6\u3067 <code>http://localhost:8080</code> \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u78ba\u8a8d\u3002</p>"},{"location":"setup/#5_1","title":"5. \u7d71\u5408\u30c6\u30b9\u30c8","text":"<pre><code>python run.py\n</code></pre>"},{"location":"setup/#_12","title":"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0","text":""},{"location":"setup/#gpio_2","title":"GPIO\u30a2\u30af\u30bb\u30b9\u30a8\u30e9\u30fc","text":"<pre><code>RuntimeError: No access to /dev/mem\n</code></pre> <p>\u5bfe\u7b56: <pre><code>sudo usermod -aG gpio $USER\n# \u30ed\u30b0\u30a2\u30a6\u30c8/\u30ed\u30b0\u30a4\u30f3\n</code></pre></p>"},{"location":"setup/#i2c_2","title":"I2C\u30c7\u30d0\u30a4\u30b9\u304c\u898b\u3064\u304b\u3089\u306a\u3044","text":"<pre><code># \u30c7\u30d0\u30a4\u30b9\u78ba\u8a8d\nsudo i2cdetect -y 1  # Raspberry Pi\nsudo i2cdetect -y 7  # Jetson\n</code></pre>"},{"location":"setup/#_13","title":"\u30ab\u30e1\u30e9\u304c\u8a8d\u8b58\u3055\u308c\u306a\u3044","text":"<pre><code># Raspberry Pi\nvcgencmd get_camera\n\n# Jetson\nls /dev/video*\n</code></pre>"},{"location":"setup/#_14","title":"\u30e2\u30fc\u30bf\u30fc\u304c\u52d5\u304b\u306a\u3044","text":"<ol> <li>\u96fb\u6e90\u304c\u5165\u3063\u3066\u3044\u308b\u304b\u78ba\u8a8d</li> <li>PWM\u5024\u304c\u9069\u5207\u304b\u78ba\u8a8d\uff08motor.py\u3067\u8abf\u6574\uff09</li> <li>\u914d\u7dda\u3092\u78ba\u8a8d</li> </ol>"},{"location":"setup/#lidarydlidar-tmini","title":"LiDAR\u304c\u52d5\u4f5c\u3057\u306a\u3044\uff08YDLIDAR TMINI\uff09","text":"<p>\u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\u304c\u898b\u3064\u304b\u3089\u306a\u3044: <pre><code># \u30c7\u30d0\u30a4\u30b9\u78ba\u8a8d\nls -la /dev/ttyAMA0\nls -la /dev/ttyUSB*\n\n# \u6a29\u9650\u78ba\u8a8d\ngroups  # dialout\u30b0\u30eb\u30fc\u30d7\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u304b\u78ba\u8a8d\n</code></pre></p> <p>ydlidar\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u898b\u3064\u304b\u3089\u306a\u3044: <pre><code># SDK\u306e\u518d\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\ncd ~/YDLidar-SDK\npip install .\n</code></pre></p> <p>\u30c7\u30fc\u30bf\u304c\u53d6\u5f97\u3067\u304d\u306a\u3044: <pre><code># Bluetooth\u304c\u7121\u52b9\u5316\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\uff08RPi\u306e\u5834\u5408\uff09\nhciconfig  # \u4f55\u3082\u8868\u793a\u3055\u308c\u306a\u3051\u308c\u3070\u7121\u52b9\u5316\u6e08\u307f\n\n# \u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\u306e\u30dc\u30fc\u30ec\u30fc\u30c8\u78ba\u8a8d\n# config.py\u306eLIDAR_SERIAL_BAUDRATE\u304c230400\u306b\u306a\u3063\u3066\u3044\u308b\u304b\u78ba\u8a8d\n</code></pre></p>"},{"location":"setup/#oled","title":"OLED\u304c\u8868\u793a\u3055\u308c\u306a\u3044","text":"<p>I2C\u63a5\u7d9a\u3092\u78ba\u8a8d: <pre><code>sudo i2cdetect -y -r 7  # Jetson\nsudo i2cdetect -y 1     # Raspberry Pi\n</code></pre></p> <p>I2C\u30a2\u30c9\u30ec\u30b9\u304c\u7570\u306a\u308b\u5834\u5408:</p> <p><code>oled_ip_display.py</code> \u306e <code>addr=0x3C</code> \u3092\u5b9f\u969b\u306e\u30a2\u30c9\u30ec\u30b9\u306b\u5909\u66f4\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>\u30b5\u30fc\u30d3\u30b9\u30ed\u30b0\u3092\u78ba\u8a8d: <pre><code>sudo journalctl -u oled-ip-display.service -f\n</code></pre></p>"},{"location":"setup/#pytorchcudajetson","title":"PyTorch\u3067CUDA\u304c\u8a8d\u8b58\u3055\u308c\u306a\u3044\uff08Jetson\uff09","text":"<pre><code># libcusparseLt\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\ndpkg -l | grep cusparselt\n\n# \u672a\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u5834\u5408\u306f\u518d\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo apt-get install libcusparselt0 libcusparselt-dev\n</code></pre>"},{"location":"setup/#oled_1","title":"OLED\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\uff08\u30aa\u30d7\u30b7\u30e7\u30f3\uff09","text":"<p>\u8d77\u52d5\u6642\u306bIP\u30a2\u30c9\u30ec\u30b9\u3092\u8868\u793a\u3059\u308bOLED\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\uff08SSD1306\uff09\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u306e\u8a2d\u5b9a\u3067\u3059\u3002</p>"},{"location":"setup/#1-i2c","title":"1. I2C\u306e\u6709\u52b9\u5316","text":"<pre><code># I2C\u30c4\u30fc\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo apt install -y i2c-tools\n\n# I2C\u30c7\u30d0\u30a4\u30b9\u3092\u78ba\u8a8d\uff080x3C\u306b\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u304c\u8868\u793a\u3055\u308c\u308b\u306f\u305a\uff09\nsudo i2cdetect -y -r 7  # Jetson\nsudo i2cdetect -y 1     # Raspberry Pi\n</code></pre>"},{"location":"setup/#2_3","title":"2. \u30b9\u30af\u30ea\u30d7\u30c8\u306b\u5b9f\u884c\u6a29\u9650\u3092\u4ed8\u4e0e","text":"<p>OLED\u30e9\u30a4\u30d6\u30e9\u30ea</p> <p>OLED\u30e9\u30a4\u30d6\u30e9\u30ea\uff08adafruit-circuitpython-ssd1306\uff09\u306f\u3001requirements-jetson.txt\u304b\u3089\u65e2\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3067\u3059\u3002</p> <pre><code># \u5b9f\u884c\u6a29\u9650\u3092\u4ed8\u4e0e\nchmod +x setup/ip_address_display/oled_ip_display.sh\nchmod +x setup/ip_address_display/oled_ip_display.py\n</code></pre>"},{"location":"setup/#3-systemd","title":"3. systemd\u30b5\u30fc\u30d3\u30b9\u306e\u8a2d\u5b9a","text":"<pre><code># \u30b5\u30fc\u30d3\u30b9\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30d4\u30fc\nsudo cp setup/ip_address_display/oled-ip-display.service /etc/systemd/system/\n\n# systemd\u3092\u30ea\u30ed\u30fc\u30c9\nsudo systemctl daemon-reload\n\n# \u30b5\u30fc\u30d3\u30b9\u3092\u6709\u52b9\u5316\u3057\u3066\u8d77\u52d5\nsudo systemctl enable oled-ip-display.service\nsudo systemctl start oled-ip-display.service\n\n# \u30b9\u30c6\u30fc\u30bf\u30b9\u78ba\u8a8d\nsudo systemctl status oled-ip-display.service\n</code></pre>"},{"location":"setup/#4","title":"4. \u624b\u52d5\u3067\u306e\u30c6\u30b9\u30c8","text":"<pre><code># \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304b\u3089\u5b9f\u884c\n./setup/ip_address_display/oled_ip_display.sh\n\n# \u307e\u305f\u306fPython\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u76f4\u63a5\u5b9f\u884c\nsource venv/bin/activate\npython3 setup/ip_address_display/oled_ip_display.py\n</code></pre>"},{"location":"setup/#oled_2","title":"OLED\u63a5\u7d9a\u56f3","text":"OLED (SSD1306) Jetson / Raspberry Pi VCC 3.3V GND GND SDA Pin 3 (GPIO2/SDA) SCL Pin 5 (GPIO3/SCL)"},{"location":"setup/#ros2","title":"ROS2\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff08\u30aa\u30d7\u30b7\u30e7\u30f3\uff09","text":"<p>ROS2\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806\u3067\u3059\u3002</p>"},{"location":"setup/#1_2","title":"1. \u30bb\u30c3\u30c8\u30a2\u30c3\u30d7","text":"<pre><code># \u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo apt install software-properties-common\nsudo add-apt-repository universe\n\n# ROS\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u8ffd\u52a0\nsudo apt update &amp;&amp; sudo apt install curl -y\nsudo curl -sSL https://raw.githubusercontent.com/ros/rosdistro/master/ros.key -o /usr/share/keyrings/ros-archive-keyring.gpg\necho \"deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/ros-archive-keyring.gpg] http://packages.ros.org/ros2/ubuntu $(. /etc/os-release &amp;&amp; echo $UBUNTU_CODENAME) main\" | sudo tee /etc/apt/sources.list.d/ros2.list &gt; /dev/null\nsudo apt update &amp;&amp; sudo apt upgrade\n</code></pre>"},{"location":"setup/#2_4","title":"2. \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<pre><code># ROS2 Humble\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo apt install ros-humble-desktop ros-dev-tools\n</code></pre>"},{"location":"setup/#3_2","title":"3. \u74b0\u5883\u5909\u6570\u8a2d\u5b9a","text":"<pre><code># bashrc\u306b\u8ffd\u52a0\u3057\u3066\u81ea\u52d5\u3067\u8aad\u307f\u8fbc\u307e\u308c\u308b\u3088\u3046\u306b\u3059\u308b\necho \"source /opt/ros/humble/setup.bash\" &gt;&gt; ~/.bashrc\nsource ~/.bashrc\n</code></pre>"},{"location":"setup/#4_1","title":"4. \u52d5\u4f5c\u30c6\u30b9\u30c8","text":"<p>\u5225\u3005\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u3067\u4ee5\u4e0b\u3092\u5b9f\u884c\u3057\u3066\u3001\u901a\u4fe1\u3092\u78ba\u8a8d\u3057\u307e\u3059\uff1a</p> <p>\u30bf\u30fc\u30df\u30ca\u30eb1: Talker\u3092\u5b9f\u884c <pre><code>ros2 run demo_nodes_cpp talker\n</code></pre></p> <p>\u30bf\u30fc\u30df\u30ca\u30eb2: Listener\u3092\u5b9f\u884c <pre><code>ros2 run demo_nodes_py listener\n</code></pre></p> <p>Listener\u304c\u300cI heard: [Hello World: X]\u300d\u306e\u3088\u3046\u306a\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u4fe1\u3067\u304d\u308c\u3070\u6210\u529f\u3067\u3059\u3002</p>"},{"location":"setup/#_15","title":"\u53c2\u8003\u30ea\u30f3\u30af","text":"<ul> <li>PyTorch for Jetson</li> <li>JetPack SDK</li> <li>Jetson.GPIO</li> <li>Adafruit SSD1306 Library</li> <li>ROS2 Documentation</li> <li>YDLidar SDK</li> </ul>"},{"location":"setup/#_16","title":"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7","text":"<p>\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001\u4f53\u9a13\u578b\u6388\u696d\u306b\u9032\u307f\u307e\u3057\u3087\u3046\uff01</p>"},{"location":"advanced/lidar/","title":"LiDAR\u7d71\u5408\u6a5f\u80fd","text":""},{"location":"advanced/lidar/#_1","title":"\u6982\u8981","text":"<p>2D LiDAR\u30bb\u30f3\u30b5\u30fc\u3092\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u306e\u4ee3\u66ff\u307e\u305f\u306f\u88dc\u5b8c\u3068\u3057\u3066\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002LiDAR\u30c7\u30fc\u30bf\u306f\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u3068\u540c\u3058\u5f62\u5f0f\u306b\u5909\u63db\u3055\u308c\u308b\u305f\u3081\u3001\u65e2\u5b58\u306e\u30d7\u30e9\u30f3\u30ca\u30fc\u3092\u305d\u306e\u307e\u307e\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"advanced/lidar/#lidar_1","title":"\u5bfe\u5fdcLiDAR","text":"<ul> <li>Hokuyo URG-04LX-UG01</li> <li>\u305d\u306e\u4ed6SCIP2.0\u30d7\u30ed\u30c8\u30b3\u30eb\u5bfe\u5fdcLiDAR</li> </ul>"},{"location":"advanced/lidar/#_2","title":"\u30be\u30fc\u30f3\u69cb\u6210","text":"<p>LiDAR\u306e360\u5ea6\u30b9\u30ad\u30e3\u30f3\u30c7\u30fc\u30bf\u30925\u3064\u306e\u30be\u30fc\u30f3\u306b\u5206\u5272\u3057\u3066\u3001\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u3068\u540c\u7b49\u306e\u5f62\u5f0f\u306b\u5909\u63db\u3057\u307e\u3059\u3002</p> <pre><code>        FrFR (\u524d\u65b9)\n          \u2502\n    FrLH \u2500\u253c\u2500 FrRH\n   (\u5de6\u524d) \u2502 (\u53f3\u524d)\n          \u2502\n    RrLH \u2500\u2534\u2500 RrRH\n   (\u5de6\u5f8c)   (\u53f3\u5f8c)\n</code></pre>"},{"location":"advanced/lidar/#configpy","title":"config.py\u3067\u306e\u8a2d\u5b9a","text":"<pre><code># LiDAR\u3092\u6709\u52b9\u306b\u3059\u308b\nHAVE_LIDAR = True\n\n# \u30a2\u30af\u30c6\u30a3\u30d6\u30bb\u30f3\u30b5\u30fc\u306b\u8ffd\u52a0\nACTIVE_SENSORS = [\"lidar\"]  # \u307e\u305f\u306f [\"ultrasonic\", \"lidar\"]\n\n# LiDAR\u63a5\u7d9a\u8a2d\u5b9a\nLIDAR_PORT = \"/dev/ttyACM0\"  # \u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\nLIDAR_BAUDRATE = 115200\n\n# \u30be\u30fc\u30f3\u8a2d\u5b9a\uff08\u89d2\u5ea6\u7bc4\u56f2\uff09\nLIDAR_ZONES = {\n    \"RrLH\": (225, 270),   # \u5de6\u5f8c\u65b9\n    \"FrLH\": (270, 315),   # \u5de6\u524d\u65b9\n    \"FrFR\": (315, 45),    # \u524d\u65b9\uff080\u5ea6\u3092\u307e\u305f\u3050\uff09\n    \"FrRH\": (45, 90),     # \u53f3\u524d\u65b9\n    \"RrRH\": (90, 135),    # \u53f3\u5f8c\u65b9\n}\n\n# \u70b9\u6570\u95be\u5024\uff08\u3053\u306e\u70b9\u6570\u4ee5\u4e0a\u306e\u70b9\u7fa4\u304c\u3042\u308b\u30be\u30fc\u30f3\u3092\u969c\u5bb3\u7269\u3068\u5224\u5b9a\uff09\nLIDAR_POINT_THRESHOLD = 3\n\n# \u8ddd\u96e2\u95be\u5024\uff08\u3053\u306e\u8ddd\u96e2\u3088\u308a\u8fd1\u3044\u30be\u30fc\u30f3\u3092\u969c\u5bb3\u7269\u3068\u5224\u5b9a\u3001\u5358\u4f4d:mm\uff09\nLIDAR_DISTANCE_THRESHOLD = 500\n\n# \u30be\u30fc\u30f3\u5225\u306e\u95be\u5024\u8a2d\u5b9a\u3082\u53ef\u80fd\nLIDAR_ZONE_THRESHOLDS = {\n    \"FrFR\": 300,   # \u524d\u65b9\u306f\u8fd1\u3081\u306b\u8a2d\u5b9a\n    \"FrLH\": 400,\n    \"FrRH\": 400,\n    \"RrLH\": 500,\n    \"RrRH\": 500,\n}\n</code></pre>"},{"location":"advanced/lidar/#runpy","title":"run.py\u3067\u306e\u4f7f\u7528\u65b9\u6cd5","text":"<pre><code># LiDAR\u30c7\u30fc\u30bf\u306f\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u3068\u540c\u3058\u5f62\u5f0f\u3067\u30a2\u30af\u30bb\u30b9\u53ef\u80fd\nultrasonic_data = data_aggregator.get_ultrasonic_data()\n# ultrasonic_data = {\"FrLH\": 450, \"FrFR\": 800, \"FrRH\": 420, ...}\n\n# \u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u3068LiDAR\u3092\u5207\u308a\u66ff\u3048\u3066\u4f7f\u7528\nif config.HAVE_LIDAR:\n    sensor_data = lidar.get_ranges()\nelse:\n    sensor_data = ultrasonic.get_ranges()\n\n# planner.py\u3067\u306e\u4f7f\u7528\uff08\u5909\u66f4\u4e0d\u8981\uff09\nsteering, throttle = planner.plan(sensor_data)\n</code></pre>"},{"location":"advanced/lidar/#lidarpy","title":"lidar.py\u306e\u6a5f\u80fd","text":"<pre><code># \u53d6\u5f97\u3067\u304d\u308b\u30c7\u30fc\u30bf\ndetection_distances  # \u5404\u30be\u30fc\u30f3\u306e\u6700\u5c0f\u8ddd\u96e2\u306e\u30ea\u30b9\u30c8 [RrLH, FrLH, FrFR, FrRH, RrRH]\ndetection_binary     # \u5404\u30be\u30fc\u30f3\u306e\u691c\u51fa\u6709\u7121 [0/1, 0/1, 0/1, 0/1, 0/1]\nimage               # LiDAR\u753b\u50cf\uff08OpenCV\u5f62\u5f0f\uff09\nmeasurements        # \u5168\u70b9\u7fa4\u30c7\u30fc\u30bf\ndetection_details   # \u8a73\u7d30\u306a\u691c\u51fa\u60c5\u5831\n</code></pre>"},{"location":"advanced/lidar/#_3","title":"\u5229\u70b9","text":"\u9805\u76ee \u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc LiDAR \u7cbe\u5ea6 \u00b13mm \u00b130mm \u7bc4\u56f2 15\u5ea6\uff08\u7247\u5074\uff09 240\u5ea6\u301c360\u5ea6 \u66f4\u65b0\u901f\u5ea6 \u301c100Hz \u301c40Hz \u30b3\u30b9\u30c8 \u4f4e\u3044 \u9ad8\u3044 \u8907\u6570\u969c\u5bb3\u7269 \u691c\u77e5\u56f0\u96e3 \u540c\u6642\u691c\u77e5\u53ef\u80fd"},{"location":"advanced/lidar/#_4","title":"\u6ce8\u610f\u4e8b\u9805","text":"<ul> <li>LiDAR\u306f\u30b7\u30ea\u30a2\u30eb\u63a5\u7d9a\u306e\u305f\u3081\u3001\u6a29\u9650\u8a2d\u5b9a\u304c\u5fc5\u8981\u306a\u5834\u5408\u304c\u3042\u308a\u307e\u3059</li> <li>\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u63a5\u7d9a\u306eLiDAR\u306fIP\u30a2\u30c9\u30ec\u30b9\u306e\u8a2d\u5b9a\u304c\u5fc5\u8981\u3067\u3059</li> <li>\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u3068\u306e\u4f75\u7528\u6642\u306f\u30c7\u30fc\u30bf\u306e\u7d71\u5408\u65b9\u6cd5\u3092\u691c\u8a0e\u3057\u3066\u304f\u3060\u3055\u3044</li> </ul>"},{"location":"advanced/lidar/#_5","title":"\u30c7\u30d0\u30c3\u30b0\u65b9\u6cd5","text":"<pre><code># LiDAR\u5358\u4f53\u3067\u306e\u52d5\u4f5c\u78ba\u8a8d\npython lidar.py\n\n# run.py\u5b9f\u884c\u6642\u306e\u30ed\u30b0\u78ba\u8a8d\npython run.py --debug\n# \"--- LiDAR\u521d\u671f\u5316\u958b\u59cb ---\" \u304c\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\n</code></pre>"},{"location":"advanced/lidar/#lidar_2","title":"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u63a5\u7d9aLiDAR\u306e\u8a2d\u5b9a","text":""},{"location":"advanced/lidar/#_6","title":"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u69cb\u6210","text":"<p>WiFi\u3067\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u63a5\u7d9a\u3057\u3064\u3064\u3001Ethernet\u3067LiDAR\u306b\u63a5\u7d9a\u3059\u308b\u5834\u5408\u306e\u8a2d\u5b9a\u3067\u3059\u3002</p> <pre><code>\u30df\u30cb\u30ab\u30fc\n\u251c\u2500\u2500 WiFi (wlP1p1s0) \u2192 \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\n\u2514\u2500\u2500 Ethernet (enP8p1s0) \u2192 LiDAR (192.168.0.10)\n</code></pre>"},{"location":"advanced/lidar/#_7","title":"\u8a2d\u5b9a\u624b\u9806","text":"<pre><code># \u63a5\u7d9a\u540d\u3092\u78ba\u8a8d\nnmcli connection show\n\n# WiFi\u3092\u9ad8\u512a\u5148\uff08\u4f4e\u30e1\u30c8\u30ea\u30c3\u30af\u5024\uff09\u306b\u8a2d\u5b9a\nsudo nmcli connection modify \"your-wifi-name\" ipv4.route-metric 100\n\n# Ethernet\u306e\u512a\u5148\u5ea6\u3092\u4e0b\u3052\u3066LiDAR\u5c02\u7528\u306b\u8a2d\u5b9a\nsudo nmcli connection modify \"hokuyo-lidar\" ipv4.route-metric 1000\nsudo nmcli connection modify \"hokuyo-lidar\" ipv4.never-default yes\n\n# LiDAR\u3078\u306e\u9759\u7684\u30eb\u30fc\u30c8\u3092\u8ffd\u52a0\nsudo nmcli connection modify \"hokuyo-lidar\" +ipv4.routes \"192.168.0.10/32\"\n\n# \u63a5\u7d9a\u3092\u518d\u8d77\u52d5\u3057\u3066\u8a2d\u5b9a\u3092\u9069\u7528\nsudo nmcli connection down \"hokuyo-lidar\" &amp;&amp; sudo nmcli connection up \"hokuyo-lidar\"\n</code></pre>"},{"location":"advanced/lidar/#_8","title":"\u8a2d\u5b9a\u78ba\u8a8d","text":"<pre><code># \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u63a5\u7d9a\uff08WiFi\u7d4c\u7531\uff09\nping -c 3 google.com\n\n# LiDAR\u63a5\u7d9a\uff08Ethernet\u7d4c\u7531\uff09\nping -c 3 192.168.0.10\n</code></pre>"},{"location":"advanced/yolo/","title":"YOLO\u7269\u4f53\u691c\u77e5","text":"<p>YOLOv11\u3092\u4f7f\u3063\u305f\u7269\u4f53\u691c\u77e5\u3068\u81ea\u52d5\u904b\u8ee2\u3078\u306e\u5fdc\u7528\u306b\u3064\u3044\u3066\u89e3\u8aac\u3057\u307e\u3059\u3002</p>"},{"location":"advanced/yolo/#_1","title":"\u6982\u8981","text":"<p>YOLO\uff08You Only Look Once\uff09\u306f\u9ad8\u901f\u306a\u7269\u4f53\u691c\u77e5\u30e2\u30c7\u30eb\u3067\u3059\u3002\u30ab\u30e1\u30e9\u753b\u50cf\u304b\u3089\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u7269\u4f53\u3092\u691c\u77e5\u3057\u3001\u81ea\u52d5\u904b\u8ee2\u306e\u5224\u65ad\u306b\u6d3b\u7528\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"advanced/yolo/#_2","title":"\u57fa\u672c\u7684\u306a\u4f7f\u3044\u65b9","text":""},{"location":"advanced/yolo/#_3","title":"\u30e2\u30c7\u30eb\u306e\u8aad\u307f\u8fbc\u307f\u3068\u63a8\u8ad6","text":"<pre><code>from ultralytics import YOLO\n\n# \u30e2\u30c7\u30eb\u306e\u8aad\u307f\u8fbc\u307f\nmodel = YOLO('yolo11n.pt')  # YOLOv11 nano\n\n# \u63a8\u8ad6\u5b9f\u884c\nresults = model(image)\n\n# \u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u63a8\u8ad6\uff08\u30ab\u30e1\u30e9\uff09\nresults = model(source=0, show=True)\n</code></pre>"},{"location":"advanced/yolo/#raspberry-pi-ai-cameraimx500","title":"Raspberry Pi AI Camera\uff08IMX500\uff09\u3068\u306e\u7d71\u5408","text":"<pre><code># IMX500\u30ab\u30e1\u30e9\u304b\u3089\u306e\u5165\u529b\nfrom picamera2 import Picamera2\n\npicam2 = Picamera2()\npicam2.start()\n\nwhile True:\n    frame = picam2.capture_array()\n    results = model(frame)\n</code></pre>"},{"location":"advanced/yolo/#imx500","title":"IMX500\u5f62\u5f0f\u3078\u306e\u30a8\u30af\u30b9\u30dd\u30fc\u30c8","text":"<pre><code># \u30e2\u30c7\u30eb\u306e\u8aad\u307f\u8fbc\u307f\nmodel = YOLO(\"yolo11n.pt\")\n\n# IMX500\u5f62\u5f0f\u3078\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\nmodel.export(format=\"imx500\")\n</code></pre>"},{"location":"advanced/yolo/#_4","title":"\u7269\u4f53\u8ffd\u5f93\u5236\u5fa1","text":"<p>\u691c\u77e5\u3057\u305f\u7269\u4f53\u3092\u8ffd\u5f93\u3059\u308b\u5236\u5fa1\u3092\u5b9f\u88c5\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"advanced/yolo/#configpy","title":"config.py\u8a2d\u5b9a","text":"<pre><code># \u7269\u4f53\u8ffd\u5f93\u5236\u5fa1\u3092\u6709\u52b9\u5316\nOBJECT_FOLLOW_ENABLED = True\n\n# \u8ffd\u5f93\u5bfe\u8c61\u30af\u30e9\u30b9ID\uff08\u4f8b: route=1, park=4\uff09\nFOLLOW_TARGET_CLASS = 1\n\n# \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u88dc\u6b63\u30b2\u30a4\u30f3\uff080.5-1.5\u63a8\u5968\uff09\nFOLLOW_STEERING_GAIN = 1.0\n\n# \u4e2d\u5fc3\u4e0d\u611f\u5e2f\uff080.05-0.2\u63a8\u5968\u3001\u753b\u50cf\u5e45\u306b\u5bfe\u3059\u308b\u6bd4\u7387\uff09\nFOLLOW_DEADZONE = 0.1\n</code></pre>"},{"location":"advanced/yolo/#_5","title":"\u5236\u5fa1\u30ed\u30b8\u30c3\u30af","text":"<pre><code>graph LR\n    A[\u30ab\u30e1\u30e9\u753b\u50cf] --&gt; B[YOLO\u691c\u77e5]\n    B --&gt; C{\u5bfe\u8c61\u691c\u51fa?}\n    C --&gt;|Yes| D[\u4e2d\u5fc3\u4f4d\u7f6e\u8a08\u7b97]\n    C --&gt;|No| E[\u76f4\u9032\u7dad\u6301]\n    D --&gt; F[\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u88dc\u6b63]\n    F --&gt; G[\u30e2\u30fc\u30bf\u30fc\u51fa\u529b]\n    E --&gt; G</code></pre>"},{"location":"advanced/yolo/#_6","title":"\u969c\u5bb3\u7269\u56de\u907f\u5236\u5fa1","text":"<p>\u691c\u77e5\u3057\u305f\u969c\u5bb3\u7269\u3092\u56de\u907f\u3059\u308b\u5236\u5fa1\u3067\u3059\u3002</p>"},{"location":"advanced/yolo/#configpy_1","title":"config.py\u8a2d\u5b9a","text":"<pre><code># \u969c\u5bb3\u7269\u56de\u907f\u5236\u5fa1\u3092\u6709\u52b9\u5316\nOBSTACLE_AVOID_ENABLED = True\n\n# \u56de\u907f\u5bfe\u8c61\u30af\u30e9\u30b9ID\uff08\u4f8b: car=0\uff09\nAVOID_TARGET_CLASS = 0\n\n# \u56de\u907f\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u30b2\u30a4\u30f3\uff080.8-1.5\u63a8\u5968\uff09\nAVOID_STEERING_GAIN = 1.2\n\n# \u56de\u907f\u5224\u5b9a\u3059\u308b\u7269\u4f53\u30b5\u30a4\u30ba\u95be\u5024\uff08\u753b\u50cf\u9762\u7a4d\u6bd4\u30010.1-0.25\u63a8\u5968\uff09\nAVOID_SIZE_THRESHOLD = 0.15\n\n# \u4e2d\u592e\u30a8\u30ea\u30a2\u5e45\uff08\u753b\u50cf\u5e45\u306b\u5bfe\u3059\u308b\u6bd4\u7387\u30010.3-0.6\u63a8\u5968\uff09\nAVOID_CENTER_ZONE = 0.4\n</code></pre>"},{"location":"advanced/yolo/#_7","title":"\u30ab\u30b9\u30bf\u30e0\u30e2\u30c7\u30eb\u306e\u5b66\u7fd2","text":""},{"location":"advanced/yolo/#_8","title":"\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u6e96\u5099","text":"<ol> <li>\u753b\u50cf\u3092\u53ce\u96c6</li> <li>\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\uff08\u30d0\u30a6\u30f3\u30c7\u30a3\u30f3\u30b0\u30dc\u30c3\u30af\u30b9\uff09</li> <li>YOLO\u5f62\u5f0f\u3067\u30a8\u30af\u30b9\u30dd\u30fc\u30c8</li> </ol>"},{"location":"advanced/yolo/#_9","title":"\u5b66\u7fd2\u5b9f\u884c","text":"<pre><code>from ultralytics import YOLO\n\n# \u30ab\u30b9\u30bf\u30e0\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3067\u5b66\u7fd2\nmodel = YOLO('yolo11n.pt')\nmodel.train(data='custom_dataset.yaml', epochs=100)\n\n# \u5b66\u7fd2\u6e08\u307f\u30e2\u30c7\u30eb\u3092\u4fdd\u5b58\nmodel.save('models/custom_yolo.pt')\n</code></pre>"},{"location":"advanced/yolo/#_10","title":"\u30ab\u30b9\u30bf\u30e0\u30af\u30e9\u30b9\u5b9a\u7fa9","text":"<pre><code># config.py\nYOLO_ENABLED = True\n\n# \u30ab\u30b9\u30bf\u30e0\u30af\u30e9\u30b9\u5b9a\u7fa9\nYOLO_CLASSES = {\n    0: \"car\",\n    1: \"route\",\n    2: \"stop_sign\",\n    3: \"traffic_light\",\n    4: \"park\"\n}\n\n# \u7269\u4f53\u8ffd\u5f93: route\u30af\u30e9\u30b9\u3092\u8ffd\u5f93\nFOLLOW_TARGET_CLASS = 1\n\n# \u969c\u5bb3\u7269\u56de\u907f: car\u30af\u30e9\u30b9\u3092\u56de\u907f\nAVOID_TARGET_CLASS = 0\n</code></pre>"},{"location":"advanced/yolo/#_11","title":"\u5236\u5fa1\u30eb\u30fc\u30eb\u306e\u7d44\u307f\u5408\u308f\u305b","text":"<p>\u4fe1\u53f7\u3084\u6a19\u8b58\u306b\u3088\u308b\u5236\u5fa1\u3082\u53ef\u80fd\u3067\u3059\u3002</p> <pre><code># \u5236\u5fa1\u30eb\u30fc\u30eb: \u4fe1\u53f7\u3084\u6a19\u8b58\u3067\u6e1b\u901f/\u505c\u6b62\nCONTROL_RULES = {\n    \"stop_sign\": {\"action\": \"stop\", \"duration\": 3.0},\n    \"traffic_light_red\": {\"action\": \"stop\"},\n    \"traffic_light_green\": {\"action\": \"go\"},\n}\n</code></pre>"},{"location":"advanced/yolo/#_12","title":"\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9","text":"\u30e2\u30c7\u30eb Jetson\u63a8\u8ad6\u901f\u5ea6 RPi\u63a8\u8ad6\u901f\u5ea6 \u7cbe\u5ea6 yolo11n ~10ms ~100ms \u6a19\u6e96 yolo11s ~20ms ~200ms \u9ad8\u3044 <p>\u63a8\u5968</p> <p>\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u6027\u304c\u5fc5\u8981\u306a\u5834\u5408\u306f<code>yolo11n</code>\uff08nano\uff09\u3092\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"basics/config/","title":"config.py \u8a2d\u5b9a\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9","text":"<p>config.py\u306e\u4e3b\u8981\u306a\u8a2d\u5b9a\u9805\u76ee\u3092\u89e3\u8aac\u3057\u307e\u3059\u3002</p>"},{"location":"basics/config/#_1","title":"\u30cf\u30f3\u30ba\u30aa\u30f3\u5411\u3051\u30af\u30a4\u30c3\u30af\u8a2d\u5b9a","text":""},{"location":"basics/config/#_2","title":"\u8d70\u884c\u30e2\u30fc\u30c9\u4e00\u89a7","text":"\u30e2\u30fc\u30c9 \u8aac\u660e \u7528\u9014 <code>manual</code> \u624b\u52d5\u64cd\u4f5c \u30c7\u30fc\u30bf\u53ce\u96c6 <code>go_straight</code> \u76f4\u9032 \u52d5\u4f5c\u78ba\u8a8d <code>right_left_3</code> 3\u30bb\u30f3\u30b5\u30fc\u3067\u969c\u5bb3\u7269\u56de\u907f \u30eb\u30fc\u30eb\u30d9\u30fc\u30b9\u8d70\u884c <code>wall_follow</code> \u58c1\u6cbf\u3044\u8d70\u884c \u53f3\u624b\u6cd5/\u5de6\u624b\u6cd5 <code>wall_follow_pid</code> PID\u5236\u5fa1\u58c1\u6cbf\u3044\u8d70\u884c PID\u5236\u5fa1\u306e\u5b66\u7fd2 <code>nn</code> \u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af \u30bb\u30f3\u30b5\u30fc\u5024\u30d9\u30fc\u30b9\u306e\u5b66\u7fd2 <code>donkeycar</code> \u8efd\u91cfCNN \u753b\u50cf\u30d9\u30fc\u30b9\u306e\u5b66\u7fd2\uff08\u304a\u3059\u3059\u3081\uff09 <code>resnet18</code> ResNet18 \u9ad8\u7cbe\u5ea6\u753b\u50cf\u8a8d\u8b58"},{"location":"basics/config/#_3","title":"\u6700\u5c0f\u9650\u306e\u8a2d\u5b9a\u5909\u66f4","text":"<pre><code># 1. \u8d70\u884c\u30e2\u30fc\u30c9\u3092\u9078\u629e\nPLAN = \"donkeycar\"  # \u307e\u305f\u306f \"manual\", \"nn\" \u306a\u3069\n\n# 2. \u4f7f\u7528\u3059\u308b\u30bb\u30f3\u30b5\u30fc\u3092\u9078\u629e\nACTIVE_SENSORS = [\"lidar\", \"camera_0\"]  # \u307e\u305f\u306f [\"ultrasonic\", \"camera_0\"]\n\n# 3. \u901f\u5ea6\u3092\u8abf\u6574\nFORWARD_STRAIGHT = 0.4  # \u76f4\u7dda\u7528\uff080.3\u301c0.5\u63a8\u5968\uff09\nFORWARD_CORNER = 0.3    # \u30ab\u30fc\u30d6\u7528\uff080.2\u301c0.4\u63a8\u5968\uff09\n\n# 4. \u5b66\u7fd2\u6e08\u307f\u30e2\u30c7\u30eb\u3092\u6307\u5b9a\uff08\u81ea\u52d5\u8d70\u884c\u6642\uff09\nMODEL_NAME = \"donkeycar_20251205_150000.pth\"\n</code></pre>"},{"location":"basics/config/#_4","title":"\u30c7\u30d0\u30a4\u30b9\u8a2d\u5b9a","text":"<pre><code># \u30c7\u30d0\u30a4\u30b9\u81ea\u52d5\u691c\u51fa\uff08\u901a\u5e38\u306f\u5909\u66f4\u4e0d\u8981\uff09\nDEVICE_TYPE = \"auto\"  # \"rpi4\", \"rpi5\", \"jetson\", \"auto\"\n</code></pre>"},{"location":"basics/config/#_5","title":"\u8d70\u884c\u30e2\u30fc\u30c9","text":"<pre><code># \u5224\u65ad\u30e2\u30fc\u30c9\u9078\u629e\nPLAN_LIST = [\n    \"manual\",\n    \"go_straight\",\n    \"right_left_3\",\n    \"right_left_3_records\",\n    \"wall_follow\",\n    \"wall_follow_pid\",\n    \"nn\",\n    \"donkeycar\",\n    \"resnet18\",\n    \"mobilevit_xxs\",\n    \"edgenext_xxsmall\"\n]\nPLAN = \"right_left_3\"\n</code></pre>"},{"location":"basics/config/#_6","title":"\u30bb\u30f3\u30b5\u30fc\u8a2d\u5b9a","text":""},{"location":"basics/config/#_7","title":"\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc","text":"<pre><code># \u30bb\u30f3\u30b5\u30fc\u30ea\u30b9\u30c8\nULTRASONIC_SENSOR_LIST = [\"FrLH\", \"FrFR\", \"FrRH\"]\n\n# \u6e2c\u5b9a\u30d1\u30e9\u30e1\u30fc\u30bf\nSAMPLING_TIMES = 3          # \u30b5\u30f3\u30d7\u30ea\u30f3\u30b0\u56de\u6570\nCUTOFF_RANGE = 2000         # \u30ab\u30c3\u30c8\u30aa\u30d5\u8ddd\u96e2(mm)\nDETECTION_RANGE = 500       # \u691c\u77e5\u7bc4\u56f2(mm)\nSTOP_RANGE = 100            # \u505c\u6b62\u8ddd\u96e2(mm)\nRIGHT_LEFT_RANGE = 400      # \u5de6\u53f3\u5224\u65ad\u8ddd\u96e2(mm)\n</code></pre>"},{"location":"basics/config/#_8","title":"\u30ab\u30e1\u30e9","text":"<pre><code># \u30ab\u30e1\u30e9\u8a2d\u5b9a\nHAVE_CAMERA = True\nCAMERA_WIDTH = 224\nCAMERA_HEIGHT = 224\nCAMERA_FPS = 30\n</code></pre>"},{"location":"basics/config/#_9","title":"\u30e2\u30fc\u30bf\u30fc\u8a2d\u5b9a","text":""},{"location":"basics/config/#_10","title":"\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0","text":"<pre><code># \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u306ePWM\u5024\nSTEERING_CENTER_PWM = 370\nSTEERING_WIDTH_PWM = 80\nSTEERING_RIGHT_PWM = STEERING_CENTER_PWM + STEERING_WIDTH_PWM\nSTEERING_LEFT_PWM = STEERING_CENTER_PWM - STEERING_WIDTH_PWM\n</code></pre>"},{"location":"basics/config/#_11","title":"\u30b9\u30ed\u30c3\u30c8\u30eb","text":"<pre><code># \u30b9\u30ed\u30c3\u30c8\u30eb\u306ePWM\u5024\nTHROTTLE_STOPPED_PWM = 370\nTHROTTLE_FORWARD_PWM = 500\nTHROTTLE_REVERSE_PWM = 300\n</code></pre>"},{"location":"basics/config/#_12","title":"\u51fa\u529b\u5024","text":"<pre><code># \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u51fa\u529b\uff08-1\u301c1\uff09\nLEFT = -1\nNEUTRAL = 0\nRIGHT = 1\n\n# \u30b9\u30ed\u30c3\u30c8\u30eb\u51fa\u529b\uff08-1\u301c1\uff09\nFORWARD_S = 0.6       # \u30b9\u30c8\u30ec\u30fc\u30c8\u901f\u5ea6\nFORWARD_C = 0.4       # \u30ab\u30fc\u30d6\u901f\u5ea6\nSTOP = 0\nREVERSE = -1\n</code></pre>"},{"location":"basics/config/#_13","title":"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u8a2d\u5b9a","text":"<pre><code># \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u30bf\u30a4\u30d7\nCONTROLLER_TYPE = \"joystick\"  # \"joystick\", \"pwm\", \"keyboard\"\n\n# \u30b8\u30e7\u30a4\u30b9\u30c6\u30a3\u30c3\u30af\u8a2d\u5b9a\nHAVE_JOYSTICK = True\nJOYSTICK_STEERING_SCALE = 1.0\nJOYSTICK_THROTTLE_SCALE = -1.0\nJOYSTICK_DEVICE_FILE = \"/dev/input/js0\"\n\n# \u30dc\u30bf\u30f3\u5272\u308a\u5f53\u3066\nJOYSTICK_A = 0\nJOYSTICK_B = 1\nJOYSTICK_X = 2\nJOYSTICK_Y = 3\nJOYSTICK_S = 7\n\n# \u8ef8\u5272\u308a\u5f53\u3066\nJOYSTICK_AXIS_LEFT = 0\nJOYSTICK_AXIS_RIGHT = 4\n</code></pre>"},{"location":"basics/config/#pid","title":"PID\u5236\u5fa1\u8a2d\u5b9a","text":"<pre><code># \u58c1\u6cbf\u3044\u8d70\u884c\nHAND_SIDE = \"right\"   # \"left\", \"right\"\nTARGET_RANGE = 200    # \u76ee\u6a19\u8ddd\u96e2(mm)\n\n# PID\u30d1\u30e9\u30e1\u30fc\u30bf\nK_P = 0.005\nK_I = 0.0\nK_D = 0.0005\n</code></pre>"},{"location":"basics/config/#_14","title":"\u6a5f\u68b0\u5b66\u7fd2\u8a2d\u5b9a","text":"<pre><code># NN\u6709\u52b9\u5316\nHAVE_NN = True\n\n# \u30e2\u30c7\u30eb\u30d1\u30b9\nMODEL_DIR = \"models\"\nMODEL_NAME = \"model.pth\"\nMODEL_PATH = os.path.join(MODEL_DIR, MODEL_NAME)\n\n# \u30cf\u30a4\u30d1\u30fc\u30d1\u30e9\u30e1\u30fc\u30bf\nHIDDEN_DIM = 64\nNUM_HIDDEN_LAYERS = 3\nBATCH_SIZE = 8\nEPOCHS = 5\n\n# \u63a8\u8ad6\u30a8\u30f3\u30b8\u30f3\nINFERENCE_ENGINE = \"pytorch\"  # \"tensorrt\", \"openvino\"\n\n# \u6b63\u898f\u5316\nNORMALIZE_RANGE = 2000\n</code></pre>"},{"location":"basics/config/#_15","title":"\u30c7\u30fc\u30bf\u4fdd\u5b58\u8a2d\u5b9a","text":"<pre><code># \u4fdd\u5b58\u5f62\u5f0f\nSAVE_FORMAT = \"donkeycar\"  # \"csv\", \"donkeycar\"\n\n# \u4fdd\u5b58\u5148\nDATA_DIR = \"data\"\n</code></pre>"},{"location":"basics/config/#_16","title":"\u5fa9\u5e30\u30e2\u30fc\u30c9\u8a2d\u5b9a","text":"<pre><code># \u5fa9\u5e30\u30e2\u30fc\u30c9\nRECOVERY_MODE = \"back\"        # \"none\", \"back\"\nRECOVERY_STREERING = LEFT\nRECOVERY_TIME_DURATION = 1    # \u79d2\nRECOVERY_BRAKING = 1\n</code></pre>"},{"location":"basics/config/#i2c","title":"I2C\u8a2d\u5b9a\uff08\u30d7\u30ed\u30dd\u7528\uff09","text":"<pre><code># PWM\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\nPWM_I2C_ADDRESS = 0x08\nPWM_I2C_BUS = 7               # Jetson: 7, RPi: 1\n\n# \u30ad\u30e3\u30ea\u30d6\u30ec\u30fc\u30b7\u30e7\u30f3\u5024\nPWM_CH1_LEFT_RAW = 1098\nPWM_CH1_CENTER_RAW = 1519\nPWM_CH1_RIGHT_RAW = 1916\nPWM_CH2_FORWARD_RAW = 1896\nPWM_CH2_NEUTRAL_RAW = 1468\nPWM_CH2_REVERSE_RAW = 1098\n</code></pre>"},{"location":"basics/controllers/","title":"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u8a2d\u5b9a","text":"<p>\u8eca\u4e21\u306e\u64cd\u4f5c\u306b\u306f\u3001\u4ee5\u4e0b\u306e3\u7a2e\u985e\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"basics/controllers/#_2","title":"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u30bf\u30a4\u30d7\u306e\u9078\u629e","text":"<p>config.py\u3067\u4f7f\u7528\u3059\u308b\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u3092\u6307\u5b9a\u3057\u307e\u3059\uff1a</p> <pre><code># \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u30bf\u30a4\u30d7\u306e\u9078\u629e\nCONTROLLER_TYPE = \"joystick\"  # \"joystick\", \"pwm\", \"keyboard\"\n</code></pre>"},{"location":"basics/controllers/#1","title":"1. \u30b8\u30e7\u30a4\u30b9\u30c6\u30a3\u30c3\u30af/\u30b2\u30fc\u30e0\u30d1\u30c3\u30c9\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\uff09","text":"<p>USB\u30b2\u30fc\u30e0\u30d1\u30c3\u30c9\uff08\u4f8b\uff1aLogicool F710\uff09\u3092\u4f7f\u7528\u3057\u3066\u8eca\u4e21\u3092\u64cd\u4f5c\u3057\u307e\u3059\u3002</p>"},{"location":"basics/controllers/#logicool-f710","title":"\u30dc\u30bf\u30f3\u914d\u7f6e\uff08Logicool F710\u306e\u4f8b\uff09","text":"<pre><code>        [LB]              [RB]\n         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n         \u2502                 \u2502\n    [\u2190\u2192] \u2502    [BACK] [S]   \u2502  [Y]\n    [\u2191\u2193] \u2502                 \u2502[X] [B]\n         \u2502   [LOGICOOL]    \u2502  [A]\n         \u2502                 \u2502\n         \u2502 [LSTICKB]       \u2502     [RSTICKB]\n         \u2502   (\u5de6)          \u2502       (\u53f3)\n         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"basics/controllers/#_3","title":"\u30b9\u30c6\u30a3\u30c3\u30af\u64cd\u4f5c","text":"\u30b9\u30c6\u30a3\u30c3\u30af \u64cd\u4f5c \u5de6\u30b9\u30c6\u30a3\u30c3\u30af\uff08\u5de6\u53f3\uff09 \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u64cd\u4f5c \u53f3\u30b9\u30c6\u30a3\u30c3\u30af\uff08\u4e0a\u4e0b\uff09 \u30b9\u30ed\u30c3\u30c8\u30eb\u64cd\u4f5c"},{"location":"basics/controllers/#_4","title":"\u30dc\u30bf\u30f3\u6a5f\u80fd","text":"\u30dc\u30bf\u30f3 \u6a5f\u80fd X \u30a2\u30af\u30bb\u30eb1\uff08\u4e00\u5b9a\u901f\u5ea61\uff1a\u76f4\u7dda\u7528\uff09 B \u30a2\u30af\u30bb\u30eb2\uff08\u4e00\u5b9a\u901f\u5ea62\uff1a\u30ab\u30fc\u30d6\u7528\uff09 A \u30d6\u30ec\u30fc\u30ad/\u5f8c\u9000 Y \u8a18\u9332\u958b\u59cb/\u505c\u6b62 S \u8d70\u884c\u30e2\u30fc\u30c9\u5207\u308a\u66ff\u3048\uff08user \u2192 auto_str \u2192 auto\uff09"},{"location":"basics/controllers/#_5","title":"\u8d70\u884c\u30e2\u30fc\u30c9\u306e\u5207\u308a\u66ff\u3048","text":"<p>S\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u8d70\u884c\u30e2\u30fc\u30c9\u304c\u5207\u308a\u66ff\u308f\u308a\u307e\u3059\uff1a</p> <pre><code>user \u2192 auto_str \u2192 auto \u2192 user \u2192 ...\n</code></pre> \u30e2\u30fc\u30c9 \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0 \u30b9\u30ed\u30c3\u30c8\u30eb \u7528\u9014 user \u624b\u52d5 \u624b\u52d5 \u30c7\u30fc\u30bf\u53ce\u96c6\u3001\u7df4\u7fd2 auto_str \u81ea\u52d5 \u624b\u52d5 \u30e2\u30c7\u30eb\u306e\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u3092\u30c6\u30b9\u30c8 auto \u81ea\u52d5 \u81ea\u52d5 \u5b8c\u5168\u81ea\u52d5\u8d70\u884c <p>\u30cf\u30f3\u30ba\u30aa\u30f3\u3067\u306e\u63a8\u5968\u624b\u9806</p> <ol> <li>user\u30e2\u30fc\u30c9\u3067\u30c7\u30fc\u30bf\u53ce\u96c6\uff08Y\u30dc\u30bf\u30f3\u3067\u8a18\u9332\u958b\u59cb/\u505c\u6b62\uff09</li> <li>data_viewer\u3067\u30c7\u30fc\u30bf\u78ba\u8a8d\u30fb\u5b66\u7fd2</li> <li>auto_str\u30e2\u30fc\u30c9\u3067\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u306e\u307f\u30c6\u30b9\u30c8</li> <li>\u554f\u984c\u306a\u3051\u308c\u3070auto\u30e2\u30fc\u30c9\u3067\u5b8c\u5168\u81ea\u52d5\u8d70\u884c</li> </ol>"},{"location":"basics/controllers/#configpy","title":"config.py\u8a2d\u5b9a","text":"<pre><code># \u30b8\u30e7\u30a4\u30b9\u30c6\u30a3\u30c3\u30af\u306e\u8a2d\u5b9a\nHAVE_JOYSTICK = True\nJOYSTICK_STEERING_SCALE = 1.0    # \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u611f\u5ea6\uff08-1.0\u3067\u53cd\u8ee2\uff09\nJOYSTICK_THROTTLE_SCALE = -1.0   # \u30b9\u30ed\u30c3\u30c8\u30eb\u611f\u5ea6\uff08-1.0\u3067\u53cd\u8ee2\uff09\nJOYSTICK_DEVICE_FILE = \"/dev/input/js0\"\n\n# \u30dc\u30bf\u30f3\u5272\u308a\u5f53\u3066\uff08F710\u306e\u5834\u5408\uff09\nJOYSTICK_A = 0  # \u30d6\u30ec\u30fc\u30ad\nJOYSTICK_B = 1  # \u30a2\u30af\u30bb\u30eb2\nJOYSTICK_X = 2  # \u30a2\u30af\u30bb\u30eb1\nJOYSTICK_Y = 3  # \u8a18\u9332\u505c\u6b62\u958b\u59cb\nJOYSTICK_S = 7  # \u81ea\u52d5/\u624b\u52d5\u8d70\u884c\u5207\u308a\u66ff\u3048\n\n# \u30b9\u30c6\u30a3\u30c3\u30af\u8ef8\u5272\u308a\u5f53\u3066\nJOYSTICK_AXIS_LEFT = 0   # \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\uff08\u5de6\u53f3\uff09\nJOYSTICK_AXIS_RIGHT = 4  # \u30b9\u30ed\u30c3\u30c8\u30eb\uff08\u4e0a\u4e0b\uff09\n\n# \u4e00\u5b9a\u901f\u5ea6\u306e\u8a2d\u5b9a\nFORWARD_STRAIGHT = 0.4  # \u30a2\u30af\u30bb\u30eb1\uff08X\u30dc\u30bf\u30f3\uff09\u306e\u901f\u5ea6\nFORWARD_CORNER = 0.3    # \u30a2\u30af\u30bb\u30eb2\uff08B\u30dc\u30bf\u30f3\uff09\u306e\u901f\u5ea6\n</code></pre> <p>\u4ed6\u306e\u30b2\u30fc\u30e0\u30d1\u30c3\u30c9\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408</p> <p>\u30dc\u30bf\u30f3\u756a\u53f7\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f\uff1a <pre><code>jstest /dev/input/js0\n</code></pre> \u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u3069\u306e\u756a\u53f7\u304c\u53cd\u5fdc\u3059\u308b\u304b\u78ba\u8a8d\u3057\u3001config.py\u306e\u5024\u3092\u5909\u66f4\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"basics/controllers/#2-pwm","title":"2. \u30d7\u30ed\u30dd\uff08PWM\u4fe1\u53f7\u5165\u529b\uff09","text":"<p>\u30d7\u30ed\u30dd\uff08\u9001\u4fe1\u6a5f\uff09\u304b\u3089\u306e\u4fe1\u53f7\u3092\u76f4\u63a5\u8aad\u307f\u53d6\u3063\u3066\u8eca\u4e21\u3092\u64cd\u4f5c\u3057\u307e\u3059\u3002</p>"},{"location":"basics/controllers/#_6","title":"\u6a5f\u80fd","text":"<ul> <li>I2C\u7d4c\u7531\u3067\u30d7\u30ed\u30dd\u306ePWM\u4fe1\u53f7\u3092\u8aad\u307f\u53d6\u308a</li> <li>\u30b8\u30e7\u30a4\u30b9\u30c6\u30a3\u30c3\u30af\u3068\u540c\u3058\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3067\u64cd\u4f5c\u5024\u3092\u63d0\u4f9b</li> <li>\u30ad\u30e3\u30ea\u30d6\u30ec\u30fc\u30b7\u30e7\u30f3\u6a5f\u80fd\u4ed8\u304d</li> </ul>"},{"location":"basics/controllers/#_7","title":"\u5fc5\u8981\u306a\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2","text":"<ul> <li>\u30d7\u30ed\u30dd\u9001\u4fe1\u6a5f\u30fb\u53d7\u4fe1\u6a5f</li> <li>I2C\u63a5\u7d9a\u53ef\u80fd\u306aPWM\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\uff08\u4f8b\uff1aSeeed Studio XIAO\uff09</li> </ul>"},{"location":"basics/controllers/#_8","title":"\u30ad\u30e3\u30ea\u30d6\u30ec\u30fc\u30b7\u30e7\u30f3","text":"<p>\u521d\u56de\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u6642\u306b\u3001\u30d7\u30ed\u30dd\u306e\u64cd\u4f5c\u7bc4\u56f2\u3092\u6e2c\u5b9a\u3057\u307e\u3059\uff1a</p> <pre><code># \u4eee\u60f3\u74b0\u5883\u3092\u6709\u52b9\u5316\nsource ~/venv/bin/activate\n\n# \u30ad\u30e3\u30ea\u30d6\u30ec\u30fc\u30b7\u30e7\u30f3\u30e2\u30fc\u30c9\u3067\u5b9f\u884c\npython3 pwm_controller.py calibrate\n# \u307e\u305f\u306f\u77ed\u7e2e\u5f62\npython3 pwm_controller.py c\n</code></pre> <p>\u64cd\u4f5c\u624b\u9806:</p> <ol> <li>\u30d7\u30ed\u30dd\u306e\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u3092\u5de6\u53f3\u306b\u6700\u5927\u307e\u3067\u52d5\u304b\u3059</li> <li>\u30b9\u30ed\u30c3\u30c8\u30eb\u3092\u524d\u9032\u30fb\u5f8c\u9000\u306b\u6700\u5927\u307e\u3067\u52d5\u304b\u3059</li> <li>\u5404\u4f4d\u7f6e\u30671\u301c2\u79d2\u9593\u4fdd\u6301</li> <li>Ctrl+C\u3067\u7d42\u4e86</li> </ol> <p>\u7d42\u4e86\u6642\u306b\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30ad\u30e3\u30ea\u30d6\u30ec\u30fc\u30b7\u30e7\u30f3\u7d50\u679c\u304c\u8868\u793a\u3055\u308c\u307e\u3059\uff1a</p> <pre><code>config.py\u306b\u8a2d\u5b9a\u3059\u308b\u5024:\nPWM_CH1_LEFT_RAW = 1098\nPWM_CH1_CENTER_RAW = 1519\nPWM_CH1_RIGHT_RAW = 1916\nPWM_CH2_FORWARD_RAW = 1896\nPWM_CH2_NEUTRAL_RAW = 1468\nPWM_CH2_REVERSE_RAW = 1098\n</code></pre>"},{"location":"basics/controllers/#configpy_1","title":"config.py\u8a2d\u5b9a","text":"<pre><code># \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u30bf\u30a4\u30d7\u306e\u9078\u629e\nCONTROLLER_TYPE = \"pwm\"  # joystick, pwm, keyboard\n\n# \u30d7\u30ed\u30ddPWM\u4fe1\u53f7\u8a2d\u5b9a\nPWM_I2C_ADDRESS = 0x08         # PWM\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u306eI2C\u30a2\u30c9\u30ec\u30b9\nPWM_I2C_BUS = 7                # I2C\u30d0\u30b9\u756a\u53f7\uff08Jetson: 7, RPi: 1\uff09\n\n# \u30ad\u30e3\u30ea\u30d6\u30ec\u30fc\u30b7\u30e7\u30f3\u5024\uff08\u4e0a\u8a18\u3067\u6e2c\u5b9a\u3057\u305f\u5024\u3092\u8a2d\u5b9a\uff09\nPWM_CH1_LEFT_RAW = 1098        # CH1: \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u5de6\u6700\u5927\nPWM_CH1_CENTER_RAW = 1519      # CH1: \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u4e2d\u592e\nPWM_CH1_RIGHT_RAW = 1916       # CH1: \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u53f3\u6700\u5927\nPWM_CH2_FORWARD_RAW = 1896     # CH2: \u30b9\u30ed\u30c3\u30c8\u30eb\u524d\u9032\u6700\u5927\nPWM_CH2_NEUTRAL_RAW = 1468     # CH2: \u30b9\u30ed\u30c3\u30c8\u30eb\u4e2d\u7acb\nPWM_CH2_REVERSE_RAW = 1098     # CH2: \u30b9\u30ed\u30c3\u30c8\u30eb\u5f8c\u9000\u6700\u5927\n</code></pre>"},{"location":"basics/controllers/#_9","title":"\u52d5\u4f5c\u78ba\u8a8d","text":"<pre><code># \u76e3\u8996\u30e2\u30fc\u30c9\uff08\u6b63\u898f\u5316\u3055\u308c\u305f\u5024+RAW\u5024\u3092\u8868\u793a\uff09\npython3 pwm_controller.py monitor\n\n# \u7c21\u6613\u30c6\u30b9\u30c8\u30e2\u30fc\u30c9\uff08\u6b63\u898f\u5316\u3055\u308c\u305f\u5024\u306e\u307f\u8868\u793a\uff09\npython3 pwm_controller.py test\n</code></pre> <p>I2C\u6a29\u9650\u306b\u3064\u3044\u3066</p> <p>I2C\u30c7\u30d0\u30a4\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u306b\u306f\u3001\u9069\u5207\u306a\u6a29\u9650\u304c\u5fc5\u8981\u3067\u3059\uff1a <pre><code>sudo usermod -aG i2c $USER\n# \u30ed\u30b0\u30a2\u30a6\u30c8/\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u53cd\u6620\n</code></pre></p> <p>\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0</p> <p>PWM\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u304c\u691c\u51fa\u3055\u308c\u306a\u3044\u5834\u5408\uff1a <pre><code># I2C\u30c7\u30d0\u30a4\u30b9\u3092\u78ba\u8a8d\nsudo i2cdetect -y -r 7  # Jetson Orin Nano\nsudo i2cdetect -y -r 1  # Raspberry Pi\n\n# 0x08\u306b\u30c7\u30d0\u30a4\u30b9\u304c\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\n</code></pre></p>"},{"location":"basics/controllers/#3","title":"3. \u30ad\u30fc\u30dc\u30fc\u30c9","text":"<p>\u30b8\u30e7\u30a4\u30b9\u30c6\u30a3\u30c3\u30af\u3084\u30d7\u30ed\u30dd\u304c\u4f7f\u7528\u3067\u304d\u306a\u3044\u5834\u5408\u3001\u30ad\u30fc\u30dc\u30fc\u30c9\u3067\u64cd\u4f5c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"basics/controllers/#_10","title":"\u4f7f\u7528\u65b9\u6cd5","text":"<p>config.py\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\uff1a</p> <pre><code># \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u30bf\u30a4\u30d7\u306e\u9078\u629e\nCONTROLLER_TYPE = \"keyboard\"  # joystick, pwm, keyboard\n</code></pre> <p>\u307e\u305f\u306f\u3001\u30de\u30cb\u30e5\u30a2\u30eb\u30d7\u30e9\u30f3\uff08<code>PLAN = \"manual\"</code>\uff09\u306e\u5834\u5408\u306f\u81ea\u52d5\u7684\u306b\u30ad\u30fc\u30dc\u30fc\u30c9\u30e2\u30fc\u30c9\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"basics/controllers/#_11","title":"\u30ad\u30fc\u914d\u7f6e","text":"<p>\u79fb\u52d5\u64cd\u4f5c:</p> \u30ad\u30fc \u64cd\u4f5c \u2191\uff08\u4e0a\u77e2\u5370\uff09 \u524d\u9032 \u2193\uff08\u4e0b\u77e2\u5370\uff09 \u5f8c\u9000 \u2190\uff08\u5de6\u77e2\u5370\uff09 \u5de6\u65cb\u56de \u2192\uff08\u53f3\u77e2\u5370\uff09 \u53f3\u65cb\u56de \u30b9\u30da\u30fc\u30b9\u30ad\u30fc \u505c\u6b62 <p>\u8a18\u9332\u64cd\u4f5c:</p> \u30ad\u30fc \u64cd\u4f5c R \u8a18\u9332\u958b\u59cb/\u505c\u6b62 <p>\u30e2\u30fc\u30c9\u5207\u308a\u66ff\u3048:</p> \u30ad\u30fc \u64cd\u4f5c M \u8d70\u884c\u30e2\u30fc\u30c9\u5207\u308a\u66ff\u3048\uff08user \u2192 auto_str \u2192 auto\uff09 <p>\u7d42\u4e86:</p> \u30ad\u30fc \u64cd\u4f5c Q \u307e\u305f\u306f ESC \u30d7\u30ed\u30b0\u30e9\u30e0\u7d42\u4e86 <p>\u30ad\u30fc\u30dc\u30fc\u30c9\u30e2\u30fc\u30c9\u306e\u5236\u9650</p> <ul> <li>\u30ad\u30fc\u30dc\u30fc\u30c9\u306f\u30aa\u30f3\u30aa\u30d5\u5165\u529b\u306e\u305f\u3081\u3001\u5fae\u7d30\u306a\u64cd\u4f5c\u304c\u3067\u304d\u307e\u305b\u3093</li> <li>\u30c7\u30fc\u30bf\u53ce\u96c6\u3084\u5b66\u7fd2\u7528\u306e\u8d70\u884c\u306b\u306f\u3001\u30b8\u30e7\u30a4\u30b9\u30c6\u30a3\u30c3\u30af\u307e\u305f\u306f\u30d7\u30ed\u30dd\u306e\u4f7f\u7528\u3092\u63a8\u5968\u3057\u307e\u3059</li> <li>\u30c6\u30b9\u30c8\u3084\u7c21\u6613\u7684\u306a\u52d5\u4f5c\u78ba\u8a8d\u306b\u306f\u5341\u5206\u4f7f\u7528\u3067\u304d\u307e\u3059</li> </ul>"},{"location":"basics/controllers/#_12","title":"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u306e\u6bd4\u8f03","text":"\u9805\u76ee \u30b8\u30e7\u30a4\u30b9\u30c6\u30a3\u30c3\u30af \u30d7\u30ed\u30dd \u30ad\u30fc\u30dc\u30fc\u30c9 \u4e3b\u306a\u5229\u70b9 \u30b3\u30de\u30f3\u30c9\u6570\u304c\u591a\u3044 \u7d30\u304b\u3044\u64cd\u4f5c\u304c\u53ef\u80fd \u624b\u8efd \u8a73\u7d30 \u8a18\u9332\u958b\u59cb/\u505c\u6b62\u3001\u30e2\u30fc\u30c9\u5207\u66ff\u3001\u4e00\u5b9a\u901f\u5ea6\u8d70\u884c\u306a\u3069\u591a\u6a5f\u80fd \u30a2\u30ca\u30ed\u30b0\u5165\u529b\u3067\u6ed1\u3089\u304b\u306a\u64cd\u4f5c USB\u30c7\u30d0\u30a4\u30b9\u4e0d\u8981\u3001\u3059\u3050\u306b\u4f7f\u3048\u308b \u63a8\u5968\u7528\u9014 \u5b66\u7fd2\u30fb\u958b\u767a\u5168\u822c \u7cbe\u5bc6\u8d70\u884c\u30fb\u30c7\u30fc\u30bf\u53ce\u96c6 \u30c6\u30b9\u30c8\u30fb\u30c7\u30e2"},{"location":"basics/motor/","title":"\u30e2\u30fc\u30bf\u30fc\u78ba\u8a8d","text":"<p>\u30e2\u30fc\u30bf\u30fc\uff08\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u30fb\u30b9\u30ed\u30c3\u30c8\u30eb\uff09\u306e\u52d5\u4f5c\u78ba\u8a8d\u3092\u884c\u3044\u307e\u3059\u3002</p>"},{"location":"basics/motor/#_2","title":"\u30e2\u30fc\u30bf\u30fc\u306e\u5024\u3092\u78ba\u8a8d\u3059\u308b","text":"<p>\u4fe1\u53f7\u5024\u306e\u6570\u5024\u3092\u5165\u308c\u3066Enter\u3092\u62bc\u3059\uff1a</p> <pre><code>python motor.py\n</code></pre>"},{"location":"basics/motor/#pwm","title":"\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u306ePWM\u5024\u3092\u63a2\u3059","text":"<ol> <li>\u771f\u3093\u4e2d - \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u304c\u307e\u3063\u3059\u3050\u306b\u306a\u308b\u5024</li> <li>\u5de6\u6700\u5927 - \u5de6\u3044\u3063\u3071\u3044\u306b\u5207\u3063\u305f\u5024</li> <li>\u53f3\u6700\u5927 - \u53f3\u3044\u3063\u3071\u3044\u306b\u5207\u3063\u305f\u5024</li> </ol>"},{"location":"basics/motor/#pwm_1","title":"\u30b9\u30ed\u30c3\u30c8\u30eb\u306ePWM\u5024\u3092\u63a2\u3059","text":"<ol> <li>\u30cb\u30e5\u30fc\u30c8\u30e9\u30eb - \u30e2\u30fc\u30bf\u30fc\u30c9\u30e9\u30a4\u30d0\u30fc\u304c\u30d4\u30c3\u30d4\u30c3\u30d4\u3068\u306a\u308b\u5024</li> <li>\u524d\u9032\u306e\u6700\u5927\u5024 - \u97f3\u304c\u5909\u308f\u3089\u306a\u304f\u306a\u308b\u3068\u3053\u308d</li> <li>\u5f8c\u9032\u306e\u6700\u5927\u5024 - \u97f3\u304c\u5909\u308f\u3089\u306a\u304f\u306a\u308b\u3068\u3053\u308d</li> </ol> <p>\u6ce8\u610f</p> <p>\u6975\u7aef\u306b\u5927\u304d\u306a/\u5c0f\u3055\u306a\u5024\u3092\u5165\u308c\u308b\u3068\u30e2\u30fc\u30bf\u30fc\u3092\u7834\u640d\u3059\u308b\u6050\u308c\u304c\u3042\u308b\u305f\u3081\u6ce8\u610f\uff01</p> <p>RC\u7528ESC\uff08\u30e2\u30fc\u30bf\u30fc\u30c9\u30e9\u30a4\u30d0\u30fc\uff09\u306e\u4ed5\u69d8</p> <ul> <li>\u591a\u304f\u306eRC\u7528ESC\u306f\u3001\u524d\u9032\u72b6\u614b\u304b\u3089\u76f4\u63a5\u30d0\u30c3\u30af\u3067\u304d\u307e\u305b\u3093</li> <li>\u30d0\u30c3\u30af\u3059\u308b\u306b\u306f\u3001\u4e00\u5ea6\u30cb\u30e5\u30fc\u30c8\u30e9\u30eb\u306b\u623b\u3057\u3066\u304b\u3089\u5f8c\u9032\u306ePWM\u5024\u3092\u5165\u529b</li> <li>ESC\u306e\u53d6\u6271\u8aac\u660e\u66f8\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044</li> </ul>"},{"location":"basics/motor/#configpy","title":"config.py\u306b\u5024\u3092\u4fdd\u5b58\u3059\u308b","text":"<p>\u8abf\u6574\u3057\u305f\u5024\u3092<code>config.py</code>\u306b\u4fdd\u5b58\u3057\u307e\u3059\uff1a</p> <pre><code>## \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u306ePWM\u5024\nSTEERING_CENTER_PWM = 370\nSTEERING_WIDTH_PWM = 80\nSTEERING_RIGHT_PWM = STEERING_CENTER_PWM + STEERING_WIDTH_PWM\nSTEERING_LEFT_PWM = STEERING_CENTER_PWM - STEERING_WIDTH_PWM\n\n## \u30b9\u30ed\u30c3\u30c8\u30eb\u306ePWM\u5024\nTHROTTLE_STOPPED_PWM = 370\nTHROTTLE_FORWARD_PWM = 500\nTHROTTLE_REVERSE_PWM = 300\n</code></pre>"},{"location":"basics/motor/#_3","title":"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0","text":""},{"location":"basics/motor/#_4","title":"\u30e2\u30fc\u30bf\u30fc\u304c\u52d5\u304b\u306a\u3044","text":"<ol> <li>\u96fb\u6e90\u304c\u5165\u3063\u3066\u3044\u308b\u304b\u78ba\u8a8d</li> <li>PWM\u5024\u304c\u9069\u5207\u306a\u7bc4\u56f2\u5185\u304b\u78ba\u8a8d</li> <li>ESC\u306e\u30ad\u30e3\u30ea\u30d6\u30ec\u30fc\u30b7\u30e7\u30f3\u304c\u5fc5\u8981\u306a\u5834\u5408\u304c\u3042\u308b</li> </ol>"},{"location":"basics/motor/#_5","title":"\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u304c\u9006\u306b\u52d5\u304f","text":"<p><code>STEERING_WIDTH_PWM</code>\u306e\u7b26\u53f7\u3092\u53cd\u8ee2\uff1a <pre><code>STEERING_WIDTH_PWM = -80\n</code></pre></p>"},{"location":"basics/motor/#_6","title":"\u30b9\u30ed\u30c3\u30c8\u30eb\u304c\u53cd\u5fdc\u3057\u306a\u3044","text":"<ol> <li>ESC\u304c\u30cb\u30e5\u30fc\u30c8\u30e9\u30eb\u4f4d\u7f6e\u3092\u8a8d\u8b58\u3057\u3066\u3044\u308b\u304b\u78ba\u8a8d</li> <li><code>THROTTLE_STOPPED_PWM</code>\u306e\u5024\u3092\u5fae\u8abf\u6574</li> </ol>"},{"location":"basics/sensors/","title":"\u30bb\u30f3\u30b5\u30fc\u78ba\u8a8d","text":"<p>\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u304a\u3088\u3073LiDAR\u306e\u52d5\u4f5c\u78ba\u8a8d\u3092\u884c\u3044\u307e\u3059\u3002</p>"},{"location":"basics/sensors/#_2","title":"\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u306e\u5024\u3092\u78ba\u8a8d\u3059\u308b","text":"<pre><code>python ultrasonic.py\n</code></pre>"},{"location":"basics/sensors/#_3","title":"\u30c7\u30d0\u30a4\u30b9\u81ea\u52d5\u5bfe\u5fdc","text":"<p><code>ultrasonic.py</code>\u306f\u81ea\u52d5\u7684\u306b\u30c7\u30d0\u30a4\u30b9\u3092\u691c\u51fa\u3057\u3001\u9069\u5207\u306aGPIO\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u9078\u629e\u3057\u307e\u3059\uff1a</p> \u30c7\u30d0\u30a4\u30b9 \u4f7f\u7528\u30e9\u30a4\u30d6\u30e9\u30ea Raspberry Pi 4\u4ee5\u524d <code>RPi.GPIO</code> Raspberry Pi 5 <code>gpiozero</code>\uff08lgpio\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\uff09 Jetson Orin Nano <code>Jetson.GPIO</code>"},{"location":"basics/sensors/#_4","title":"\u6e2c\u5b9a\u30c6\u30b9\u30c8\u306e\u9805\u76ee","text":""},{"location":"basics/sensors/#_5","title":"\u57fa\u672c\u52d5\u4f5c\u78ba\u8a8d","text":"<ul> <li>\u5404\u30bb\u30f3\u30b5\u30fc\u304c\u6b63\u3057\u304f\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d</li> <li>\u6e2c\u5b9a\u5024\u304c\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d</li> </ul>"},{"location":"basics/sensors/#_6","title":"\u7cbe\u5ea6\u30c6\u30b9\u30c8","text":"<ul> <li>\u5b9a\u898f\u3067\u5b9f\u969b\u306e\u8ddd\u96e2\u3092\u6e2c\u308a\u3001\u6e2c\u5b9a\u5024\u3068\u306e\u8aa4\u5dee\u3092\u78ba\u8a8d\uff08\u00b13mm\u4ee5\u5185\u304c\u76ee\u5b89\uff09</li> <li>\u7570\u306a\u308b\u8ddd\u96e2\uff0810cm\u300150cm\u3001100cm\u3001200cm\uff09\u3067\u306e\u6e2c\u5b9a\u7cbe\u5ea6\u3092\u691c\u8a3c</li> </ul>"},{"location":"basics/sensors/#_7","title":"\u691c\u77e5\u7bc4\u56f2\u30c6\u30b9\u30c8","text":"<ul> <li>\u6700\u5c0f\u691c\u77e5\u8ddd\u96e2\uff08\u7d042cm\uff09\u306e\u78ba\u8a8d</li> <li>\u6700\u5927\u691c\u77e5\u8ddd\u96e2\uff08\u8a2d\u5b9a\u5024\u307e\u3067\uff09\u306e\u78ba\u8a8d</li> <li>\u691c\u77e5\u89d2\u5ea6\uff08\u7d04\u00b115\u5ea6\uff09\u3092\u624b\u3092\u304b\u3056\u3057\u3066\u78ba\u8a8d</li> </ul>"},{"location":"basics/sensors/#_8","title":"\u6750\u8cea\u306b\u3088\u308b\u5f71\u97ff","text":"<ul> <li>\u786c\u3044\u5e73\u9762\uff08\u58c1\u3001\u677f\uff09\u3067\u306e\u6e2c\u5b9a</li> <li>\u67d4\u3089\u304b\u3044\u7d20\u6750\uff08\u5e03\u3001\u30b9\u30dd\u30f3\u30b8\uff09\u3067\u306e\u6e2c\u5b9a</li> <li>\u89d2\u5ea6\u306e\u3042\u308b\u9762\u3067\u306e\u53cd\u5c04\u78ba\u8a8d</li> </ul>"},{"location":"basics/sensors/#_9","title":"\u3084\u3063\u3066\u307f\u3088\u3046\uff01","text":"<ul> <li>\u5b9a\u898f\u3067\u8ddd\u96e2\u3092\u6e2c\u308a\u3001\u6e2c\u5b9a\u5024\u3068\u306e\u6bd4\u8f03\u3092\u3059\u308b</li> <li>\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u306e\u6e2c\u5b9a\u53ef\u80fd\u7bc4\u56f2\uff08\u89d2\u5ea6\uff09\u3092\u624b\u3092\u304b\u3056\u3057\u3066\u8abf\u3079\u308b</li> <li>\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u306e\u6570\u3092\u5909\u3048\u308b</li> <li>\u30b5\u30f3\u30d7\u30ea\u30f3\u30b0\u30b5\u30a4\u30af\u30eb\u3092\u5909\u3048\u308b</li> </ul>"},{"location":"basics/sensors/#monitorpy-","title":"monitor.py - \u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u76e3\u8996","text":"<p><code>monitor.py</code>\u3067\u8d70\u884c\u4e2d\u306e\u30ed\u30dc\u30c3\u30c8\u3092\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u76e3\u8996\u3067\u304d\u307e\u3059\u3002</p> <pre><code># \u5358\u72ec\u3067\u76e3\u8996\u30b5\u30fc\u30d0\u30fc\u3092\u8d77\u52d5\npython monitor.py\n\n# run.py\u3068\u9023\u643a\u3057\u3066\u4f7f\u7528\uff08\u63a8\u5968\uff09\npython run.py\n</code></pre> <p>\u30d6\u30e9\u30a6\u30b6\u3067 <code>http://localhost:8888</code> \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"basics/sensors/#lidar","title":"LiDAR\u306e\u5024\u3092\u78ba\u8a8d\u3059\u308b","text":"<p>LiDAR\u30bb\u30f3\u30b5\u306e\u52d5\u4f5c\u78ba\u8a8d\u3092\u884c\u3044\u307e\u3059\u3002</p> <pre><code>python lidar.py\n</code></pre> <p>\u30d6\u30e9\u30a6\u30b6\u3067 <code>http://localhost:8080</code> \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u3001\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067LiDAR\u306e\u70b9\u7fa4\u30c7\u30fc\u30bf\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"basics/sensors/#_10","title":"\u5bfe\u5fdc\u6a5f\u7a2e","text":"\u6a5f\u7a2e \u30b9\u30ad\u30e3\u30f3\u7bc4\u56f2 \u63a5\u7d9a\u65b9\u5f0f \u30c7\u30fc\u30bf\u70b9\u6570 YDLIDAR TMINI 360\u5ea6 \u30b7\u30ea\u30a2\u30eb\uff08UART\uff09 \u7d04400\u70b9 \u5317\u967d UST-20 270\u5ea6 \u30a4\u30fc\u30b5\u30cd\u30c3\u30c8 \u7d041081\u70b9"},{"location":"basics/sensors/#_11","title":"\u30be\u30fc\u30f3\u5206\u5272","text":"<p>LiDAR\u306e\u70b9\u7fa4\u30c7\u30fc\u30bf\u306f\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u3068\u540c\u30585\u3064\u306e\u30be\u30fc\u30f3\u306b\u5206\u5272\u3057\u3066\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p> <pre><code>        \u524d\u65b9\n         \u2191\n    \u5de6\u524d  FrFR  \u53f3\u524d\nFrLH  \u2190  [\u8eca]  \u2192 FrRH\n    \u5de6\u5f8c        \u53f3\u5f8c\n    RrLH       RrRH\n</code></pre> \u30be\u30fc\u30f3\u540d \u8aac\u660e RrLH \u5de6\u5f8c\u65b9 FrLH \u5de6\u524d\u65b9 FrFR \u524d\u65b9 FrRH \u53f3\u524d\u65b9 RrRH \u53f3\u5f8c\u65b9"},{"location":"basics/sensors/#lidar_1","title":"LiDAR\u6e2c\u5b9a\u30c6\u30b9\u30c8\u306e\u9805\u76ee","text":""},{"location":"basics/sensors/#_12","title":"\u57fa\u672c\u52d5\u4f5c\u78ba\u8a8d","text":"<ul> <li>LiDAR\u304c\u6b63\u3057\u304f\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d</li> <li>Web\u30d3\u30e5\u30fc\u30a2\u3067\u70b9\u7fa4\u304c\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d</li> <li>\u5404\u30be\u30fc\u30f3\u306e\u8ddd\u96e2\u5024\u304c\u66f4\u65b0\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d</li> </ul>"},{"location":"basics/sensors/#_13","title":"\u5e83\u7bc4\u56f2\u30b9\u30ad\u30e3\u30f3\u78ba\u8a8d","text":"<ul> <li>LiDAR\u306f360\u5ea6\u307e\u305f\u306f270\u5ea6\u3092\u30b9\u30ad\u30e3\u30f3</li> <li>\u8eca\u4e21\u306e\u5468\u56f2\u3092\u6b69\u3044\u3066\u3001\u3069\u306e\u4f4d\u7f6e\u3067\u691c\u51fa\u3055\u308c\u308b\u304b\u78ba\u8a8d</li> <li>\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\uff08\u7d0415\u5ea6\u00d7\u6570\u70b9\uff09\u3068\u306e\u9055\u3044\u3092\u4f53\u611f</li> </ul>"},{"location":"basics/sensors/#_14","title":"\u7cbe\u5ea6\u30c6\u30b9\u30c8","text":"<ul> <li>\u5b9a\u898f\u3067\u5b9f\u969b\u306e\u8ddd\u96e2\u3092\u6e2c\u308a\u3001LiDAR\u5024\u3068\u6bd4\u8f03</li> <li>\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u3068\u306e\u7cbe\u5ea6\u6bd4\u8f03\uff08LiDAR\u306f\u6570mm\u301c\u6570cm\u7cbe\u5ea6\uff09</li> </ul>"},{"location":"basics/sensors/#_15","title":"\u70b9\u7fa4\u5bc6\u5ea6\u306e\u78ba\u8a8d","text":"<ul> <li>1\u56de\u306e\u30b9\u30ad\u30e3\u30f3\u3067\u6570\u767e\u301c\u5343\u70b9\u306e\u30c7\u30fc\u30bf\u3092\u53d6\u5f97</li> <li>\u30d3\u30e5\u30fc\u30a2\u3067\u70b9\u7fa4\u306e\u5bc6\u5ea6\u3092\u78ba\u8a8d</li> </ul>"},{"location":"basics/sensors/#lidar_2","title":"\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u3068LiDAR\u306e\u6bd4\u8f03","text":"\u9805\u76ee \u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc LiDAR \u7cbe\u5ea6 \u00b13mm \u6570mm\u301c\u6570cm \u691c\u77e5\u7bc4\u56f2 \u7d0415\u5ea6\uff08\u7247\u5074\uff09 270\u5ea6\u301c360\u5ea6 \u66f4\u65b0\u901f\u5ea6 \u301c100Hz 10\u301c40Hz \u30b3\u30b9\u30c8 \u4f4e\u3044 \u9ad8\u3044 \u8907\u6570\u969c\u5bb3\u7269 \u691c\u77e5\u56f0\u96e3 \u540c\u6642\u691c\u77e5\u53ef\u80fd \u8a2d\u5b9a\u96e3\u6613\u5ea6 \u7c21\u5358 \u3084\u3084\u8907\u96d1"},{"location":"basics/sensors/#lidar_3","title":"LiDAR\u3067\u3084\u3063\u3066\u307f\u3088\u3046\uff01","text":"<ul> <li>\u5b9a\u898f\u3067\u8ddd\u96e2\u3092\u6e2c\u308a\u3001LiDAR\u5024\u3068\u306e\u6bd4\u8f03\u3092\u3059\u308b</li> <li>\u8eca\u4e21\u306e\u5468\u56f2360\u5ea6\u3092\u6b69\u3044\u3066\u3001\u691c\u51fa\u7bc4\u56f2\u3092\u78ba\u8a8d\u3059\u308b</li> <li>\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u3068LiDAR\u306e\u691c\u51fa\u7d50\u679c\u3092\u6bd4\u8f03\u3059\u308b</li> <li>config.py\u306e\u30be\u30fc\u30f3\u8a2d\u5b9a\uff08<code>ZONE_INDEX</code>\uff09\u3092\u5909\u66f4\u3057\u3066\u307f\u308b</li> </ul>"},{"location":"dev/color-space/","title":"\u753b\u50cf\u51e6\u7406\u306b\u304a\u3051\u308b\u8272\u7a7a\u9593\u306e\u6ce8\u610f\u4e8b\u9805","text":"<p>\u672c\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u306f\u8907\u6570\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f7f\u7528\u3057\u3066\u753b\u50cf\u3092\u6271\u3046\u305f\u3081\u3001\u8272\u7a7a\u9593\uff08RGB/BGR\uff09\u306e\u9055\u3044\u306b\u3088\u308b\u554f\u984c\u304c\u767a\u751f\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u7d71\u4e00\u30eb\u30fc\u30eb\u306b\u5f93\u3063\u3066\u958b\u767a\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"dev/color-space/#_2","title":"\u5404\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u8272\u7a7a\u9593","text":"\u30e9\u30a4\u30d6\u30e9\u30ea \u8aad\u307f\u8fbc\u307f\u95a2\u6570 \u8272\u7a7a\u9593 \u5099\u8003 OpenCV <code>cv2.imread()</code> BGR \u4e00\u822c\u7684\u306aRGB\u3068\u306f\u9006 OpenCV <code>cv2.VideoCapture.read()</code> BGR \u30ab\u30e1\u30e9\u304b\u3089\u306e\u53d6\u5f97\u3082BGR PIL/Pillow <code>Image.open()</code> RGB \u6a19\u6e96\u7684\u306aRGB\u9806\u5e8f matplotlib <code>plt.imread()</code> RGB \u8868\u793a\u7528\u9014 PyTorch/TensorFlow - RGB \u5b66\u7fd2\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306fRGB\u524d\u63d0"},{"location":"dev/color-space/#rgb","title":"\u7d71\u4e00\u30eb\u30fc\u30eb\uff1a\u3059\u3079\u3066RGB\u5f62\u5f0f\u3067\u51e6\u7406","text":"<pre><code># \u274c \u9593\u9055\u3063\u305f\u4f8b\uff1aOpenCV\u3067\u8aad\u3093\u3067\u305d\u306e\u307e\u307e\u4f7f\u7528\nimage_bgr = cv2.imread('image.jpg')  # BGR\u5f62\u5f0f\nmodel.run(image_bgr)  # BGR\u3092RGB\u3068\u8aa4\u8a8d\u8b58 \u2192 \u8272\u304c\u304a\u304b\u3057\u304f\u306a\u308b\n\n# \u2705 \u6b63\u3057\u3044\u4f8b\uff1aBGR\u2192RGB\u5909\u63db\nimage_bgr = cv2.imread('image.jpg')\nimage_rgb = cv2.cvtColor(image_bgr, cv2.COLOR_BGR2RGB)\nmodel.run(image_rgb)  # RGB\u5f62\u5f0f\u3067\u51e6\u7406\n\n# \u2705 \u6b63\u3057\u3044\u4f8b\uff1aPIL\u3067\u8aad\u307f\u8fbc\u307f\uff08\u5909\u63db\u4e0d\u8981\uff09\nfrom PIL import Image\nimage_rgb = Image.open('image.jpg').convert('RGB')\nmodel.run(np.array(image_rgb))  # \u65e2\u306bRGB\u5f62\u5f0f\n</code></pre>"},{"location":"dev/color-space/#_3","title":"\u672c\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u306e\u5b9f\u88c5","text":""},{"location":"dev/color-space/#1-camerapy","title":"1. \u30ab\u30e1\u30e9\u53d6\u5f97 (<code>camera.py</code>)","text":"<pre><code># Jetson\u30ab\u30e1\u30e9\uff1aBGR\u2192RGB\u5909\u63db\u3092\u5b9f\u88c5\u6e08\u307f\nframe_bgr = cap.read()\nframe_rgb = cv2.cvtColor(frame_bgr, cv2.COLOR_BGR2RGB)\nreturn ret, frame_rgb\n</code></pre>"},{"location":"dev/color-space/#2-train_pytorchpy","title":"2. \u5b66\u7fd2\u30c7\u30fc\u30bf\u8aad\u307f\u8fbc\u307f (<code>train_pytorch.py</code>)","text":"<pre><code># PIL\u3067RGB\u8aad\u307f\u8fbc\u307f\nimage = Image.open(img_path).convert(\"RGB\")\n</code></pre>"},{"location":"dev/color-space/#3-plannerpy","title":"3. \u63a8\u8ad6\u6642 (<code>planner.py</code>)","text":"<pre><code># camera.py\u304b\u3089RGB\u5f62\u5f0f\u3067\u53d7\u3051\u53d6\u308a\u3001\u305d\u306e\u307e\u307e\u4f7f\u7528\nimage_rgb = camera.get_frame()\nprediction = model(image_rgb)\n</code></pre>"},{"location":"dev/color-space/#_4","title":"\u3088\u304f\u3042\u308b\u554f\u984c","text":""},{"location":"dev/color-space/#1","title":"\u554f\u984c1: \u5b66\u7fd2\u3068\u63a8\u8ad6\u3067\u8272\u304c\u9055\u3046","text":"<p>\u75c7\u72b6: \u5b66\u7fd2\u6642\u306f\u6b63\u5e38\u3060\u304c\u3001\u63a8\u8ad6\u6642\u306b\u8272\u304c\u304a\u304b\u3057\u3044</p> <p>\u539f\u56e0: \u5b66\u7fd2\u30c7\u30fc\u30bf\u306fPIL(RGB)\u3001\u63a8\u8ad6\u6642\u306fOpenCV(BGR)\u3067\u8aad\u307f\u8fbc\u3093\u3067\u3044\u308b</p> <p>\u89e3\u6c7a: <pre><code># \u63a8\u8ad6\u6642\u3082RGB\u306b\u5909\u63db\nframe_rgb = cv2.cvtColor(frame_bgr, cv2.COLOR_BGR2RGB)\n</code></pre></p>"},{"location":"dev/color-space/#2","title":"\u554f\u984c2: \u753b\u50cf\u4fdd\u5b58\u6642\u306b\u8272\u304c\u5909\u308f\u308b","text":"<p>\u75c7\u72b6: OpenCV\u3067\u4fdd\u5b58\u3057\u305f\u753b\u50cf\u306e\u8272\u304c\u304a\u304b\u3057\u3044</p> <p>\u539f\u56e0: RGB\u753b\u50cf\u3092\u305d\u306e\u307e\u307ecv2.imwrite()\u3067\u4fdd\u5b58</p> <p>\u89e3\u6c7a: <pre><code># RGB\u2192BGR\u306b\u623b\u3057\u3066\u304b\u3089\u4fdd\u5b58\nimage_bgr = cv2.cvtColor(image_rgb, cv2.COLOR_RGB2BGR)\ncv2.imwrite('output.jpg', image_bgr)\n</code></pre></p>"},{"location":"dev/color-space/#3-matplotlib","title":"\u554f\u984c3: matplotlib\u3067\u8868\u793a\u304c\u304a\u304b\u3057\u3044","text":"<p>\u75c7\u72b6: OpenCV\u3067\u8aad\u3093\u3060\u753b\u50cf\u3092matplotlib\u3067\u8868\u793a\u3059\u308b\u3068\u8272\u304c\u304a\u304b\u3057\u3044</p> <p>\u539f\u56e0: BGR\u753b\u50cf\u3092RGB\u3068\u3057\u3066\u8868\u793a</p> <p>\u89e3\u6c7a: <pre><code>image_rgb = cv2.cvtColor(image_bgr, cv2.COLOR_BGR2RGB)\nplt.imshow(image_rgb)\n</code></pre></p>"},{"location":"dev/color-space/#_5","title":"\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8","text":"<p>\u958b\u767a\u6642\u306f\u4ee5\u4e0b\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\uff1a</p> <ul> <li>[ ] \u30ab\u30e1\u30e9\u53d6\u5f97\u5f8c\u306bRGB\u5909\u63db\u3057\u3066\u3044\u308b\u304b</li> <li>[ ] \u5b66\u7fd2\u30c7\u30fc\u30bf\u306e\u8aad\u307f\u8fbc\u307f\u306fPIL\u307e\u305f\u306fRGB\u5909\u63db\u6e08\u307f\u304b</li> <li>[ ] \u63a8\u8ad6\u6642\u306e\u5165\u529b\u5f62\u5f0f\u306f\u5b66\u7fd2\u6642\u3068\u540c\u3058\u304b</li> <li>[ ] \u753b\u50cf\u4fdd\u5b58\u6642\u306bBGR\u5909\u63db\u3057\u3066\u3044\u308b\u304b\uff08OpenCV\u4f7f\u7528\u6642\uff09</li> <li>[ ] \u8868\u793a\u6642\u306e\u8272\u7a7a\u9593\u306f\u6b63\u3057\u3044\u304b</li> </ul>"},{"location":"dev/gstreamer/","title":"Jetson\u5411\u3051GStreamer\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u6700\u9069\u5316","text":"<p>Jetson\u3067\u306e\u30ab\u30e1\u30e9\u53d6\u5f97\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3092\u6700\u5927\u5316\u3059\u308b\u305f\u3081\u306eGStreamer\u8a2d\u5b9a\u306b\u3064\u3044\u3066\u89e3\u8aac\u3057\u307e\u3059\u3002</p>"},{"location":"dev/gstreamer/#_1","title":"\u57fa\u672c\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3","text":""},{"location":"dev/gstreamer/#_2","title":"\u30b7\u30f3\u30d7\u30eb\u306a\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3","text":"<pre><code>import cv2\n\n# \u57fa\u672c\u7684\u306aGStreamer\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\npipeline = (\n    \"nvarguscamerasrc ! \"\n    \"video/x-raw(memory:NVMM), width=224, height=224, framerate=30/1 ! \"\n    \"nvvidconv ! \"\n    \"video/x-raw, format=BGRx ! \"\n    \"videoconvert ! \"\n    \"video/x-raw, format=BGR ! \"\n    \"appsink\"\n)\n\ncap = cv2.VideoCapture(pipeline, cv2.CAP_GSTREAMER)\n</code></pre>"},{"location":"dev/gstreamer/#camerapy","title":"\u9ad8\u6027\u80fd\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\uff08camera.py\u5b9f\u88c5\u6e08\u307f\uff09","text":"<pre><code># \u9ad8\u6027\u80fd\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u4f8b\npipeline = (\n    \"nvarguscamerasrc sensor-id=0 ! \"\n    \"video/x-raw(memory:NVMM), width=1280, height=720, framerate=60/1, format=NV12 ! \"\n    \"nvvidconv flip-method=0 ! \"\n    \"video/x-raw, width=224, height=224, format=BGRx ! \"\n    \"videoconvert ! \"\n    \"video/x-raw, format=BGR ! \"\n    \"appsink drop=true sync=false\"\n)\n</code></pre>"},{"location":"dev/gstreamer/#_3","title":"\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u8981\u7d20\u306e\u89e3\u8aac","text":"\u8981\u7d20 \u8aac\u660e <code>nvarguscamerasrc</code> NVIDIA CSI\u30ab\u30e1\u30e9\u30bd\u30fc\u30b9 <code>sensor-id=0</code> \u30ab\u30e1\u30e9ID\uff08\u30c7\u30e5\u30a2\u30eb\u30ab\u30e1\u30e9\u6642\u306f0/1\uff09 <code>memory:NVMM</code> GPU\u7d71\u5408\u30e1\u30e2\u30ea\u3092\u4f7f\u7528\uff08\u9ad8\u901f\uff09 <code>nvvidconv</code> GPU\u4e0a\u3067\u306e\u30d3\u30c7\u30aa\u5909\u63db <code>flip-method=0</code> \u753b\u50cf\u53cd\u8ee2\uff080=\u306a\u3057, 2=180\u5ea6\uff09 <code>drop=true</code> \u30d5\u30ec\u30fc\u30e0\u30c9\u30ed\u30c3\u30d7\u8a31\u53ef\uff08\u9045\u5ef6\u9632\u6b62\uff09 <code>sync=false</code> \u540c\u671f\u306a\u3057\uff08\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u6027\u512a\u5148\uff09"},{"location":"dev/gstreamer/#_4","title":"\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u6bd4\u8f03","text":"\u8a2d\u5b9a FPS \u9045\u5ef6 \u5099\u8003 \u57fa\u672c\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3 ~30 ~100ms \u5b89\u5b9a \u9ad8\u6027\u80fd\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3 ~60 ~30ms \u63a8\u5968 CPU\u51e6\u7406\u306e\u307f ~15 ~200ms \u975e\u63a8\u5968"},{"location":"dev/gstreamer/#_5","title":"\u6700\u9069\u5316\u306e\u30dd\u30a4\u30f3\u30c8","text":""},{"location":"dev/gstreamer/#1-nvmm","title":"1. NVMM\u30e1\u30e2\u30ea\u3092\u4f7f\u7528","text":"<pre><code># \u2705 GPU\u7d71\u5408\u30e1\u30e2\u30ea\uff08\u9ad8\u901f\uff09\n\"video/x-raw(memory:NVMM), ...\"\n\n# \u274c \u30b7\u30b9\u30c6\u30e0\u30e1\u30e2\u30ea\uff08\u4f4e\u901f\uff09\n\"video/x-raw, ...\"\n</code></pre>"},{"location":"dev/gstreamer/#2","title":"2. \u9069\u5207\u306a\u89e3\u50cf\u5ea6\u3067\u53d6\u5f97","text":"<pre><code># \u30ab\u30e1\u30e9\u30cd\u30a4\u30c6\u30a3\u30d6\u89e3\u50cf\u5ea6\u3067\u53d6\u5f97\u3057\u3001GPU\u4e0a\u3067\u30ea\u30b5\u30a4\u30ba\n\"width=1280, height=720 ! nvvidconv ! width=224, height=224\"\n</code></pre>"},{"location":"dev/gstreamer/#3","title":"3. \u30d5\u30ec\u30fc\u30e0\u30c9\u30ed\u30c3\u30d7\u3092\u8a31\u53ef","text":"<pre><code># \u51e6\u7406\u304c\u8ffd\u3044\u3064\u304b\u306a\u3044\u5834\u5408\u306f\u30d5\u30ec\u30fc\u30e0\u3092\u30b9\u30ad\u30c3\u30d7\n\"appsink drop=true\"\n</code></pre>"},{"location":"dev/gstreamer/#4","title":"4. \u540c\u671f\u3092\u7121\u52b9\u5316","text":"<pre><code># \u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u6027\u3092\u512a\u5148\n\"appsink sync=false\"\n</code></pre>"},{"location":"dev/gstreamer/#_6","title":"\u30c7\u30e5\u30a2\u30eb\u30ab\u30e1\u30e9\u8a2d\u5b9a","text":"<pre><code># \u30ab\u30e1\u30e90\npipeline_0 = \"nvarguscamerasrc sensor-id=0 ! ...\"\n\n# \u30ab\u30e1\u30e91\npipeline_1 = \"nvarguscamerasrc sensor-id=1 ! ...\"\n</code></pre>"},{"location":"dev/gstreamer/#_7","title":"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0","text":""},{"location":"dev/gstreamer/#_8","title":"\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u304c\u8d77\u52d5\u3057\u306a\u3044","text":"<pre><code># GStreamer\u306e\u52d5\u4f5c\u78ba\u8a8d\ngst-launch-1.0 nvarguscamerasrc ! nvoverlaysink\n\n# \u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u78ba\u8a8d\ngst-inspect-1.0 nvarguscamerasrc\n</code></pre>"},{"location":"dev/gstreamer/#_9","title":"\u30d5\u30ec\u30fc\u30e0\u30ec\u30fc\u30c8\u304c\u51fa\u306a\u3044","text":"<ol> <li>\u89e3\u50cf\u5ea6\u3092\u4e0b\u3052\u308b</li> <li><code>drop=true</code>\u3092\u8ffd\u52a0</li> <li>\u51e6\u7406\u5074\u306e\u30dc\u30c8\u30eb\u30cd\u30c3\u30af\u3092\u78ba\u8a8d</li> </ol>"},{"location":"dev/gstreamer/#_10","title":"\u753b\u50cf\u304c\u4e71\u308c\u308b","text":"<ol> <li>\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u306e\u5f62\u5f0f\u3092\u78ba\u8a8d</li> <li><code>nvvidconv</code>\u306e\u8a2d\u5b9a\u3092\u898b\u76f4\u3059</li> <li>\u30ab\u30e1\u30e9\u30b1\u30fc\u30d6\u30eb\u306e\u63a5\u7d9a\u3092\u78ba\u8a8d</li> </ol>"},{"location":"dev/gstreamer/#usb","title":"USB\u30ab\u30e1\u30e9\u306e\u5834\u5408","text":"<p>USB\u30ab\u30e1\u30e9\u306fGStreamer\u3067\u306f\u306a\u304f\u3001\u901a\u5e38\u306eOpenCV\u3067\u53d6\u5f97\uff1a</p> <pre><code># USB\u30ab\u30e1\u30e9\ncap = cv2.VideoCapture(0)\ncap.set(cv2.CAP_PROP_FRAME_WIDTH, 224)\ncap.set(cv2.CAP_PROP_FRAME_HEIGHT, 224)\ncap.set(cv2.CAP_PROP_FPS, 30)\n</code></pre> <p>USB3.0\u63a8\u5968</p> <p>\u9ad8\u89e3\u50cf\u5ea6\u30fb\u9ad8\u30d5\u30ec\u30fc\u30e0\u30ec\u30fc\u30c8\u306e\u5834\u5408\u306fUSB3.0\u30dd\u30fc\u30c8\u3092\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"exercises/chicken-race/","title":"\u30c1\u30ad\u30f3\u30ec\u30fc\u30b9\uff01\u58c1\u306b\u76f4\u524d\u3067\u6b62\u307e\u308d\u3046","text":"<p>\u58c1\u306b\u3076\u3064\u304b\u308b\u76f4\u524d\u3067\u505c\u6b62\u3059\u308b\u300c\u30c1\u30ad\u30f3\u30ec\u30fc\u30b9\u300d\u306b\u6311\u6226\u3057\u307e\u3059\u3002\u30d1\u30e9\u30e1\u30fc\u30bf\u8abf\u6574\u3067\u505c\u6b62\u8ddd\u96e2\u3092\u6700\u9069\u5316\u3057\u307e\u3057\u3087\u3046\u3002</p>"},{"location":"exercises/chicken-race/#_2","title":"\u76ee\u6a19","text":"<ul> <li>\u58c1\u306b\u3067\u304d\u308b\u3060\u3051\u8fd1\u3065\u3044\u3066\u505c\u6b62\u3059\u308b</li> <li>\u3076\u3064\u304b\u3089\u306a\u3044\u30ae\u30ea\u30ae\u30ea\u3092\u72d9\u3046</li> <li>\u30d1\u30e9\u30e1\u30fc\u30bf\u8abf\u6574\u306e\u57fa\u672c\u3092\u5b66\u3076</li> </ul>"},{"location":"exercises/chicken-race/#configpy","title":"config.py\u8a2d\u5b9a","text":"<pre><code># \u30e2\u30fc\u30bf\u30fc\u51fa\u529b\u30d1\u30e9\u30e1\u30fc\u30bf \uff08-1~1\u3067\u8a2d\u5b9a\uff09\n# \u30b9\u30ed\u30c3\u30c8\u30eb\u7528\nFORWARD_S = 0.6   # \u30b9\u30c8\u30ec\u30fc\u30c8\u3067\u306e\u5024, joy_accel1\nFORWARD_C = 0.4   # \u30ab\u30fc\u30d6\u3067\u306e\u5024, joy_accel2\nREVERSE = -1\n\n# \u5fa9\u5e30\u30e2\u30fc\u30c9\u9078\u629e\nRECOVERY_MODE = \"back\"            # none, back\nRECOVERY_STREERING = LEFT         # \u5fa9\u5e30\u6642\u306e\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u5024\nRECOVERY_TIME_DURATION = 1        # \u5fa9\u5e30\u51e6\u7406\u3092\u884c\u3046\u6642\u9593\uff08\u79d2\uff09\nRECOVERY_BRAKING = 1              # \u30d6\u30ec\u30fc\u30ad\u56de\u6570\u3001\u30d6\u30ec\u30fc\u30ad\u306b\u306fREVERSE\u306e\u5024\u3092\u5229\u7528\n</code></pre>"},{"location":"exercises/chicken-race/#_3","title":"\u8abf\u6574\u3059\u308b\u30d1\u30e9\u30e1\u30fc\u30bf","text":""},{"location":"exercises/chicken-race/#stop_range","title":"\u505c\u6b62\u8ddd\u96e2\uff08STOP_RANGE\uff09","text":"<pre><code>STOP_RANGE = 100  # mm\u5358\u4f4d\n</code></pre> <ul> <li>\u5024\u3092\u5c0f\u3055\u304f\u3059\u308b \u2192 \u3088\u308a\u58c1\u306b\u8fd1\u3065\u3044\u3066\u304b\u3089\u505c\u6b62</li> <li>\u5024\u3092\u5927\u304d\u304f\u3059\u308b \u2192 \u65e9\u3081\u306b\u505c\u6b62\uff08\u5b89\u5168\uff09</li> </ul>"},{"location":"exercises/chicken-race/#forward_s-forward_c","title":"\u901f\u5ea6\uff08FORWARD_S / FORWARD_C\uff09","text":"<pre><code>FORWARD_S = 0.6   # \u76f4\u7dda\u3067\u306e\u901f\u5ea6\nFORWARD_C = 0.4   # \u30ab\u30fc\u30d6\u3067\u306e\u901f\u5ea6\n</code></pre> <ul> <li>\u901f\u5ea6\u304c\u901f\u3044\u307b\u3069\u505c\u6b62\u8ddd\u96e2\u304c\u9577\u304f\u306a\u308b</li> <li>\u6163\u6027\u3092\u8003\u616e\u3057\u305f\u8a2d\u5b9a\u304c\u5fc5\u8981</li> </ul>"},{"location":"exercises/chicken-race/#_4","title":"\u3084\u3063\u3066\u307f\u3088\u3046\uff01","text":""},{"location":"exercises/chicken-race/#1","title":"\u30b9\u30c6\u30c3\u30d71: \u57fa\u672c\u8a2d\u5b9a\u3067\u8d70\u884c","text":"<ol> <li>\u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\u3067\u8d70\u884c\u958b\u59cb</li> <li>\u505c\u6b62\u4f4d\u7f6e\u3068\u58c1\u3068\u306e\u8ddd\u96e2\u3092\u6e2c\u5b9a</li> <li>\u8a18\u9332\u3059\u308b</li> </ol>"},{"location":"exercises/chicken-race/#2-stop_range","title":"\u30b9\u30c6\u30c3\u30d72: STOP_RANGE\u3092\u8abf\u6574","text":"<ol> <li><code>STOP_RANGE</code>\u309210mm\u5358\u4f4d\u3067\u8abf\u6574</li> <li>\u8d70\u884c\u3057\u3066\u505c\u6b62\u4f4d\u7f6e\u3092\u78ba\u8a8d</li> <li>\u6700\u9069\u306a\u5024\u3092\u63a2\u3059</li> </ol>"},{"location":"exercises/chicken-race/#3","title":"\u30b9\u30c6\u30c3\u30d73: \u901f\u5ea6\u3092\u5909\u3048\u3066\u30c6\u30b9\u30c8","text":"<ol> <li><code>FORWARD_S</code>\u3092\u5909\u66f4\uff080.4\u301c0.8\uff09</li> <li>\u540c\u3058<code>STOP_RANGE</code>\u3067\u8d70\u884c</li> <li>\u901f\u5ea6\u3068\u505c\u6b62\u8ddd\u96e2\u306e\u95a2\u4fc2\u3092\u89b3\u5bdf</li> </ol>"},{"location":"exercises/chicken-race/#_5","title":"\u8a18\u9332\u30b7\u30fc\u30c8","text":"\u8a66\u884c STOP_RANGE FORWARD_S \u505c\u6b62\u8ddd\u96e2 \u7d50\u679c 1 100mm 0.6 __mm 2 80mm 0.6 __mm 3 60mm 0.6 __mm 4 100mm 0.4 __mm 5 100mm 0.8 __mm"},{"location":"exercises/chicken-race/#_6","title":"\u30d2\u30f3\u30c8","text":"<p>\u6700\u9069\u5316\u306e\u30b3\u30c4</p> <ul> <li>\u540c\u3058\u6761\u4ef6\u3067\u8907\u6570\u56de\u30c6\u30b9\u30c8\u3057\u3066\u5e73\u5747\u3092\u53d6\u308b</li> <li>\u5e8a\u306e\u6750\u8cea\u306b\u3088\u3063\u3066\u6ed1\u308a\u3084\u3059\u3055\u304c\u5909\u308f\u308b</li> <li>\u30d0\u30c3\u30c6\u30ea\u30fc\u6b8b\u91cf\u3067\u901f\u5ea6\u304c\u5909\u308f\u308b\u3053\u3068\u304c\u3042\u308b</li> </ul> <p>\u5b89\u5168\u6ce8\u610f</p> <ul> <li>\u6700\u521d\u306f\u5b89\u5168\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u304b\u3089\u59cb\u3081\u308b</li> <li>\u58c1\u306b\u30af\u30c3\u30b7\u30e7\u30f3\u6750\u3092\u7f6e\u3044\u3066\u885d\u6483\u3092\u5438\u53ce</li> <li>\u5468\u56f2\u306b\u4eba\u304c\u3044\u306a\u3044\u3053\u3068\u3092\u78ba\u8a8d</li> </ul>"},{"location":"exercises/chicken-race/#_7","title":"\u30bf\u30a4\u30e0\u30a2\u30bf\u30c3\u30af","text":"<p>\u5b66\u7fd2\u3057\u305f\u30e2\u30c7\u30eb\u3067\u30b3\u30fc\u30b9\u3092\u8d70\u884c\u3057\u3001\u30bf\u30a4\u30e0\u3092\u7af6\u3044\u307e\u3059\u3002</p>"},{"location":"exercises/chicken-race/#_8","title":"\u30b3\u30fc\u30b9","text":""},{"location":"exercises/chicken-race/#_9","title":"\u30b7\u30f3\u30d7\u30eb\u30b3\u30fc\u30b9","text":""},{"location":"exercises/chicken-race/#_10","title":"\u30bf\u30b9\u30af\u30b3\u30fc\u30b9","text":""},{"location":"exercises/chicken-race/#_11","title":"\u30eb\u30fc\u30eb","text":"<p>\u5404\u30c1\u30fc\u30e03\u56de\u307e\u3067\u6311\u6226\u53ef\u80fd</p> <p>\u30b9\u30bf\u30fc\u30c8\u301c\u30b4\u30fc\u30eb\u307e\u3067\u306e\u30bf\u30a4\u30e0\u3092\u7af6\u3044\u307e\u3059\u3002</p>"},{"location":"exercises/chicken-race/#_12","title":"\u30da\u30ca\u30eb\u30c6\u30a3\uff08\u52a0\u7b97\uff09","text":"\u9805\u76ee \u30da\u30ca\u30eb\u30c6\u30a3 \u58c1\u3084\u969c\u5bb3\u7269\u306b\u63a5\u89e6 +1\u79d2 \u624b\u3067\u4fee\u6b63\u3057\u305f\u5834\u5408 +3\u79d2"},{"location":"exercises/chicken-race/#_13","title":"\u30dc\u30fc\u30ca\u30b9\uff08\u6e1b\u7b97\uff09","text":"<p>\u30bf\u30b9\u30af\u3092\u6210\u529f\u3059\u308b\u3068\u30dc\u30fc\u30ca\u30b9\u30bf\u30a4\u30e0\u304c\u6e1b\u7b97\u3055\u308c\u307e\u3059\u3002</p> \u30bf\u30b9\u30af \u30dc\u30fc\u30ca\u30b9 \u77e2\u5370\u306e\u5411\u304d\u306b1\u5468\u56de\u308b -5\u79d2\uff082\u5468\u76ee\u4ee5\u4e0a\u306f\u306a\u3057\uff09 P\u306e\u67a0\u5185\u3067\u58c1\u306b\u3076\u3064\u304b\u3089\u305a\u505c\u6b62 -3\u79d2 <p>\u9ad8\u5f97\u70b9\u3092\u72d9\u3046\u306b\u306f</p> <ul> <li>\u307e\u305a\u306f\u5b8c\u8d70\u3092\u76ee\u6307\u3059</li> <li>1\u5468\u30dc\u30fc\u30ca\u30b9\uff08-5\u79d2\uff09\u3092\u78ba\u5b9f\u306b\u53d6\u308b</li> <li>\u4f59\u88d5\u304c\u3042\u308c\u3070P\u30a8\u30ea\u30a2\u3067\u306e\u505c\u6b62\uff08-3\u79d2\uff09\u306b\u6311\u6226</li> </ul>"},{"location":"exercises/chicken-race/#_14","title":"\u8a08\u6e2c\u65b9\u6cd5","text":"<ol> <li> <p>\u6e96\u5099 <pre><code>python run.py\n</code></pre></p> </li> <li> <p>\u914d\u7f6e: \u30b9\u30bf\u30fc\u30c8\u30e9\u30a4\u30f3\u306b\u30df\u30cb\u30ab\u30fc\u3092\u914d\u7f6e</p> </li> <li> <p>\u958b\u59cb: S\u30dc\u30bf\u30f3\u3067\u81ea\u52d5\u904b\u8ee2\u30e2\u30fc\u30c9\u306b\u5207\u308a\u66ff\u3048</p> </li> <li> <p>\u8a08\u6e2c: \u30b9\u30c8\u30c3\u30d7\u30a6\u30a9\u30c3\u30c1\u3067\u30bf\u30a4\u30e0\u8a08\u6e2c</p> </li> <li> <p>\u7d42\u4e86: \u30b4\u30fc\u30eb\u30e9\u30a4\u30f3\u3092\u901a\u904e\uff08\u307e\u305f\u306fP\u30a8\u30ea\u30a2\u3067\u505c\u6b62\uff09\u3057\u305f\u3089\u7d42\u4e86</p> </li> </ol>"},{"location":"exercises/chicken-race/#_15","title":"\u8a18\u9332\u30b7\u30fc\u30c8","text":"\u30c1\u30fc\u30e0 1\u56de\u76ee 2\u56de\u76ee 3\u56de\u76ee \u30d9\u30b9\u30c8 \u30da\u30ca\u30eb\u30c6\u30a3 \u30dc\u30fc\u30ca\u30b9 \u6700\u7d42\u30bf\u30a4\u30e0 A __\u79d2 __\u79d2 __\u79d2 __\u79d2 +__\u79d2 -__\u79d2 __\u79d2 B __\u79d2 __\u79d2 __\u79d2 __\u79d2 +__\u79d2 -__\u79d2 __\u79d2 C __\u79d2 __\u79d2 __\u79d2 __\u79d2 +__\u79d2 -__\u79d2 __\u79d2 <p>\u6700\u7d42\u30bf\u30a4\u30e0 = \u30d9\u30b9\u30c8\u30bf\u30a4\u30e0 + \u30da\u30ca\u30eb\u30c6\u30a3 - \u30dc\u30fc\u30ca\u30b9</p>"},{"location":"exercises/chicken-race/#_16","title":"\u30bf\u30a4\u30e0\u77ed\u7e2e\u306e\u30d2\u30f3\u30c8","text":"<ol> <li>\u901f\u5ea6\u3068\u30b3\u30fc\u30ca\u30ea\u30f3\u30b0\u306e\u30d0\u30e9\u30f3\u30b9</li> <li>\u76f4\u7dda\u3067\u901f\u5ea6\u3092\u4e0a\u3052\u308b</li> <li> <p>\u30b3\u30fc\u30ca\u30fc\u624b\u524d\u3067\u9069\u5207\u306b\u6e1b\u901f</p> </li> <li> <p>\u5b66\u7fd2\u30c7\u30fc\u30bf\u306e\u8cea</p> </li> <li>\u6ed1\u3089\u304b\u306a\u64cd\u4f5c\u3067\u30c7\u30fc\u30bf\u53ce\u96c6</li> <li> <p>\u30b3\u30fc\u30ca\u30fc\u3067\u306e\u30c7\u30fc\u30bf\u3092\u5897\u3084\u3059</p> </li> <li> <p>\u30e2\u30c7\u30eb\u306e\u9078\u629e</p> </li> <li><code>donkeycar</code>: \u30d0\u30e9\u30f3\u30b9\u578b</li> <li><code>edgenext_xxsmall</code>: \u9ad8\u6027\u80fd\uff08Jetson\u63a8\u5968\uff09</li> </ol>"},{"location":"exercises/custom-rules/","title":"\u72ec\u81ea\u30eb\u30fc\u30eb\u3092\u4f5c\u6210\u3057\u3066\u307f\u3088\u3046","text":"<p>right_left_3\u30e2\u30fc\u30c9\u3092\u57fa\u306b\u3001\u72ec\u81ea\u306e\u8d70\u884c\u30eb\u30fc\u30eb\u3092\u5b9f\u88c5\u3059\u308b\u624b\u9806\u3092\u5b66\u3073\u307e\u3059\u3002</p>"},{"location":"exercises/custom-rules/#right_left_3","title":"\u57fa\u672c\u7684\u306aright_left_3\u30e2\u30fc\u30c9\u306e\u7406\u89e3","text":"<p>\u307e\u305a\u3001\u65e2\u5b58\u306eright_left_3\u30e2\u30fc\u30c9\u306e\u52d5\u4f5c\u3092\u78ba\u8a8d\u3057\u307e\u3057\u3087\u3046\u3002</p>"},{"location":"exercises/custom-rules/#plannerpyright_left_3_planner","title":"planner.py\u5185\u306eRight_Left_3_Planner\u30af\u30e9\u30b9","text":"<pre><code>def plan(self, ultrasonic_sensors):\n    \"\"\"3\u3064\u306e\u30bb\u30f3\u30b5\u30fc\uff08\u5de6\u524d\u30fb\u524d\u30fb\u53f3\u524d\uff09\u3067\u969c\u5bb3\u7269\u56de\u907f\"\"\"\n    # \u30bb\u30f3\u30b5\u30fc\u5024\u306e\u53d6\u5f97\n    left_distance = ultrasonic_sensors.get(\"FrLH\", config.CUTOFF_RANGE)\n    front_distance = ultrasonic_sensors.get(\"FrFR\", config.CUTOFF_RANGE)\n    right_distance = ultrasonic_sensors.get(\"FrRH\", config.CUTOFF_RANGE)\n\n    # \u57fa\u672c\u7684\u306a\u5224\u65ad\u30ed\u30b8\u30c3\u30af\n    if front_distance &lt; config.STOP_RANGE:\n        # \u524d\u65b9\u306b\u969c\u5bb3\u7269 \u2192 \u5de6\u53f3\u3092\u6bd4\u8f03\n        if left_distance &gt; right_distance:\n            return config.LEFT, config.FORWARD_CORNER\n        else:\n            return config.RIGHT, config.FORWARD_CORNER\n    else:\n        # \u524d\u65b9\u30af\u30ea\u30a2 \u2192 \u76f4\u9032\n        return config.NEUTRAL, config.FORWARD_STRAIGHT\n</code></pre>"},{"location":"exercises/custom-rules/#_2","title":"\u72ec\u81ea\u30eb\u30fc\u30eb\u306e\u5b9f\u88c5\u624b\u9806","text":""},{"location":"exercises/custom-rules/#1-planner","title":"\u624b\u98061: \u65b0\u3057\u3044Planner\u30af\u30e9\u30b9\u3092\u4f5c\u6210","text":"<pre><code>class My_Custom_Planner(Base_Planner):\n    def __init__(self):\n        super().__init__()\n        self.name = \"my_custom\"\n\n    def plan(self, ultrasonic_sensors):\n        \"\"\"\u72ec\u81ea\u306e\u8d70\u884c\u30eb\u30fc\u30eb\"\"\"\n        # \u30bb\u30f3\u30b5\u30fc\u5024\u306e\u53d6\u5f97\n        left_distance = ultrasonic_sensors.get(\"FrLH\", config.CUTOFF_RANGE)\n        front_distance = ultrasonic_sensors.get(\"FrFR\", config.CUTOFF_RANGE)\n        right_distance = ultrasonic_sensors.get(\"FrRH\", config.CUTOFF_RANGE)\n\n        # \u72ec\u81ea\u30eb\u30fc\u30eb\u4f8b\uff1a\u3088\u308a\u4fdd\u5b88\u7684\u306a\u8d70\u884c\n        safety_margin = 50  # \u5b89\u5168\u30de\u30fc\u30b8\u30f3(mm)\n\n        if front_distance &lt; (config.STOP_RANGE + safety_margin):\n            # \u3088\u308a\u65e9\u3081\u306b\u56de\u907f\u52d5\u4f5c\n            if left_distance &gt; right_distance + safety_margin:\n                return config.LEFT, config.FORWARD_CORNER\n            elif right_distance &gt; left_distance + safety_margin:\n                return config.RIGHT, config.FORWARD_CORNER\n            else:\n                # \u5de6\u53f3\u4e21\u65b9\u3068\u3082\u8fd1\u3044\u5834\u5408\u306f\u505c\u6b62\n                return config.NEUTRAL, config.STOP\n        else:\n            return config.NEUTRAL, config.FORWARD_STRAIGHT\n</code></pre>"},{"location":"exercises/custom-rules/#2-configpy","title":"\u624b\u98062: config.py\u306b\u65b0\u3057\u3044\u30e2\u30fc\u30c9\u3092\u8ffd\u52a0","text":"<pre><code>PLAN_LIST = [\n    \"go_straight\",\n    \"right_left_3\",\n    \"my_custom\",     # \u8ffd\u52a0\n    \"wall_follow\",\n    # ...\n]\n\nPLAN = \"my_custom\"  # \u65b0\u3057\u3044\u30e2\u30fc\u30c9\u3092\u9078\u629e\n</code></pre>"},{"location":"exercises/custom-rules/#3-plannerpy","title":"\u624b\u98063: planner.py\u306e\u30d5\u30a1\u30af\u30c8\u30ea\u95a2\u6570\u306b\u8ffd\u52a0","text":"<pre><code>def create_planner(plan_name):\n    if plan_name == \"go_straight\":\n        return Go_Straight_Planner()\n    elif plan_name == \"right_left_3\":\n        return Right_Left_3_Planner()\n    elif plan_name == \"my_custom\":     # \u8ffd\u52a0\n        return My_Custom_Planner()\n    # ...\n</code></pre>"},{"location":"exercises/custom-rules/#_3","title":"\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u306e\u30a2\u30a4\u30c7\u30a2","text":""},{"location":"exercises/custom-rules/#1","title":"1. \u901f\u5ea6\u5236\u5fa1\u306e\u6539\u826f","text":"<pre><code># \u969c\u5bb3\u7269\u306e\u8ddd\u96e2\u306b\u5fdc\u3058\u3066\u901f\u5ea6\u3092\u8abf\u6574\nif min(left_distance, front_distance, right_distance) &lt; 300:\n    throttle = config.FORWARD_CORNER * 0.7  # \u6e1b\u901f\nelse:\n    throttle = config.FORWARD_STRAIGHT\n</code></pre>"},{"location":"exercises/custom-rules/#2","title":"2. \u8907\u6570\u30bb\u30f3\u30b5\u30fc\u306e\u6d3b\u7528","text":"<pre><code># \u5f8c\u65b9\u30bb\u30f3\u30b5\u30fc\u3082\u4f7f\u7528\u3057\u3066\u3088\u308a\u5b89\u5168\u306a\u8d70\u884c\nrear_left = ultrasonic_sensors.get(\"RrLH\", config.CUTOFF_RANGE)\nrear_right = ultrasonic_sensors.get(\"RrRH\", config.CUTOFF_RANGE)\n\n# \u5f8c\u65b9\u304c\u72ed\u3044\u5834\u5408\u306f\u524d\u9032\u3092\u512a\u5148\nif min(rear_left, rear_right) &lt; 200:\n    return config.NEUTRAL, config.FORWARD_CORNER\n</code></pre>"},{"location":"exercises/custom-rules/#3","title":"3. \u72b6\u614b\u8a18\u61b6\u306e\u8ffd\u52a0","text":"<pre><code>class My_Custom_Planner(Base_Planner):\n    def __init__(self):\n        super().__init__()\n        self.last_direction = config.NEUTRAL\n        self.stuck_counter = 0\n\n    def plan(self, ultrasonic_sensors):\n        # \u524d\u56de\u306e\u65b9\u5411\u3092\u8003\u616e\u3057\u305f\u5224\u65ad\n        # \u540c\u3058\u5834\u6240\u3067\u632f\u52d5\u3059\u308b\u3053\u3068\u3092\u9632\u3050\n        ...\n</code></pre>"},{"location":"exercises/custom-rules/#_4","title":"\u30c6\u30b9\u30c8\u3068\u8abf\u6574","text":"<ol> <li><code>python run.py</code>\u3067\u65b0\u3057\u3044\u30eb\u30fc\u30eb\u3092\u30c6\u30b9\u30c8</li> <li>\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8abf\u6574\u3057\u3066\u6700\u9069\u5316</li> <li><code>python tools/graph.py</code>\u3067\u8d70\u884c\u30c7\u30fc\u30bf\u3092\u5206\u6790</li> <li>\u3055\u3089\u306a\u308b\u6539\u826f\u3092\u5b9f\u65bd</li> </ol>"},{"location":"exercises/custom-rules/#_5","title":"\u8ab2\u984c","text":""},{"location":"exercises/custom-rules/#_6","title":"\u521d\u7d1a: \u5b89\u5168\u30de\u30fc\u30b8\u30f3\u306e\u8ffd\u52a0","text":"<ul> <li>\u505c\u6b62\u8ddd\u96e2\u306b\u5b89\u5168\u30de\u30fc\u30b8\u30f3\u3092\u8ffd\u52a0</li> <li>\u5de6\u53f3\u5224\u65ad\u306b\u3082\u30de\u30fc\u30b8\u30f3\u3092\u8ffd\u52a0</li> </ul>"},{"location":"exercises/custom-rules/#_7","title":"\u4e2d\u7d1a: \u901f\u5ea6\u306e\u52d5\u7684\u5236\u5fa1","text":"<ul> <li>\u969c\u5bb3\u7269\u3068\u306e\u8ddd\u96e2\u306b\u5fdc\u3058\u3066\u901f\u5ea6\u3092\u5909\u66f4</li> <li>\u6ed1\u3089\u304b\u306a\u6e1b\u901f\u3092\u5b9f\u73fe</li> </ul>"},{"location":"exercises/custom-rules/#_8","title":"\u4e0a\u7d1a: \u30b9\u30bf\u30c3\u30af\u691c\u51fa\u3068\u56de\u5fa9","text":"<ul> <li>\u540c\u3058\u5834\u6240\u3067\u505c\u6ede\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u691c\u51fa</li> <li>\u81ea\u52d5\u7684\u306b\u30d0\u30c3\u30af\u3057\u3066\u56de\u5fa9\u3059\u308b\u6a5f\u80fd\u3092\u8ffd\u52a0</li> </ul>"},{"location":"exercises/machine-learning/","title":"\u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3067\u30eb\u30fc\u30eb\u3092\u5b66\u7fd2\u3057\u3088\u3046","text":"<p>\u30eb\u30fc\u30eb\u30d9\u30fc\u30b9\u3067\u5236\u5fa1\u3057\u3066\u3044\u305f\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u306e\u5024\u3092\u5165\u529b\u3068\u3057\u3001\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u304b\u3089\u306e\u64cd\u4f5c\u5024\u3092\u6559\u5e2b\u30c7\u30fc\u30bf\u3068\u3057\u3066\u6a21\u5023\u5b66\u7fd2\u3059\u308b\u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3067\u306e\u8d70\u884c\u3092\u5b9f\u65bd\u3057\u307e\u3059\u3002</p>"},{"location":"exercises/machine-learning/#_2","title":"\u6982\u8981","text":"<pre><code>graph LR\n    A[\u4eba\u9593\u306e\u904b\u8ee2] --&gt; B[\u30c7\u30fc\u30bf\u53ce\u96c6]\n    B --&gt; C[\u30c7\u30fc\u30bf\u5206\u6790]\n    C --&gt; D[\u5b66\u7fd2]\n    D --&gt; E[NN\u30e2\u30c7\u30eb]\n    E --&gt; F[\u81ea\u52d5\u8d70\u884c]</code></pre>"},{"location":"exercises/machine-learning/#_3","title":"\u5229\u7528\u53ef\u80fd\u306a\u30e2\u30c7\u30eb\u4e00\u89a7","text":"<p>\u7528\u9014\u306b\u5fdc\u3058\u3066\u8907\u6570\u306e\u30e2\u30c7\u30eb\u304b\u3089\u9078\u629e\u3067\u304d\u307e\u3059\uff1a</p> \u30e2\u30c7\u30eb\u540d \u5165\u529b\u30c7\u30fc\u30bf \u7279\u5fb4 \u5b66\u7fd2\u6642\u9593 \u63a8\u8ad6\u901f\u5ea6 \u304a\u3059\u3059\u3081\u5ea6 donkeycar \u753b\u50cf \u8efd\u91cfCNN\u3001\u30d0\u30e9\u30f3\u30b9\u578b \u4e2d \u901f\u3044 \u2605\u2605\u2605\u2605\u2605 nn \u30bb\u30f3\u30b5\u30fc\u5024 \u5168\u7d50\u5408NN\u3001\u30b7\u30f3\u30d7\u30eb \u77ed \u975e\u5e38\u306b\u901f\u3044 \u2605\u2605\u2605\u2606\u2606 resnet18 \u753b\u50cf \u9ad8\u7cbe\u5ea6\u3001\u4e8b\u524d\u5b66\u7fd2\u6e08\u307f \u9577 \u4e2d \u2605\u2605\u2605\u2605\u2606 mobilevit_xxs \u753b\u50cf Vision Transformer \u4e2d \u4e2d \u2605\u2605\u2605\u2606\u2606 edgenext_xxsmall \u753b\u50cf \u30a8\u30c3\u30b8\u6700\u9069\u5316 \u4e2d \u901f\u3044 \u2605\u2605\u2605\u2605\u2606"},{"location":"exercises/machine-learning/#_4","title":"\u30e2\u30c7\u30eb\u8a73\u7d30","text":""},{"location":"exercises/machine-learning/#donkeycarcnn-","title":"donkeycar\uff08\u8efd\u91cfCNN\uff09- \u304a\u3059\u3059\u3081","text":"<p>DonkeyCar\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u8efd\u91cf\u7573\u307f\u8fbc\u307f\u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3002</p> <pre><code>\u5165\u529b\u753b\u50cf(224x224x3) \u2192 Conv2D\u00d73 \u2192 \u5168\u7d50\u5408\u5c64 \u2192 \u51fa\u529b(steering, throttle)\n</code></pre> <ul> <li>\u2705 \u8efd\u91cf\u3067\u9ad8\u901f\uff08\u7d04600 FPS\uff09</li> <li>\u2705 \u5b66\u7fd2\u6642\u9593\u304c\u77ed\u3044\uff0830\u30a8\u30dd\u30c3\u30af\u3067\u7d0410-20\u5206\uff09</li> <li>\u2705 Raspberry Pi\u3067\u3082\u52d5\u4f5c\u53ef\u80fd</li> <li>\u2705 \u521d\u5fc3\u8005\u306b\u6700\u9069</li> </ul>"},{"location":"exercises/machine-learning/#nn","title":"nn\uff08\u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\uff09","text":"<p>\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc/LiDAR\u306e\u8ddd\u96e2\u30c7\u30fc\u30bf\u304b\u3089\u64cd\u4f5c\u3092\u5b66\u7fd2\u3002\u753b\u50cf\u3092\u4f7f\u308f\u306a\u3044\u30b7\u30f3\u30d7\u30eb\u306a\u30e2\u30c7\u30eb\u3002</p> <pre><code>\u30bb\u30f3\u30b5\u30fc\u5165\u529b(5\u5024) \u2192 \u5168\u7d50\u5408\u5c64\u00d73 \u2192 \u51fa\u529b(steering, throttle)\n</code></pre> <ul> <li>\u2705 \u975e\u5e38\u306b\u8efd\u91cf\uff08\u6570KB\uff09</li> <li>\u2705 \u5b66\u7fd2\u304c\u9ad8\u901f\uff0810\u30a8\u30dd\u30c3\u30af\u3067\u6570\u5206\uff09</li> <li>\u2705 \u30ab\u30e1\u30e9\u4e0d\u8981</li> <li>\u26a0\ufe0f \u753b\u50cf\u30e2\u30c7\u30eb\u3088\u308a\u7cbe\u5ea6\u306f\u52a3\u308b</li> </ul>"},{"location":"exercises/machine-learning/#resnet18resnet18","title":"resnet18\uff08ResNet18\uff09","text":"<p>ImageNet\u3067\u4e8b\u524d\u5b66\u7fd2\u6e08\u307f\u306e\u30e2\u30c7\u30eb\u3092\u8ee2\u79fb\u5b66\u7fd2\u3002</p> <ul> <li>\u2705 \u9ad8\u7cbe\u5ea6\uff08\u8907\u96d1\u306a\u30b3\u30fc\u30b9\u306b\u5f37\u3044\uff09</li> <li>\u2705 \u5c11\u306a\u3044\u30c7\u30fc\u30bf\u3067\u3082\u5b66\u7fd2\u53ef\u80fd</li> <li>\u26a0\ufe0f \u5b66\u7fd2\u6642\u9593\u304c\u9577\u3044\uff0830\u30a8\u30dd\u30c3\u30af\u306730-60\u5206\uff09</li> <li>\u26a0\ufe0f \u30e2\u30c7\u30eb\u30b5\u30a4\u30ba\u304c\u5927\u304d\u3044\uff08\u7d0445MB\uff09</li> </ul>"},{"location":"exercises/machine-learning/#mobilevit_xxs-edgenext_xxsmall","title":"mobilevit_xxs / edgenext_xxsmall","text":"<p>\u6700\u65b0\u306e\u30a8\u30c3\u30b8AI\u5411\u3051\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3002TensorRT\u6700\u9069\u5316\u3067\u9ad8\u901f\u5316\u3002</p> <ul> <li>\u2705 TensorRT\u6700\u9069\u5316\u30673.9\u301c5.15\u500d\u9ad8\u901f\u5316</li> <li>\u2705 Jetson\u3067\u6700\u9ad8\u6027\u80fd</li> <li>\u26a0\ufe0f PyTorch\u306e\u307e\u307e\u3060\u3068\u9045\u3044</li> </ul>"},{"location":"exercises/machine-learning/#_5","title":"\u30e2\u30c7\u30eb\u9078\u629e\u30ac\u30a4\u30c9","text":"\u72b6\u6cc1 \u304a\u3059\u3059\u3081\u30e2\u30c7\u30eb \u521d\u5fc3\u8005\u30fb\u30cf\u30f3\u30ba\u30aa\u30f3 donkeycar \u30bb\u30f3\u30b5\u30fc\u306e\u307f\u3067\u8a66\u3057\u305f\u3044 nn \u9ad8\u7cbe\u5ea6\u3092\u76ee\u6307\u3059 resnet18, edgenext_xxsmall Jetson + TensorRT edgenext_xxsmall"},{"location":"exercises/machine-learning/#jetson-orin-nano-tensorrt","title":"\u63a8\u8ad6\u901f\u5ea6\u306e\u6bd4\u8f03\uff08Jetson Orin Nano + TensorRT\uff09","text":"\u30e2\u30c7\u30eb \u63a8\u8ad6\u6642\u9593 FPS \u901f\u5ea6\u5411\u4e0a donkeycar 1.65ms 606 1.26x edgenext_xxsmall 4.42ms 226 5.15x resnet18 4.89ms 204 2.12x mobilevit_xxs 7.43ms 134 3.92x"},{"location":"exercises/machine-learning/#configpy","title":"config.py\u8a2d\u5b9a","text":"<pre><code># NN\u30d1\u30e9\u30e1\u30fc\u30bf\nHAVE_NN = True\n\n## \u5b66\u7fd2\u6e08\u307f\u30e2\u30c7\u30eb\u306e\u30d1\u30b9\nmodel_dir = \"models\"\nmodel_name = \"model_20240709_record_20240624_023159.csv_epoch_30_uls_RrLH_FrLH_Fr_FrRH_RrRH.pth\"\nmodel_path = os.path.join(model_dir, model_name)\n\n## \u30e2\u30c7\u30eb\u3068\u5b66\u7fd2\u306e\u30cf\u30a4\u30d1\u30fc\u30d1\u30e9\u30e1\u30fc\u30bf\u8a2d\u5b9a\nhidden_dim = 64       # \u96a0\u308c\u5c64\u306e\u30ce\u30fc\u30c9\u6570\nnum_hidden_layers = 3 # \u96a0\u308c\u5c64\u306e\u6570\nbatch_size = 8\n</code></pre>"},{"location":"exercises/machine-learning/#_6","title":"\u5b66\u7fd2\u624b\u9806","text":""},{"location":"exercises/machine-learning/#1","title":"\u30b9\u30c6\u30c3\u30d71: \u30c7\u30fc\u30bf\u53ce\u96c6","text":"<p>\u30de\u30cb\u30e5\u30a2\u30eb\u30e2\u30fc\u30c9\u3067\u8d70\u884c\u3057\u3001\u64cd\u4f5c\u30c7\u30fc\u30bf\u3092\u8a18\u9332\uff1a</p> <pre><code>python run.py\n</code></pre> <ul> <li>Y\u30dc\u30bf\u30f3\uff08\u307e\u305f\u306f\u8a2d\u5b9a\u3057\u305f\u30ad\u30fc\uff09\u3067\u8a18\u9332\u958b\u59cb/\u505c\u6b62</li> <li>\u3067\u304d\u308b\u3060\u3051\u591a\u304f\u306e\u30d1\u30bf\u30fc\u30f3\u3092\u53ce\u96c6</li> </ul>"},{"location":"exercises/machine-learning/#2","title":"\u30b9\u30c6\u30c3\u30d72: \u5b66\u7fd2\u5b9f\u884c","text":"<pre><code>python train_pytorch.py\n</code></pre>"},{"location":"exercises/machine-learning/#3","title":"\u30b9\u30c6\u30c3\u30d73: \u63a8\u8ad6\u5b9f\u884c","text":"<pre><code># config.py\nPLAN = \"nn\"\n</code></pre> <pre><code>python run.py\n</code></pre>"},{"location":"exercises/machine-learning/#train_pytorchpy","title":"train_pytorch.py\u306e\u4f7f\u7528\u65b9\u6cd5","text":""},{"location":"exercises/machine-learning/#_7","title":"\u57fa\u672c\u7684\u306a\u4f7f\u3044\u65b9","text":"<pre><code># config.py\u306e\u8a2d\u5b9a\u306b\u57fa\u3065\u3044\u3066\u81ea\u52d5\u7684\u306b\u5b66\u7fd2\u3092\u5b9f\u884c\npython train_pytorch.py\n</code></pre>"},{"location":"exercises/machine-learning/#_8","title":"\u4e3b\u306a\u6a5f\u80fd","text":"<ol> <li>\u81ea\u52d5\u30c7\u30fc\u30bf\u8aad\u307f\u8fbc\u307f: CSV\u5f62\u5f0f\u307e\u305f\u306fDonkeycar\u5f62\u5f0f\u3092\u81ea\u52d5\u5224\u5225</li> <li>\u30e2\u30c7\u30eb\u81ea\u52d5\u9078\u629e: config.py\u306ePLAN\u8a2d\u5b9a\u306b\u57fa\u3065\u3044\u3066\u30e2\u30c7\u30eb\u3092\u9078\u629e</li> <li>\u7d99\u7d9a\u5b66\u7fd2\u5bfe\u5fdc: \u65e2\u5b58\u30e2\u30c7\u30eb\u304b\u3089\u306e\u5b66\u7fd2\u518d\u958b\u304c\u53ef\u80fd</li> <li>\u30c7\u30fc\u30bf\u62e1\u5f35: \u81ea\u52d5\u7684\u306b\u30c7\u30fc\u30bf\u30aa\u30fc\u30b0\u30e1\u30f3\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u9069\u7528</li> <li>Early Stopping: \u904e\u5b66\u7fd2\u3092\u9632\u3050\u305f\u3081\u306e\u65e9\u671f\u505c\u6b62\u6a5f\u80fd</li> <li>\u30e2\u30c7\u30eb\u5909\u63db\u63d0\u6848: Jetson\u306a\u3089TensorRT\u3001Raspberry Pi\u306a\u3089OpenVINO\u3078\u306e\u5909\u63db\u3092\u63d0\u6848</li> <li>\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u6b63\u898f\u5316: \u8ddd\u96e2\u5024\u30920\u301c1\u306e\u7bc4\u56f2\u306b\u6b63\u898f\u5316</li> </ol>"},{"location":"exercises/machine-learning/#_9","title":"\u5b66\u7fd2\u306e\u6d41\u308c","text":"<ol> <li>\u30c7\u30fc\u30bf\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u81ea\u52d5\u9078\u629e\uff08\u6700\u65b0\u306e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\uff09</li> <li>\u8a2d\u5b9a\u5185\u5bb9\u306e\u78ba\u8a8d\u30d7\u30ed\u30f3\u30d7\u30c8\u304c\u8868\u793a</li> <li>\u7d99\u7d9a\u5b66\u7fd2\u306e\u5834\u5408\u306f\u65e2\u5b58\u30e2\u30c7\u30eb\u306e\u8aad\u307f\u8fbc\u307f\u78ba\u8a8d</li> <li>\u5b66\u7fd2\u5b9f\u884c\uff08\u9032\u6357\u3068\u30ed\u30b9\u304c\u8868\u793a\uff09</li> <li>\u30e2\u30c7\u30eb\u4fdd\u5b58</li> <li>\u30c7\u30d0\u30a4\u30b9\u306b\u5fdc\u3058\u3066TensorRT/OpenVINO\u5909\u63db\u3092\u63d0\u6848</li> </ol>"},{"location":"exercises/machine-learning/#_10","title":"\u5229\u7528\u53ef\u80fd\u306a\u30e2\u30c7\u30eb","text":"\u30e2\u30c7\u30eb \u8aac\u660e \u5165\u529b \u7528\u9014 <code>nn</code> \u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u7528NN \u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u5024 \u57fa\u672c\u7684\u306a\u5b66\u7fd2\u30d9\u30fc\u30b9\u5236\u5fa1 <code>donkeycar</code> \u8efd\u91cfCNN \u30ab\u30e1\u30e9\u753b\u50cf \u9ad8\u901f\u753b\u50cf\u8a8d\u8b58\u5236\u5fa1 <code>resnet18</code> ResNet18 \u30ab\u30e1\u30e9\u753b\u50cf \u9ad8\u7cbe\u5ea6\u753b\u50cf\u8a8d\u8b58 <code>mobilevit_xxs</code> MobileViT XXS \u30ab\u30e1\u30e9\u753b\u50cf \u30e2\u30d0\u30a4\u30eb\u5411\u3051 <code>edgenext_xxsmall</code> EdgeNeXt XXSmall \u30ab\u30e1\u30e9\u753b\u50cf \u30a8\u30c3\u30b8\u30c7\u30d0\u30a4\u30b9\u6700\u9069\u5316"},{"location":"exercises/machine-learning/#configpy_1","title":"config.py\u306e\u91cd\u8981\u306a\u8a2d\u5b9a","text":"<pre><code># \u4f7f\u7528\u3059\u308b\u30e2\u30c7\u30eb\u30d7\u30e9\u30f3\nPLAN = \"donkeycar\"  # \"nn\", \"donkeycar\", \"resnet18\", etc.\n\n# \u30c7\u30fc\u30bf\u5f62\u5f0f\nSAVE_FORMAT = \"donkeycar\"  # \"csv\" \u307e\u305f\u306f \"donkeycar\"\n\n# \u5b66\u7fd2\u30d1\u30e9\u30e1\u30fc\u30bf\nEPOCHS = 5\nBATCH_SIZE = 8\n\n# \u30e2\u30c7\u30eb\u4fdd\u5b58\u5148\nMODEL_DIR = \"models\"\nMODEL_NAME = \"my_model.pth\"  # \u7d99\u7d9a\u5b66\u7fd2\u3059\u308b\u5834\u5408\u306f\u65e2\u5b58\u30e2\u30c7\u30eb\u540d\u3092\u6307\u5b9a\n\n# \u63a8\u8ad6\u30a8\u30f3\u30b8\u30f3\uff08\u5b66\u7fd2\u6642\u306fpytorch\u3001\u63a8\u8ad6\u6642\u306b\u5909\u66f4\u53ef\u80fd\uff09\nINFERENCE_ENGINE = \"pytorch\"  # \"tensorrt\", \"openvino\"\n\n# \u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u6b63\u898f\u5316\nNORMALIZE_RANGE = 2000  # 2000mm \u2192 1.0\n</code></pre>"},{"location":"exercises/machine-learning/#_11","title":"\u30ab\u30e1\u30e9\u30c7\u30fc\u30bf\u306e\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3068\u5b66\u7fd2","text":"<p>\u30ab\u30e1\u30e9\u3092\u4f7f\u3063\u305f\u753b\u50cf\u8a8d\u8b58\u30e2\u30c7\u30eb\u306e\u5b66\u7fd2\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u624b\u9806\u3092\u63a8\u5968\u3057\u307e\u3059\uff1a</p>"},{"location":"exercises/machine-learning/#1_1","title":"1. \u30c7\u30fc\u30bf\u53ce\u96c6","text":"<pre><code># config.py\nSAVE_FORMAT = \"donkeycar\"  # Donkeycar\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u4fdd\u5b58\n</code></pre>"},{"location":"exercises/machine-learning/#2_1","title":"2. \u30c7\u30fc\u30bf\u5206\u6790\u30fb\u5b66\u7fd2\u30c4\u30fc\u30eb","text":""},{"location":"exercises/machine-learning/#data_viewer","title":"data_viewer\uff08\u63a8\u5968\uff09","text":"<p>data_viewer\u306f\u3001\u8d70\u884c\u30c7\u30fc\u30bf\u306e\u53ef\u8996\u5316\u30fb\u5206\u6790\u30fb\u5b66\u7fd2\u3092\u884c\u3046Web\u30d9\u30fc\u30b9\u30c4\u30fc\u30eb\u3067\u3059\u3002</p> <p>\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb:</p> <pre><code># \u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u30af\u30ed\u30fc\u30f3\ngit clone https://github.com/Romihi/data_viewer.git\ncd data_viewer\n\n# \u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\npip install -r requirements.txt\n</code></pre> <p>\u8d77\u52d5\u65b9\u6cd5:</p> <pre><code>python app.py\n# \u307e\u305f\u306f\n./run.sh\n</code></pre> <p>\u30d6\u30e9\u30a6\u30b6\u3067 <code>http://localhost:5000</code> \u306b\u30a2\u30af\u30bb\u30b9</p> <p>\u4e3b\u306a\u6a5f\u80fd:</p> \u6a5f\u80fd \u8aac\u660e \u30c7\u30fc\u30bf\u53ef\u8996\u5316 Chart.js\u306b\u3088\u308b\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u306a\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u30c1\u30e3\u30fc\u30c8 \u30d2\u30b9\u30c8\u30b0\u30e9\u30e0 \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u30fb\u30b9\u30ed\u30c3\u30c8\u30eb\u306e\u30c7\u30fc\u30bf\u5206\u5e03\u3092\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u8868\u793a \u7d71\u8a08\u30d1\u30cd\u30eb \u5e73\u5747\u3001\u6a19\u6e96\u504f\u5dee\u3001\u6700\u5c0f/\u6700\u5927\u5024\u3001\u56db\u5206\u4f4d\u6570\u3092\u81ea\u52d5\u8a08\u7b97 \u753b\u50cf\u78ba\u8a8d \u8907\u6570\u30ab\u30e1\u30e9\u753b\u50cf\u306e\u540c\u6642\u8868\u793a\u3001\u30b9\u30e9\u30a4\u30c0\u30fc\u3067\u4efb\u610f\u30d5\u30ec\u30fc\u30e0\u3092\u78ba\u8a8d \u30c7\u30fc\u30bf\u51e6\u7406 \u6b63\u898f\u5316\uff08-1\u301c1\uff09\u3001\u79fb\u52d5\u5e73\u5747\uff08MA\uff09\u3001\u6307\u6570\u79fb\u52d5\u5e73\u5747\uff08EMA\uff09\u306b\u3088\u308b\u5e73\u6ed1\u5316 \u524a\u9664\u7ba1\u7406 \u4e0d\u826f\u30c7\u30fc\u30bf\u306e\u7bc4\u56f2\u9078\u629e\u3068\u524a\u9664\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u7ba1\u7406 \u5b66\u7fd2\u6a5f\u80fd \u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u5b66\u7fd2\u3092\u5b9f\u884c <p>UI\u69cb\u6210:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Images Panel    \u2502  Timeline Panel          \u2502\n\u2502  (\u30ab\u30e1\u30e9\u753b\u50cf)     \u2502  (\u6642\u7cfb\u5217\u30b0\u30e9\u30d5)           \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Statistics      \u2502  Histogram               \u2502\n\u2502  (\u7d71\u8a08\u60c5\u5831)       \u2502  (\u30c7\u30fc\u30bf\u5206\u5e03)             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>\u518d\u751f\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb:</p> <ul> <li>\u30b9\u30c6\u30c3\u30d7\u64cd\u4f5c\uff08\u524d\u5f8c\u30d5\u30ec\u30fc\u30e0\u79fb\u52d5\uff09</li> <li>\u9806\u65b9\u5411/\u9006\u65b9\u5411\u518d\u751f</li> <li>1\u301c10\u500d\u901f\u5ea6\u8abf\u6574</li> <li>\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30b9\u30e9\u30a4\u30c0\u30fc\u3067\u76f4\u63a5\u79fb\u52d5</li> </ul> <p>\u524a\u9664\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u7ba1\u7406:</p> <ol> <li>\u958b\u59cb\u30fb\u7d42\u4e86\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u8a2d\u5b9a</li> <li>\u4e0d\u826f\u30c7\u30fc\u30bf\u7bc4\u56f2\u3092\u30de\u30fc\u30af</li> <li>\u30de\u30cb\u30d5\u30a7\u30b9\u30c8\u306b\u6c38\u7d9a\u4fdd\u5b58</li> </ol> <p>\u3053\u308c\u306b\u3088\u308a\u3001\u5b66\u7fd2\u306b\u4f7f\u7528\u3057\u306a\u3044\u30c7\u30fc\u30bf\uff08\u30af\u30e9\u30c3\u30b7\u30e5\u6642\u3001\u624b\u3067\u4fee\u6b63\u3057\u305f\u6642\u306a\u3069\uff09\u3092\u9664\u5916\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"exercises/machine-learning/#annotation_training_d2j","title":"annotation_training_d2j\uff08\u767a\u5c55\uff09","text":"<p>annotation_training_d2j\u306f\u3001\u3088\u308a\u9ad8\u5ea6\u306a\u30c7\u30fc\u30bf\u51e6\u7406\u3092\u884c\u3046\u30c4\u30fc\u30eb\u3067\u3059\uff1a</p> <ul> <li>\u30c7\u30fc\u30bf\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\uff08\u30e9\u30d9\u30eb\u4ed8\u3051\uff09</li> <li>\u30c7\u30fc\u30bf\u62e1\u5f35\uff08\u56de\u8ee2\u3001\u660e\u5ea6\u5909\u66f4\u306a\u3069\uff09</li> <li>\u4f4d\u7f6e\u63a8\u8ad6\u30e2\u30c7\u30eb\u306e\u5b66\u7fd2</li> </ul>"},{"location":"exercises/machine-learning/#_12","title":"\u5b9f\u7fd2\u8ab2\u984c","text":""},{"location":"exercises/machine-learning/#1-nn","title":"\u8ab2\u984c1: \u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fcNN\u306e\u5b66\u7fd2","text":"<ol> <li>\u30de\u30cb\u30e5\u30a2\u30eb\u30e2\u30fc\u30c9\u3067\u5468\u56de\u30b3\u30fc\u30b9\u309210\u5468\u8d70\u884c</li> <li>\u53ce\u96c6\u3057\u305f\u30c7\u30fc\u30bf\u3067\u5b66\u7fd2</li> <li><code>nn</code>\u30e2\u30fc\u30c9\u3067\u81ea\u52d5\u8d70\u884c\u3092\u8a66\u3059</li> <li>\u7d50\u679c\u3092\u8a55\u4fa1</li> </ol>"},{"location":"exercises/machine-learning/#2_2","title":"\u8ab2\u984c2: \u7570\u306a\u308b\u30cf\u30a4\u30d1\u30fc\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u6bd4\u8f03","text":"\u8a2d\u5b9a hidden_dim num_hidden_layers \u7d50\u679c A 32 2 B 64 3 C 128 4"},{"location":"exercises/machine-learning/#3_1","title":"\u8ab2\u984c3: \u30c7\u30fc\u30bf\u91cf\u3068\u7cbe\u5ea6\u306e\u95a2\u4fc2","text":"<ol> <li>5\u5468\u5206\u306e\u30c7\u30fc\u30bf\u3067\u5b66\u7fd2</li> <li>10\u5468\u5206\u306e\u30c7\u30fc\u30bf\u3067\u5b66\u7fd2</li> <li>20\u5468\u5206\u306e\u30c7\u30fc\u30bf\u3067\u5b66\u7fd2</li> <li>\u305d\u308c\u305e\u308c\u306e\u8d70\u884c\u7cbe\u5ea6\u3092\u6bd4\u8f03</li> </ol>"},{"location":"exercises/machine-learning/#_13","title":"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0","text":""},{"location":"exercises/machine-learning/#_14","title":"\u30e2\u30c7\u30eb\u304c\u5b66\u7fd2\u3057\u306a\u3044","text":"<ul> <li>\u30c7\u30fc\u30bf\u91cf\u304c\u5c11\u306a\u3059\u304e\u308b\u53ef\u80fd\u6027</li> <li>\u5b66\u7fd2\u7387\u304c\u9069\u5207\u304b\u78ba\u8a8d</li> <li>\u30c7\u30fc\u30bf\u306b\u30ce\u30a4\u30ba\u304c\u591a\u3044\u5834\u5408\u306f\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0</li> </ul>"},{"location":"exercises/machine-learning/#_15","title":"\u63a8\u8ad6\u6642\u306b\u7570\u5e38\u52d5\u4f5c","text":"<ul> <li>\u5b66\u7fd2\u30c7\u30fc\u30bf\u3068\u63a8\u8ad6\u6642\u306e\u74b0\u5883\u304c\u7570\u306a\u308b\u53ef\u80fd\u6027</li> <li>\u30bb\u30f3\u30b5\u30fc\u306e\u30ad\u30e3\u30ea\u30d6\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u78ba\u8a8d</li> <li>\u30e2\u30c7\u30eb\u304c\u904e\u5b66\u7fd2\u3057\u3066\u3044\u308b\u53ef\u80fd\u6027</li> </ul>"},{"location":"exercises/machine-learning/#gpu","title":"GPU\u30e1\u30e2\u30ea\u4e0d\u8db3","text":"<ul> <li><code>BATCH_SIZE</code>\u3092\u5c0f\u3055\u304f\u3059\u308b</li> <li>\u30e2\u30c7\u30eb\u3092\u8efd\u91cf\u306a\u3082\u306e\u306b\u5909\u66f4</li> </ul>"},{"location":"exercises/pid-control/","title":"PID\u5236\u5fa1\u3067\u8235\u89d2\u5024\u3092\u3044\u3044\u611f\u3058\u306b\u3057\u3088\u3046","text":"<p>PID\u5236\u5fa1\u3092\u4f7f\u3063\u3066\u58c1\u6cbf\u3044\u8d70\u884c\u3092\u6ed1\u3089\u304b\u306b\u3059\u308b\u65b9\u6cd5\u3092\u5b66\u3073\u307e\u3059\u3002</p>"},{"location":"exercises/pid-control/#pid_1","title":"PID\u5236\u5fa1\u3068\u306f","text":"<p>PID\u5236\u5fa1\u306f\u3001\u76ee\u6a19\u5024\u3068\u73fe\u5728\u5024\u306e\u5dee\uff08\u504f\u5dee\uff09\u3092\u4f7f\u3063\u3066\u5236\u5fa1\u91cf\u3092\u6c7a\u5b9a\u3059\u308b\u624b\u6cd5\u3067\u3059\u3002\u58c1\u6cbf\u3044\u8d70\u884c\u3067\u306f\u3001\u76ee\u6a19\u8ddd\u96e2\u3068\u5b9f\u6e2c\u8ddd\u96e2\u306e\u5dee\u304b\u3089\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u89d2\u5ea6\u3092\u8a08\u7b97\u3057\u307e\u3059\u3002</p> <pre><code>graph LR\n    A[\u76ee\u6a19\u8ddd\u96e2&lt;br/&gt;200mm] --&gt; B[\u504f\u5dee\u8a08\u7b97&lt;br/&gt;e = \u76ee\u6a19 - \u5b9f\u6e2c]\n    C[\u5b9f\u6e2c\u8ddd\u96e2&lt;br/&gt;\u30bb\u30f3\u30b5\u30fc\u5024] --&gt; B\n    B --&gt; D[P\u5236\u5fa1&lt;br/&gt;\u6bd4\u4f8b]\n    B --&gt; E[I\u5236\u5fa1&lt;br/&gt;\u7a4d\u5206]\n    B --&gt; F[D\u5236\u5fa1&lt;br/&gt;\u5fae\u5206]\n    D --&gt; G[\u5236\u5fa1\u91cf&lt;br/&gt;\u5408\u8a08]\n    E --&gt; G\n    F --&gt; G\n    G --&gt; H[\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0&lt;br/&gt;\u89d2\u5ea6]\n\n    style A fill:#66cc66,stroke:#000,stroke-width:2px,color:#000\n    style C fill:#ffcc99,stroke:#000,stroke-width:2px,color:#000\n    style G fill:#ff9966,stroke:#000,stroke-width:2px,color:#000</code></pre>"},{"location":"exercises/pid-control/#_1","title":"\u5404\u5236\u5fa1\u306e\u5f79\u5272","text":"\u5236\u5fa1 \u8a08\u7b97\u5f0f \u5f79\u5272 \u52b9\u679c P\uff08\u6bd4\u4f8b\uff09 <code>K_P \u00d7 \u504f\u5dee</code> \u73fe\u5728\u306e\u504f\u5dee\u306b\u6bd4\u4f8b\u3057\u305f\u5236\u5fa1 \u57fa\u672c\u7684\u306a\u8ffd\u5f93\u6027\u80fd I\uff08\u7a4d\u5206\uff09 <code>K_I \u00d7 \u03a3\u504f\u5dee</code> \u904e\u53bb\u306e\u504f\u5dee\u306e\u7d2f\u7a4d\u3092\u8003\u616e \u5b9a\u5e38\u504f\u5dee\u306e\u9664\u53bb D\uff08\u5fae\u5206\uff09 <code>K_D \u00d7 \u0394\u504f\u5dee</code> \u504f\u5dee\u306e\u5909\u5316\u7387\u3092\u8003\u616e \u632f\u52d5\u306e\u6291\u5236\u3001\u5fdc\u7b54\u6027\u5411\u4e0a"},{"location":"exercises/pid-control/#configpy","title":"config.py\u8a2d\u5b9a","text":"<pre><code>PLAN = \"wall_follow_pid\"\n\n# \u53f3\u624b\u6cd5/\u5de6\u624b\u6cd5\u306e\u9078\u629e\nHAND_SIDE = \"right\"  # \"left\"\n\n## PID\u30d1\u30e9\u30e1\u30fc\u30bf(PD\u307e\u3067\u3092\u63a8\u5968)\nK_P = 0.005  # \u6bd4\u4f8b\u30b2\u30a4\u30f3\nK_I = 0.0    # \u7a4d\u5206\u30b2\u30a4\u30f3\uff08\u901a\u5e380\u3067\u5341\u5206\uff09\nK_D = 0.0005 # \u5fae\u5206\u30b2\u30a4\u30f3\n\n# \u76ee\u6a19\u8ddd\u96e2\u306e\u8a2d\u5b9a\nTARGET_RANGE = 200  # \u58c1\u304b\u3089\u306e\u76ee\u6a19\u8ddd\u96e2(mm)\n</code></pre>"},{"location":"exercises/pid-control/#_2","title":"\u30d1\u30e9\u30e1\u30fc\u30bf\u8abf\u6574\u306e\u30b3\u30c4","text":""},{"location":"exercises/pid-control/#1-p","title":"\u30b9\u30c6\u30c3\u30d71: \u307e\u305aP\u5236\u5fa1\u306e\u307f\u3067\u8abf\u6574","text":"<pre><code>K_P = 0.005\nK_I = 0.0\nK_D = 0.0\n</code></pre> <ul> <li>K_P\u3092\u5f90\u3005\u306b\u4e0a\u3052\u3066\u57fa\u672c\u7684\u306a\u8ffd\u5f93\u3092\u78ba\u8a8d</li> <li>\u632f\u52d5\u3057\u59cb\u3081\u308b\u624b\u524d\u3067\u6b62\u3081\u308b</li> </ul>"},{"location":"exercises/pid-control/#2-d","title":"\u30b9\u30c6\u30c3\u30d72: \u6b21\u306bD\u5236\u5fa1\u3092\u8ffd\u52a0","text":"<pre><code>K_P = 0.005\nK_I = 0.0\nK_D = 0.0005\n</code></pre> <ul> <li>K_D\u3092\u5c11\u3057\u305a\u3064\u4e0a\u3052\u3066\u632f\u52d5\u3092\u6291\u5236</li> <li>\u5fdc\u7b54\u304c\u9045\u304f\u306a\u3089\u306a\u3044\u7a0b\u5ea6\u306b\u8abf\u6574</li> </ul>"},{"location":"exercises/pid-control/#3-i","title":"\u30b9\u30c6\u30c3\u30d73: \u5fc5\u8981\u306b\u5fdc\u3058\u3066I\u5236\u5fa1\u3092\u8ffd\u52a0","text":"<pre><code>K_P = 0.005\nK_I = 0.0001  # \u975e\u5e38\u306b\u5c0f\u3055\u3044\u5024\u304b\u3089\nK_D = 0.0005\n</code></pre> <ul> <li>\u5b9a\u5e38\u7684\u306a\u30ba\u30ec\u304c\u3042\u308b\u5834\u5408\u306e\u307f\u4f7f\u7528</li> <li>K_I\u306f\u975e\u5e38\u306b\u5c0f\u3055\u3044\u5024\u304b\u3089\u958b\u59cb</li> </ul>"},{"location":"exercises/pid-control/#_3","title":"\u8abf\u6574\u6642\u306e\u73fe\u8c61\u3068\u5bfe\u7b56","text":"\u73fe\u8c61 \u539f\u56e0 \u5bfe\u7b56 \u632f\u52d5\u3059\u308b K_P\u304c\u5927\u304d\u3059\u304e\u308b K_P\u3092\u4e0b\u3052\u308b\u3001K_D\u3092\u4e0a\u3052\u308b \u8ffd\u5f93\u304c\u9045\u3044 K_P\u304c\u5c0f\u3055\u3059\u304e\u308b K_P\u3092\u4e0a\u3052\u308b \u30aa\u30fc\u30d0\u30fc\u30b7\u30e5\u30fc\u30c8 K_D\u304c\u5c0f\u3055\u3059\u304e\u308b K_D\u3092\u4e0a\u3052\u308b \u5b9a\u5e38\u504f\u5dee\u304c\u3042\u308b I\u5236\u5fa1\u304c\u4e0d\u8db3 K_I\u3092\u5c11\u3057\u8ffd\u52a0 \u767a\u632f\u3059\u308b K_I\u304c\u5927\u304d\u3059\u304e\u308b K_I\u3092\u4e0b\u3052\u308b"},{"location":"exercises/pid-control/#_4","title":"\u5b9f\u7fd2\uff1a\u30d1\u30e9\u30e1\u30fc\u30bf\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0","text":""},{"location":"exercises/pid-control/#_5","title":"\u76ee\u6a19","text":"<p>\u58c1\u304b\u3089200mm\u306e\u8ddd\u96e2\u3092\u7dad\u6301\u3057\u306a\u304c\u3089\u8d70\u884c\u3059\u308b</p>"},{"location":"exercises/pid-control/#_6","title":"\u8a18\u9332\u30b7\u30fc\u30c8","text":"\u8a66\u884c K_P K_I K_D \u7d50\u679c 1 0.003 0 0 2 0.005 0 0 3 0.007 0 0 4 0.005 0 0.0003 5 0.005 0 0.0005"},{"location":"exercises/pid-control/#_7","title":"\u8a55\u4fa1\u57fa\u6e96","text":"<ul> <li>\u5b89\u5b9a\u6027: \u632f\u52d5\u305b\u305a\u306b\u8d70\u884c\u3067\u304d\u308b\u304b</li> <li>\u8ffd\u5f93\u6027: \u58c1\u3068\u306e\u8ddd\u96e2\u3092\u7dad\u6301\u3067\u304d\u308b\u304b</li> <li>\u5fdc\u7b54\u6027: \u58c1\u304c\u8fd1\u3065\u3044\u305f\u6642\u306b\u7d20\u65e9\u304f\u53cd\u5fdc\u3059\u308b\u304b</li> </ul>"},{"location":"exercises/pid-control/#_8","title":"\u767a\u5c55\u8ab2\u984c","text":""},{"location":"exercises/pid-control/#1","title":"\u8ab2\u984c1: \u7570\u306a\u308b\u76ee\u6a19\u8ddd\u96e2\u3067\u306e\u8abf\u6574","text":"<ul> <li><code>TARGET_RANGE = 150</code> \u306b\u5909\u66f4</li> <li>\u540c\u3058\u30d1\u30e9\u30e1\u30fc\u30bf\u3067\u52d5\u4f5c\u3059\u308b\u304b\u78ba\u8a8d</li> <li>\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u518d\u8abf\u6574</li> </ul>"},{"location":"exercises/pid-control/#2","title":"\u8ab2\u984c2: \u901f\u5ea6\u3092\u5909\u3048\u305f\u5834\u5408\u306e\u8abf\u6574","text":"<ul> <li><code>FORWARD_S</code>\u3092\u5909\u66f4\uff080.4 \u2192 0.6\uff09</li> <li>PID\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u518d\u8abf\u6574\u304c\u5fc5\u8981\u304b\u691c\u8a3c</li> </ul>"},{"location":"exercises/pid-control/#3","title":"\u8ab2\u984c3: \u5de6\u624b\u6cd5\u3068\u53f3\u624b\u6cd5\u306e\u5207\u308a\u66ff\u3048","text":"<ul> <li><code>HAND_SIDE = \"left\"</code> \u306b\u5909\u66f4</li> <li>\u540c\u3058\u30d1\u30e9\u30e1\u30fc\u30bf\u3067\u52d5\u4f5c\u3059\u308b\u304b\u78ba\u8a8d</li> </ul>"},{"location":"lesson/control/","title":"\u64cd\u4f5c","text":"<p>\u81ea\u52d5\u904b\u8ee2\u306e3\u756a\u76ee\u306e\u30b9\u30c6\u30c3\u30d7\u300c\u64cd\u4f5c\u300d\u306b\u3064\u3044\u3066\u5b66\u3073\u307e\u3059\u3002</p>"},{"location":"lesson/control/#_2","title":"\u64cd\u4f5c\u3068\u306f","text":"<p>\u64cd\u4f5c\u3068\u306f\u3001\u5224\u65ad\u7d50\u679c\u3092\u5b9f\u969b\u306e\u52d5\u304d\u306b\u5909\u3048\u308b\u3053\u3068\u3067\u3059\u3002\u4eba\u9593\u3067\u8a00\u3048\u3070\u300c\u624b\u8db3\u3092\u52d5\u304b\u3059\u300d\u306b\u76f8\u5f53\u3057\u307e\u3059\u3002</p> <pre><code>graph LR\n    A[\u5224\u65ad\u7d50\u679c] --&gt; B[\u5236\u5fa1\u5024\u5909\u63db]\n    B --&gt; C[PWM\u4fe1\u53f7]\n    C --&gt; D[\u30b5\u30fc\u30dc/\u30e2\u30fc\u30bf\u30fc]\n    D --&gt; E[\u8eca\u4e21\u306e\u52d5\u304d]</code></pre>"},{"location":"lesson/control/#pwm","title":"\u5236\u5fa1\u5024\u304b\u3089PWM\u3078\u306e\u5909\u63db","text":"<p>\u5224\u65ad\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u51fa\u529b\u3059\u308b\u5024\uff08-1.0\u301c1.0\uff09\u3092\u3001\u30e2\u30fc\u30bf\u30fc\u304c\u7406\u89e3\u3067\u304d\u308bPWM\u4fe1\u53f7\u306b\u5909\u63db\u3057\u307e\u3059\u3002</p>"},{"location":"lesson/control/#_3","title":"\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0","text":"<pre><code>-1.0 (\u5de6\u6700\u5927) \u2190\u2500\u2500\u2500\u2500 0.0 (\u4e2d\u592e) \u2500\u2500\u2500\u2500\u2192 +1.0 (\u53f3\u6700\u5927)\n     \u2502                  \u2502                  \u2502\n     \u25bc                  \u25bc                  \u25bc\n LEFT_PWM         CENTER_PWM         RIGHT_PWM\n  (290)              (370)              (450)\n</code></pre>"},{"location":"lesson/control/#_4","title":"\u30b9\u30ed\u30c3\u30c8\u30eb","text":"<pre><code>-1.0 (\u5f8c\u9000) \u2190\u2500\u2500\u2500\u2500 0.0 (\u505c\u6b62) \u2500\u2500\u2500\u2500\u2192 +1.0 (\u524d\u9032)\n     \u2502                \u2502                  \u2502\n     \u25bc                \u25bc                  \u25bc\nREVERSE_PWM     STOPPED_PWM      FORWARD_PWM\n   (300)           (370)            (500)\n</code></pre>"},{"location":"lesson/control/#pwm_1","title":"PWM\u4fe1\u53f7\u3068\u306f","text":"<p>PWM\uff08Pulse Width Modulation\uff09\u306f\u3001\u30d1\u30eb\u30b9\u5e45\u3067\u60c5\u5831\u3092\u4f1d\u3048\u308b\u4fe1\u53f7\u65b9\u5f0f\u3067\u3059\u3002</p> <pre><code>    \u250c\u2500\u2500\u2510    \u250c\u2500\u2500\u2510    \u250c\u2500\u2500\u2510\n    \u2502  \u2502    \u2502  \u2502    \u2502  \u2502\n\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500  \u77ed\u3044\u30d1\u30eb\u30b9 = \u5c0f\u3055\u3044\u5024\n\n    \u250c\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2510\n    \u2502    \u2502  \u2502    \u2502  \u2502    \u2502\n\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2518    \u2514\u2500\u2500\u2518    \u2514\u2500\u2500  \u9577\u3044\u30d1\u30eb\u30b9 = \u5927\u304d\u3044\u5024\n</code></pre> <p>\u30b5\u30fc\u30dc\u3084ESC\u306f\u3053\u306e\u30d1\u30eb\u30b9\u5e45\u3092\u8aad\u307f\u53d6\u3063\u3066\u3001\u89d2\u5ea6\u3084\u56de\u8ee2\u901f\u5ea6\u3092\u5236\u5fa1\u3057\u307e\u3059\u3002</p>"},{"location":"lesson/control/#_5","title":"\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u69cb\u6210","text":"<pre><code>Raspberry Pi / Jetson\n        \u2502\n        \u2502 I2C\u901a\u4fe1\n        \u25bc\n    PCA9685\uff08PWM\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\uff09\n        \u2502\n        \u251c\u2500\u2500 CH0 \u2192 \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u30b5\u30fc\u30dc\n        \u2514\u2500\u2500 CH1 \u2192 ESC\uff08\u30b9\u30ed\u30c3\u30c8\u30eb\uff09\n                    \u2502\n                    \u25bc\n                 \u30e2\u30fc\u30bf\u30fc\n</code></pre>"},{"location":"lesson/control/#_6","title":"\u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af\u5236\u5fa1","text":"<p>\u3088\u308a\u9ad8\u5ea6\u306a\u5236\u5fa1\u3067\u306f\u3001\u7d50\u679c\u3092\u898b\u3066\u8abf\u6574\u3059\u308b\u300c\u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af\u5236\u5fa1\u300d\u3092\u4f7f\u3044\u307e\u3059\u3002</p> <pre><code>graph LR\n    A[\u76ee\u6a19\u5024] --&gt; B[\u5236\u5fa1\u5668]\n    B --&gt; C[\u30e2\u30fc\u30bf\u30fc]\n    C --&gt; D[\u8eca\u4e21]\n    D --&gt; E[\u30bb\u30f3\u30b5\u30fc]\n    E --&gt;|\u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af| B</code></pre> <p>\u4f8b\uff1aPID\u5236\u5fa1\u306b\u3088\u308b\u58c1\u6cbf\u3044\u8d70\u884c - \u76ee\u6a19\uff1a\u58c1\u304b\u3089200mm\u306e\u8ddd\u96e2\u3092\u7dad\u6301 - \u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af\uff1a\u5b9f\u969b\u306e\u8ddd\u96e2\u3092\u6e2c\u5b9a - \u8abf\u6574\uff1a\u5dee\u5206\u306b\u5fdc\u3058\u3066\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u3092\u4fee\u6b63</p>"},{"location":"lesson/control/#_7","title":"\u81ea\u52d5\u8d70\u884c\u306e\u5b9f\u884c","text":"<p>\u5b66\u7fd2\u3057\u305f\u30e2\u30c7\u30eb\u3067\u81ea\u52d5\u8d70\u884c\u3092\u5b9f\u884c\u3059\u308b\u624b\u9806\u3067\u3059\u3002</p>"},{"location":"lesson/control/#1","title":"1. \u30e2\u30c7\u30eb\u306e\u8a2d\u5b9a","text":"<p><code>config.py</code>\u3067\u5b66\u7fd2\u6e08\u307f\u30e2\u30c7\u30eb\u3092\u6307\u5b9a\uff1a</p> <pre><code># \u5224\u65ad\u30e2\u30fc\u30c9\nPLAN = \"donkeycar\"  # \u307e\u305f\u306f \"nn\", \"resnet18\" \u306a\u3069\n\n# \u5b66\u7fd2\u6e08\u307f\u30e2\u30c7\u30eb\u30d5\u30a1\u30a4\u30eb\nMODEL_NAME = \"donkeycar_20251205_150000.pth\"\nMODEL_PATH = os.path.join(MODEL_DIR, MODEL_NAME)\n\n# \u4f7f\u7528\u3059\u308b\u753b\u50cf\uff08\u753b\u50cf\u30e2\u30c7\u30eb\u306e\u5834\u5408\uff09\nMODEL_INPUT_IMAGE = \"cam1/image_array\"\n</code></pre>"},{"location":"lesson/control/#2","title":"2. \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u8d77\u52d5","text":"<pre><code>python run.py\n</code></pre>"},{"location":"lesson/control/#3","title":"3. \u8d70\u884c\u30e2\u30fc\u30c9\u306e\u5207\u308a\u66ff\u3048","text":"\u30e2\u30fc\u30c9 \u8aac\u660e \u64cd\u4f5c user \u624b\u52d5\u64cd\u4f5c\uff08\u3059\u3079\u3066\u4eba\u9593\u304c\u64cd\u4f5c\uff09 \u8d77\u52d5\u6642\u306e\u30c7\u30d5\u30a9\u30eb\u30c8 auto_str \u81ea\u52d5\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\uff08\u30b9\u30ed\u30c3\u30c8\u30eb\u306f\u624b\u52d5\uff09 S\u30dc\u30bf\u30f3\u3067\u5207\u308a\u66ff\u3048 auto \u5b8c\u5168\u81ea\u52d5\uff08\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u30fb\u30b9\u30ed\u30c3\u30c8\u30eb\u4e21\u65b9\u81ea\u52d5\uff09 S\u30dc\u30bf\u30f3\u3067\u5207\u308a\u66ff\u3048 <p>S\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u305f\u3073\u306b\uff1a<code>user \u2192 auto_str \u2192 auto \u2192 user \u2192 ...</code> \u3068\u5207\u308a\u66ff\u308f\u308a\u307e\u3059\u3002</p>"},{"location":"lesson/control/#4","title":"4. \u52d5\u4f5c\u78ba\u8a8d\u624b\u9806","text":"<ol> <li>\u624b\u52d5\u30e2\u30fc\u30c9\u3067\u78ba\u8a8d: \u307e\u305a\u624b\u52d5\u3067\u52d5\u304b\u3057\u3066\u554f\u984c\u306a\u3044\u3053\u3068\u3092\u78ba\u8a8d</li> <li>\u30df\u30cb\u30ab\u30fc\u3092\u914d\u7f6e: \u30b9\u30bf\u30fc\u30c8\u4f4d\u7f6e\u306b\u7f6e\u304f</li> <li>\u81ea\u52d5\u30e2\u30fc\u30c9\u306b\u5207\u308a\u66ff\u3048: S\u30dc\u30bf\u30f3\u3092\u62bc\u3059\uff08\u30bf\u30fc\u30df\u30ca\u30eb\u306b\u30e2\u30fc\u30c9\u8868\u793a\uff09</li> <li>\u8d70\u884c\u958b\u59cb: \u30df\u30cb\u30ab\u30fc\u304c\u81ea\u52d5\u3067\u8d70\u308a\u59cb\u3081\u308b</li> <li>\u505c\u6b62: A\u30dc\u30bf\u30f3\u3067\u30d6\u30ec\u30fc\u30ad\u3001\u307e\u305f\u306f\u518d\u5ea6S\u30dc\u30bf\u30f3\u3067\u624b\u52d5\u306b\u623b\u3059</li> </ol>"},{"location":"lesson/control/#_8","title":"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0","text":"\u73fe\u8c61 \u539f\u56e0 \u5bfe\u7b56 \u52d5\u304b\u306a\u3044 \u30e2\u30c7\u30eb\u304c\u8aad\u307f\u8fbc\u3081\u3066\u3044\u306a\u3044 MODEL_PATH\u3092\u78ba\u8a8d \u30cf\u30f3\u30c9\u30eb\u3092\u5207\u3089\u306a\u3044 \u5b66\u7fd2\u30c7\u30fc\u30bf\u304c\u4e0d\u5341\u5206 \u30c7\u30fc\u30bf\u3092\u8ffd\u52a0\u3057\u3066\u518d\u5b66\u7fd2 \u58c1\u306b\u3076\u3064\u304b\u308b \u5b66\u7fd2\u30c7\u30fc\u30bf\u304c\u4e0d\u5341\u5206 \u30c7\u30fc\u30bf\u3092\u8ffd\u52a0\u3057\u3066\u518d\u5b66\u7fd2 \u3075\u3089\u3075\u3089\u3059\u308b \u64cd\u4f5c\u304c\u8352\u304b\u3063\u305f \u6ed1\u3089\u304b\u306a\u30c7\u30fc\u30bf\u3067\u518d\u5b66\u7fd2 \u4e00\u65b9\u5411\u306b\u504f\u308b \u30c7\u30fc\u30bf\u304c\u504f\u3063\u3066\u3044\u308b \u30d0\u30e9\u30f3\u30b9\u3088\u304f\u30c7\u30fc\u30bf\u53ce\u96c6"},{"location":"lesson/control/#_9","title":"\u6539\u5584\u30b5\u30a4\u30af\u30eb","text":"<p>\u3088\u308a\u826f\u3044\u8d70\u884c\u3092\u76ee\u6307\u3057\u3066\u6539\u5584\u3092\u7e70\u308a\u8fd4\u3057\u307e\u3059\uff1a</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 \u30c7\u30fc\u30bf\u53ce\u96c6  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 \u30c7\u30fc\u30bf\u5206\u6790  \u2502  \u2190 data_viewer\u3067\u78ba\u8a8d\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   \u5b66\u7fd2      \u2502  \u2190 train_pytorch.py\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 \u81ea\u52d5\u8d70\u884c    \u2502  \u2190 \u8a55\u4fa1\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2193\n   \u554f\u984c\u70b9\u306e\u7279\u5b9a\n       \u2193\n   \uff08\u7e70\u308a\u8fd4\u3057\uff09\n</code></pre>"},{"location":"lesson/control/#_10","title":"\u6539\u5584\u306e\u30d2\u30f3\u30c8","text":""},{"location":"lesson/control/#_11","title":"\u30c7\u30fc\u30bf\u53ce\u96c6\u306e\u6539\u5584","text":"<ul> <li>\u30b3\u30fc\u30ca\u30fc\u3067\u306e\u64cd\u4f5c\u3092\u5897\u3084\u3059</li> <li>\u901f\u5ea6\u3092\u5909\u3048\u3066\u8d70\u884c\u3059\u308b</li> <li>\u69d8\u3005\u306a\u4f4d\u7f6e\u304b\u3089\u8d70\u884c\u3092\u958b\u59cb\u3059\u308b</li> <li>\u9006\u56de\u308a\u3067\u3082\u8d70\u884c\u3057\u3066\u30c7\u30fc\u30bf\u3092\u53ce\u96c6</li> </ul>"},{"location":"lesson/control/#_12","title":"\u5b66\u7fd2\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u8abf\u6574","text":"<pre><code># \u30a8\u30dd\u30c3\u30af\u6570\u3092\u5897\u3084\u3059\nEPOCHS = 50\n\n# \u30c7\u30fc\u30bf\u62e1\u5f35\u3092\u6709\u52b9\u5316\nUSE_DATA_AUGMENTATION = True\n</code></pre>"},{"location":"lesson/control/#_13","title":"\u8d70\u884c\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u8abf\u6574","text":"<pre><code># \u901f\u5ea6\u3092\u8abf\u6574\uff08\u4e0d\u5b89\u5b9a\u306a\u5834\u5408\u306f\u4e0b\u3052\u308b\uff09\nFORWARD_STRAIGHT = 0.35\nFORWARD_CORNER = 0.25\n</code></pre>"},{"location":"lesson/control/#_14","title":"\u8003\u3048\u3066\u307f\u3088\u3046","text":"<ol> <li>PWM\u4fe1\u53f7\u306e\u30d1\u30eb\u30b9\u5e45\u3092\u5909\u3048\u308b\u3068\u4f55\u304c\u5909\u308f\u308b\uff1f</li> <li>\u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af\u5236\u5fa1\u304c\u306a\u3044\u5834\u5408\u3001\u3069\u3093\u306a\u554f\u984c\u304c\u8d77\u304d\u308b\uff1f</li> <li>\u4eba\u9593\u306e\u904b\u8ee2\u3068\u81ea\u52d5\u904b\u8ee2\u306e\u300c\u64cd\u4f5c\u300d\u306e\u9055\u3044\u306f\uff1f</li> </ol>"},{"location":"lesson/decision/","title":"\u5224\u65ad","text":"<p>\u81ea\u52d5\u904b\u8ee2\u306e2\u756a\u76ee\u306e\u30b9\u30c6\u30c3\u30d7\u300c\u5224\u65ad\u300d\u306b\u3064\u3044\u3066\u5b66\u3073\u307e\u3059\u3002</p>"},{"location":"lesson/decision/#_2","title":"\u5224\u65ad\u3068\u306f","text":"<p>\u5224\u65ad\u3068\u306f\u3001\u8a8d\u77e5\u3067\u5f97\u305f\u60c5\u5831\u3092\u3082\u3068\u306b\u300c\u3069\u3046\u52d5\u304f\u304b\u300d\u3092\u6c7a\u3081\u308b\u3053\u3068\u3067\u3059\u3002\u4eba\u9593\u3067\u8a00\u3048\u3070\u300c\u8003\u3048\u308b\u300d\u306b\u76f8\u5f53\u3057\u307e\u3059\u3002</p> <pre><code>graph LR\n    A[\u8a8d\u77e5\u7d50\u679c] --&gt; B[\u5224\u65ad\u30ed\u30b8\u30c3\u30af]\n    B --&gt; C{\u3069\u3046\u52d5\u304f?}\n    C --&gt;|\u5de6\u306b\u969c\u5bb3\u7269| D[\u53f3\u306b\u66f2\u304c\u308b]\n    C --&gt;|\u524d\u306b\u969c\u5bb3\u7269| E[\u6b62\u307e\u308b/\u56de\u907f]\n    C --&gt;|\u969c\u5bb3\u7269\u306a\u3057| F[\u76f4\u9032]</code></pre>"},{"location":"lesson/decision/#vs","title":"\u30eb\u30fc\u30eb\u30d9\u30fc\u30b9 vs \u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af","text":"<p>\u5224\u65ad\u65b9\u6cd5\u306b\u306f\u5927\u304d\u304f2\u3064\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"lesson/decision/#_3","title":"\u30eb\u30fc\u30eb\u30d9\u30fc\u30b9","text":"<p>\u4eba\u9593\u304c\u300c\u3053\u3046\u3044\u3046\u6642\u306f\u3053\u3046\u3059\u308b\u300d\u3068\u3044\u3046\u30eb\u30fc\u30eb\u3092\u6c7a\u3081\u3066\u304a\u304f\u65b9\u6cd5\u3002</p> <pre><code># \u4f8b\uff1aright_left_3\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\nif \u524d\u65b9 &lt; \u505c\u6b62\u8ddd\u96e2:\n    if \u5de6 &gt; \u53f3:\n        \u5de6\u306b\u66f2\u304c\u308b\n    else:\n        \u53f3\u306b\u66f2\u304c\u308b\nelse:\n    \u76f4\u9032\n</code></pre> <p>\u30e1\u30ea\u30c3\u30c8: \u52d5\u4f5c\u304c\u660e\u78ba\u3001\u30c7\u30d0\u30c3\u30b0\u3057\u3084\u3059\u3044 \u30c7\u30e1\u30ea\u30c3\u30c8: \u8907\u96d1\u306a\u72b6\u6cc1\u3078\u306e\u5bfe\u5fdc\u304c\u96e3\u3057\u3044</p>"},{"location":"lesson/decision/#_4","title":"\u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af","text":"<p>\u4eba\u9593\u306e\u904b\u8ee2\u30c7\u30fc\u30bf\u3092\u5b66\u7fd2\u3057\u3066\u3001AI\u304c\u5224\u65ad\u3059\u308b\u65b9\u6cd5\u3002</p> <pre><code>\u5165\u529b\uff08\u30bb\u30f3\u30b5\u30fc\u5024\uff09 \u2192 \u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8 \u2192 \u51fa\u529b\uff08\u64cd\u4f5c\u5024\uff09\n                    \u2191\n              \u5b66\u7fd2\u30c7\u30fc\u30bf\u304b\u3089\u81ea\u52d5\u3067\u7372\u5f97\n</code></pre> <p>\u30e1\u30ea\u30c3\u30c8: \u8907\u96d1\u306a\u30d1\u30bf\u30fc\u30f3\u3092\u5b66\u7fd2\u3067\u304d\u308b \u30c7\u30e1\u30ea\u30c3\u30c8: \u5224\u65ad\u7406\u7531\u304c\u5206\u304b\u308a\u306b\u304f\u3044</p>"},{"location":"lesson/decision/#_5","title":"\u5224\u65ad\u30e2\u30fc\u30c9\u4e00\u89a7","text":"\u30e2\u30fc\u30c9 \u65b9\u5f0f \u8aac\u660e right_left_3 \u30eb\u30fc\u30eb 3\u30bb\u30f3\u30b5\u30fc\u3067\u969c\u5bb3\u7269\u56de\u907f wall_follow \u30eb\u30fc\u30eb \u58c1\u6cbf\u3044\u8d70\u884c wall_follow_pid \u30eb\u30fc\u30eb PID\u5236\u5fa1\u3067\u7cbe\u5bc6\u306a\u58c1\u6cbf\u3044 nn NN \u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u5165\u529b\u306eNN donkeycar NN \u30ab\u30e1\u30e9\u5165\u529b\u306eCNN"},{"location":"lesson/decision/#_6","title":"\u5236\u5fa1\u65b9\u5f0f\u306e\u6bd4\u8f03","text":"<pre><code>graph TB\n    subgraph \"\u30eb\u30fc\u30eb\u30d9\u30fc\u30b9\"\n        A1[\u30bb\u30f3\u30b5\u30fc\u5024] --&gt; A2[if\u6587\u5224\u5b9a]\n        A2 --&gt; A3[\u64cd\u4f5c\u5024]\n    end\n\n    subgraph \"\u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\"\n        B1[\u30bb\u30f3\u30b5\u30fc\u5024] --&gt; B2[\u96a0\u308c\u5c641]\n        B2 --&gt; B3[\u96a0\u308c\u5c642]\n        B3 --&gt; B4[\u64cd\u4f5c\u5024]\n    end</code></pre>"},{"location":"lesson/decision/#_7","title":"\u5171\u901a\u70b9","text":"<p>\u3069\u3061\u3089\u306e\u65b9\u5f0f\u3082\u3001\u6700\u7d42\u7684\u306a\u51fa\u529b\u306f\u540c\u3058\u5f62\u5f0f\uff1a</p> <ul> <li>\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0: -1.0\uff08\u5de6\uff09\u301c 1.0\uff08\u53f3\uff09</li> <li>\u30b9\u30ed\u30c3\u30c8\u30eb: -1.0\uff08\u5f8c\u9000\uff09\u301c 1.0\uff08\u524d\u9032\uff09</li> </ul>"},{"location":"lesson/decision/#_8","title":"\u8003\u3048\u3066\u307f\u3088\u3046","text":"<ol> <li>\u30eb\u30fc\u30eb\u30d9\u30fc\u30b9\u3067\u5bfe\u5fdc\u3067\u304d\u306a\u3044\u72b6\u6cc1\u306f\uff1f</li> <li>NN\u306e\u5b66\u7fd2\u30c7\u30fc\u30bf\u304c\u504f\u3063\u3066\u3044\u305f\u3089\u3069\u3046\u306a\u308b\uff1f</li> <li>\u4e21\u65b9\u3092\u7d44\u307f\u5408\u308f\u305b\u308b\u3053\u3068\u306f\u3067\u304d\u308b\uff1f</li> </ol>"},{"location":"lesson/overview/","title":"\u4f53\u9a13\u578b\u6388\u696d \u6982\u8981","text":"<p>\u81ea\u52d5\u904b\u8ee2\u306e3\u30b9\u30c6\u30c3\u30d7</p> <p>\u8a8d\u77e5\uff08\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc/\u30ab\u30e1\u30e9\u7b49\uff09\u2192 \u5224\u65ad\uff08\u30e2\u30fc\u30c9\u306e\u9078\u629e/\u7d39\u4ecb\uff09\u2192 \u64cd\u4f5c\uff08\u30e2\u30fc\u30bf\u30fc\u51fa\u529b\uff09 \u306e\u9806\u3067\u81ea\u52d5\u904b\u8ee2\u3092\u5b9f\u65bd</p>"},{"location":"lesson/overview/#3","title":"\u30cf\u30f3\u30ba\u30aa\u30f3 \u30bf\u30a4\u30e0\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\uff083\u6642\u9593\uff09","text":"\u6642\u9593 \u5185\u5bb9 \u6240\u8981\u6642\u9593 00:00-00:20 0. \u5168\u4f53\u50cf\u30fb\u74b0\u5883\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7 20\u5206 00:20-00:40 1. \u30df\u30cb\u30ab\u30fc\u306e\u52d5\u304b\u3057\u65b9\uff08throttle\u3068steering\uff09 20\u5206 00:40-01:00 2. \u30bb\u30f3\u30b5\u30fc\u3067\u6e2c\u8ddd\u3084\u753b\u50cf\u3092\u53d6\u5f97 20\u5206 01:00-01:10 \u4f11\u61a9 10\u5206 01:10-01:30 3. \u8d70\u884c\u30c7\u30fc\u30bf\u3092\u8a18\u9332\u3059\u308b 20\u5206 01:30-01:40 4. \u30c7\u30fc\u30bf\u3092\u5206\u6790\u30fb\u30af\u30ec\u30f3\u30b8\u30f3\u30b0 10\u5206 01:40-02:10 5. \u30c7\u30fc\u30bf\u3092\u5b66\u7fd2\u30fb\u30c6\u30b9\u30c8 30\u5206 02:10-02:30 6. \u7df4\u7fd2\u30bf\u30a4\u30e0 20\u5206 02:30-03:00 7. \u30bf\u30a4\u30e0\u30a2\u30bf\u30c3\u30af 30\u5206"},{"location":"lesson/overview/#_2","title":"\u4f7f\u7528\u3059\u308b\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2","text":"<ul> <li>Raspberry Pi 4/5 \u307e\u305f\u306f Jetson Orin Nano</li> <li>\u30e2\u30fc\u30bf\u30fc\uff08ESC\u5236\u5fa1\uff09+ \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u30b5\u30fc\u30dc</li> <li>\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\uff08HC-SR04\uff09\u307e\u305f\u306fLiDAR</li> <li>\u30ab\u30e1\u30e9\u30e2\u30b8\u30e5\u30fc\u30eb</li> <li>\u30b2\u30fc\u30e0\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\uff08Logicool F710\u306a\u3069\uff09</li> </ul>"},{"location":"lesson/overview/#_3","title":"\u30cf\u30f3\u30ba\u30aa\u30f3\u7528\u30b3\u30fc\u30b9","text":"<p>\u4eca\u56de\u306e\u30cf\u30f3\u30ba\u30aa\u30f3\u3067\u4f7f\u7528\u3059\u308b\u30b3\u30fc\u30b9\u306f\u3001\u69d8\u3005\u306a\u8d70\u884c\u6280\u8853\u3092\u5b66\u3079\u308b\u3088\u3046\u306b\u8a2d\u8a08\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"lesson/overview/#_4","title":"\u30b3\u30fc\u30b9\u306e\u7279\u5fb4","text":"<p>4\u3064\u306e\u7570\u306a\u308b\u30bf\u30a4\u30d7\u306e\u8d70\u884c\u533a\u9593\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\uff1a</p> \u533a\u9593 \u7279\u5fb4 \u5b66\u3079\u308b\u3053\u3068 \u30b9\u30c8\u30ec\u30fc\u30c8\u533a\u9593 \u9577\u3044\u76f4\u7dda \u901f\u5ea6\u5236\u5fa1\u3001\u307e\u3063\u3059\u3050\u8d70\u884c \u76f4\u89d2\u30b3\u30fc\u30ca\u30fc 90\u5ea6\u30ab\u30fc\u30d6 \u30b7\u30e3\u30fc\u30d7\u306a\u30cf\u30f3\u30c9\u30eb\u64cd\u4f5c\u3001\u6e1b\u901f\u5236\u5fa1 \u30b8\u30b0\u30b6\u30b0\u30b3\u30fc\u30ca\u30fc S\u5b57\u30ab\u30fc\u30d6 \u9023\u7d9a\u3057\u305f\u5de6\u53f3\u5207\u308a\u8fd4\u3057 \u6ed1\u3089\u304b\u306a\u30b3\u30fc\u30ca\u30fc U\u5b57\u30ab\u30fc\u30d6 \u7de9\u3084\u304b\u306a\u30cf\u30f3\u30c9\u30eb\u64cd\u4f5c"},{"location":"lesson/overview/#_5","title":"\u30b3\u30fc\u30b9\u4ed5\u69d8","text":"<ul> <li>\u5168\u9577: \u7d043m \u00d7 6m</li> <li>\u30b3\u30fc\u30b9\u5e45: \u7d041.5m\uff08\u5185\u5916\u58c1\u9593\uff09</li> <li>\u58c1\u306e\u9ad8\u3055: 20cm\uff5e30cm\uff08\u30bb\u30f3\u30b5\u30fc\u691c\u77e5\u53ef\u80fd\u306a\u9ad8\u3055\uff09</li> </ul>"},{"location":"lesson/overview/#_6","title":"\u8d70\u884c\u306e\u30b3\u30c4","text":"\u533a\u9593 \u30b3\u30c4 \u521d\u3081\u3066\u306e\u8d70\u884c \u4f4e\u901f\uff08\u30b9\u30ed\u30c3\u30c8\u30eb0.3\u7a0b\u5ea6\uff09\u3067\u5168\u4f53\u3092\u628a\u63e1 \u30b9\u30c8\u30ec\u30fc\u30c8 \u30b9\u30ed\u30c3\u30c8\u30eb\u4e00\u5b9a\u3001\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u771f\u3093\u4e2d \u76f4\u89d2\u30b3\u30fc\u30ca\u30fc \u9032\u5165\u524d\u306b\u6e1b\u901f\u3001\u3086\u3063\u304f\u308a\u30cf\u30f3\u30c9\u30eb\u3092\u5207\u308b \u30b8\u30b0\u30b6\u30b0 \u614c\u3066\u305a\u4e00\u3064\u305a\u3064\u306e\u30ab\u30fc\u30d6\u3092\u4e01\u5be7\u306b \u6ed1\u3089\u304b\u306a\u30b3\u30fc\u30ca\u30fc \u4e00\u5b9a\u306e\u30cf\u30f3\u30c9\u30eb\u89d2\u5ea6\u3092\u4fdd\u3061\u306a\u304c\u3089\u901a\u904e"},{"location":"lesson/overview/#_7","title":"\u6388\u696d\u306e\u6d41\u308c","text":"<pre><code>graph TB\n    subgraph \"1. \u8a8d\u77e5\"\n        A1[\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc] --&gt; A2[\u8ddd\u96e2\u6e2c\u5b9a]\n        A3[\u30ab\u30e1\u30e9] --&gt; A4[\u753b\u50cf\u53d6\u5f97]\n    end\n\n    subgraph \"2. \u5224\u65ad\"\n        B1[\u30eb\u30fc\u30eb\u30d9\u30fc\u30b9] --&gt; B2[if-then\u5224\u5b9a]\n        B3[\u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8] --&gt; B4[\u5b66\u7fd2\u30e2\u30c7\u30eb]\n    end\n\n    subgraph \"3. \u64cd\u4f5c\"\n        C1[\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0] --&gt; C2[PWM\u51fa\u529b]\n        C3[\u30b9\u30ed\u30c3\u30c8\u30eb] --&gt; C2\n    end\n\n    A2 --&gt; B1\n    A2 --&gt; B3\n    A4 --&gt; B3\n    B2 --&gt; C1\n    B4 --&gt; C1\n    B2 --&gt; C3\n    B4 --&gt; C3</code></pre>"},{"location":"lesson/overview/#_8","title":"\u5404\u30bb\u30af\u30b7\u30e7\u30f3","text":""},{"location":"lesson/overview/#_9","title":"\u8a8d\u77e5","text":"<ul> <li>\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u30fc\u306e\u4ed5\u7d44\u307f\u3068\u7279\u6027</li> <li>\u30ab\u30e1\u30e9\u753b\u50cf\u306e\u53d6\u5f97</li> <li>\u30bb\u30f3\u30b5\u30fc\u306e\u9055\u3044\u3068\u4f7f\u3044\u5206\u3051</li> </ul>"},{"location":"lesson/overview/#_10","title":"\u5224\u65ad","text":"<ul> <li>\u8d70\u884c\u30e2\u30fc\u30c9\u306e\u9078\u629e</li> <li>\u30eb\u30fc\u30eb\u30d9\u30fc\u30b9 vs \u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af</li> <li>\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306e\u7406\u89e3</li> </ul>"},{"location":"lesson/overview/#_11","title":"\u64cd\u4f5c","text":"<ul> <li>PWM\u4fe1\u53f7\u306e\u57fa\u672c</li> <li>\u5236\u5fa1\u5024\u304b\u3089\u52d5\u304d\u3078\u306e\u5909\u63db</li> <li>\u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af\u5236\u5fa1</li> </ul>"},{"location":"lesson/overview/#_12","title":"\u5b66\u7fd2\u76ee\u6a19","text":"<ol> <li>\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u74b0\u5883\u60c5\u5831\u3092\u53d6\u5f97\u3059\u308b\u65b9\u6cd5\u3092\u7406\u89e3\u3059\u308b</li> <li>\u53d6\u5f97\u3057\u305f\u60c5\u5831\u304b\u3089\u8d70\u884c\u5224\u65ad\u3092\u884c\u3046\u30ed\u30b8\u30c3\u30af\u3092\u5b66\u3076</li> <li>\u5224\u65ad\u7d50\u679c\u3092\u30e2\u30fc\u30bf\u30fc\u5236\u5fa1\u306b\u5909\u63db\u3059\u308b\u4ed5\u7d44\u307f\u3092\u7fd2\u5f97\u3059\u308b</li> <li>\u81ea\u5206\u3067\u8d70\u884c\u30eb\u30fc\u30eb\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b</li> </ol>"},{"location":"lesson/recognition/","title":"\u8a8d\u77e5","text":"<p>\u81ea\u52d5\u904b\u8ee2\u306e\u6700\u521d\u306e\u30b9\u30c6\u30c3\u30d7\u300c\u8a8d\u77e5\u300d\u306b\u3064\u3044\u3066\u5b66\u3073\u307e\u3059\u3002</p>"},{"location":"lesson/recognition/#_2","title":"\u8a8d\u77e5\u3068\u306f","text":"<p>\u8a8d\u77e5\u3068\u306f\u3001\u30bb\u30f3\u30b5\u30fc\u3092\u4f7f\u3063\u3066\u5468\u56f2\u306e\u74b0\u5883\u3092\u628a\u63e1\u3059\u308b\u3053\u3068\u3067\u3059\u3002\u4eba\u9593\u3067\u8a00\u3048\u3070\u300c\u76ee\u3067\u898b\u308b\u300d\u300c\u8033\u3067\u805e\u304f\u300d\u306b\u76f8\u5f53\u3057\u307e\u3059\u3002</p> <pre><code>graph LR\n    A[\u74b0\u5883] --&gt;|\u8d85\u97f3\u6ce2| B[\u30bb\u30f3\u30b5\u30fc]\n    A --&gt;|\u5149| C[\u30ab\u30e1\u30e9]\n    B --&gt; D[\u8ddd\u96e2\u30c7\u30fc\u30bf]\n    C --&gt; E[\u753b\u50cf\u30c7\u30fc\u30bf]\n    D --&gt; F[\u8a8d\u77e5\u7d50\u679c]\n    E --&gt; F</code></pre>"},{"location":"lesson/recognition/#_3","title":"\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u306b\u3088\u308b\u8a8d\u77e5","text":""},{"location":"lesson/recognition/#_4","title":"\u4ed5\u7d44\u307f","text":"<p>\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u306f\u97f3\u6ce2\u3092\u767a\u5c04\u3057\u3001\u53cd\u5c04\u3057\u3066\u623b\u3063\u3066\u304f\u308b\u307e\u3067\u306e\u6642\u9593\u304b\u3089\u8ddd\u96e2\u3092\u8a08\u7b97\u3057\u307e\u3059\u3002</p> <pre><code>\u30bb\u30f3\u30b5\u30fc \u2192 \u8d85\u97f3\u6ce2\u767a\u5c04 \u2192 \u7269\u4f53\u3067\u53cd\u5c04 \u2192 \u30bb\u30f3\u30b5\u30fc\u3067\u53d7\u4fe1\n         \u2514\u2500\u2500\u2500\u2500\u2500\u2500 \u5f80\u5fa9\u6642\u9593\u3092\u6e2c\u5b9a \u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u2193\n              \u8ddd\u96e2 = \u6642\u9593 \u00d7 \u97f3\u901f \u00f7 2\n</code></pre>"},{"location":"lesson/recognition/#_5","title":"\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u306e\u7279\u6027","text":"\u9805\u76ee \u5024 \u691c\u77e5\u89d2\u5ea6 \u7d0415\u5ea6\uff08\u7247\u5074\uff09 \u691c\u77e5\u8ddd\u96e2 2cm\uff5e400cm \u6e2c\u5b9a\u7cbe\u5ea6 \u00b13mm"},{"location":"lesson/recognition/#_6","title":"\u691c\u77e5\u7bc4\u56f2","text":"<pre><code>graph TB\n    subgraph \"\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5 HC-SR04 \u691c\u77e5\u7bc4\u56f2\"\n        S[\u30bb\u30f3\u30b5\u30fc\u4f4d\u7f6e]\n        S -.-&gt;|15\u00b0| L1[\u5de6\u7aef]\n        S -.-&gt;|0\u00b0| C[\u4e2d\u5fc3\u7dda]\n        S -.-&gt;|15\u00b0| R1[\u53f3\u7aef]\n        C -.-&gt;|2cm| MIN[\u6700\u5c0f\u691c\u77e5\u8ddd\u96e2]\n        C -.-&gt;|400cm| MAX[\u6700\u5927\u691c\u77e5\u8ddd\u96e2]\n    end\n\n    style S fill:#ff6633,stroke:#000,stroke-width:4px,color:#000\n    style MIN fill:#ff9999,stroke:#000,stroke-width:2px,color:#000\n    style MAX fill:#66cc66,stroke:#000,stroke-width:2px,color:#000</code></pre>"},{"location":"lesson/recognition/#_7","title":"\u30ab\u30e1\u30e9\u306b\u3088\u308b\u8a8d\u77e5","text":""},{"location":"lesson/recognition/#_8","title":"\u4ed5\u7d44\u307f","text":"<p>\u30ab\u30e1\u30e9\u306f\u5149\u3092\u6349\u3048\u3066\u753b\u50cf\u30c7\u30fc\u30bf\u3092\u751f\u6210\u3057\u307e\u3059\u3002\u753b\u50cf\u8a8d\u8b58AI\u3092\u4f7f\u3046\u3053\u3068\u3067\u3001\u7269\u4f53\u306e\u7a2e\u985e\u3084\u4f4d\u7f6e\u3092\u8a8d\u8b58\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"lesson/recognition/#_9","title":"\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u3068\u306e\u9055\u3044","text":"\u9805\u76ee \u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5 \u30ab\u30e1\u30e9 \u53d6\u5f97\u60c5\u5831 \u8ddd\u96e2\u306e\u307f \u8272\u30fb\u5f62\u30fb\u30c6\u30af\u30b9\u30c1\u30e3 \u51e6\u7406\u8ca0\u8377 \u4f4e\u3044 \u9ad8\u3044 \u74b0\u5883\u4f9d\u5b58 \u6750\u8cea\u306b\u4f9d\u5b58 \u7167\u660e\u306b\u4f9d\u5b58 \u8a8d\u8b58\u5bfe\u8c61 \u969c\u5bb3\u7269\u306e\u6709\u7121 \u7269\u4f53\u306e\u7a2e\u985e\u307e\u3067"},{"location":"lesson/recognition/#_10","title":"\u8003\u3048\u3066\u307f\u3088\u3046","text":"<ol> <li>\u8d85\u97f3\u6ce2\u30bb\u30f3\u30b5\u3067\u691c\u77e5\u3067\u304d\u306a\u3044\u3082\u306e\u306f\uff1f</li> <li>\u30ab\u30e1\u30e9\u3060\u3051\u3067\u306f\u5206\u304b\u3089\u306a\u3044\u60c5\u5831\u306f\uff1f</li> <li>\u4e21\u65b9\u3092\u7d44\u307f\u5408\u308f\u305b\u308b\u30e1\u30ea\u30c3\u30c8\u306f\uff1f</li> </ol>"},{"location":"reference/camera/","title":"\u30ab\u30e1\u30e9\u8abf\u6574","text":""},{"location":"reference/camera/#jetson-csi","title":"Jetson CSI\u30ab\u30e1\u30e9","text":""},{"location":"reference/camera/#_2","title":"\u30d4\u30f3\u30af\u8272\u306e\u8272\u5408\u3044\u3092\u4fee\u6b63","text":"<p>Jetson\u306e\u4e00\u90e8\u306eCSI\u30ab\u30e1\u30e9\u3067\u30d4\u30f3\u30af\u8272\u306e\u8272\u5408\u3044\u304c\u767a\u751f\u3059\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code># \u30d7\u30ea\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\ncp /var/nvidia/nvcam/settings/camera_overrides.isp /home/jetson/\n\n# \u307e\u305f\u306f\u3001Dropbox\u304b\u3089\u6700\u65b0\u7248\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n# https://www.dropbox.com/s/...\n</code></pre> <p>ISP\u30d5\u30a1\u30a4\u30eb\u3092\u9069\u7528\u5f8c\u3001\u518d\u8d77\u52d5\u304c\u5fc5\u8981\u3067\u3059\u3002</p>"},{"location":"reference/camera/#configpy","title":"config.py \u30ab\u30e1\u30e9\u8a2d\u5b9a","text":"<pre><code># ============================================================================\n# \u30ab\u30e1\u30e9\u8a2d\u5b9a\n# ============================================================================\n\n# \u30ab\u30e1\u30e9\u306e\u6709\u52b9/\u7121\u52b9\nHAVE_CAMERA = True\n\n# \u30ab\u30e1\u30e9\u89e3\u50cf\u5ea6\nCAMERA_WIDTH = 224\nCAMERA_HEIGHT = 224\n\n# \u30d5\u30ec\u30fc\u30e0\u30ec\u30fc\u30c8\nCAMERA_FPS = 30\n\n# \u30ab\u30e1\u30e90\u306e\u53cd\u8ee2\u8a2d\u5b9a\nCAMERA_0_FLIP_HORIZONTAL = False\nCAMERA_0_FLIP_VERTICAL = False\n\n# \u30ab\u30e1\u30e91\u306e\u53cd\u8ee2\u8a2d\u5b9a\uff08\u30c7\u30e5\u30a2\u30eb\u30ab\u30e1\u30e9\u4f7f\u7528\u6642\uff09\nCAMERA_1_FLIP_HORIZONTAL = False\nCAMERA_1_FLIP_VERTICAL = False\n</code></pre>"},{"location":"reference/camera/#_3","title":"\u30c7\u30e5\u30a2\u30eb\u30ab\u30e1\u30e9\u8a2d\u5b9a","text":"<p>2\u53f0\u306e\u30ab\u30e1\u30e9\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u306e\u8a2d\u5b9a\u3067\u3059\u3002</p> <pre><code># \u30c7\u30e5\u30a2\u30eb\u30ab\u30e1\u30e9\u6709\u52b9\u5316\nHAVE_DUAL_CAMERA = True\n\n# \u7d50\u5408\u65b9\u5411\u306e\u8a2d\u5b9a\nCAMERA_CONCAT_DIRECTION = \"horizontal\"  # \"horizontal\" or \"vertical\"\n\n# \u7d50\u5408\u753b\u50cf\u306e\u4fdd\u5b58\u8a2d\u5b9a\nSAVE_CONCAT_IMAGE = True\n</code></pre>"},{"location":"reference/camera/#_4","title":"\u30ab\u30e1\u30e9\u30c6\u30b9\u30c8","text":"<pre><code># \u30ab\u30e1\u30e9\u306e\u52d5\u4f5c\u78ba\u8a8d\npython camera_test.py\n\n# \u307e\u305f\u306f\npython -c \"import camera; camera.test()\"\n</code></pre>"},{"location":"reference/camera/#_5","title":"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0","text":""},{"location":"reference/camera/#_6","title":"\u30ab\u30e1\u30e9\u304c\u8a8d\u8b58\u3055\u308c\u306a\u3044","text":"<p>Raspberry Pi: <pre><code># \u30ab\u30e1\u30e9\u306e\u72b6\u614b\u78ba\u8a8d\nvcgencmd get_camera\n\n# raspi-config\u3067\u6709\u52b9\u5316\nsudo raspi-config\n# Interface Options \u2192 Camera \u2192 Enable\n</code></pre></p> <p>Jetson: <pre><code># \u30c7\u30d0\u30a4\u30b9\u78ba\u8a8d\nls /dev/video*\n\n# GStreamer\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u30c6\u30b9\u30c8\ngst-launch-1.0 nvarguscamerasrc ! nvoverlaysink\n</code></pre></p>"},{"location":"reference/camera/#_7","title":"\u753b\u50cf\u304c\u6697\u3044/\u660e\u308b\u3059\u304e\u308b","text":"<pre><code># config.py\nCAMERA_EXPOSURE = \"auto\"  # \"auto\", \"manual\"\nCAMERA_EXPOSURE_VALUE = 0  # \u30de\u30cb\u30e5\u30a2\u30eb\u6642\u306e\u9732\u51fa\u5024\nCAMERA_GAIN = \"auto\"\n</code></pre>"},{"location":"reference/camera/#_8","title":"\u30d5\u30ec\u30fc\u30e0\u30ec\u30fc\u30c8\u304c\u4f4e\u3044","text":"<ul> <li>\u89e3\u50cf\u5ea6\u3092\u4e0b\u3052\u308b</li> <li>GStreamer\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3092\u6700\u9069\u5316\uff08GStreamer\u6700\u9069\u5316\u53c2\u7167\uff09</li> <li>USB\u30ab\u30e1\u30e9\u306e\u5834\u5408\u306fUSB3.0\u30dd\u30fc\u30c8\u3092\u4f7f\u7528</li> </ul>"},{"location":"reference/camera/#_9","title":"\u30ab\u30e1\u30e9\u30ad\u30e3\u30ea\u30d6\u30ec\u30fc\u30b7\u30e7\u30f3","text":"<p>\u30ec\u30f3\u30ba\u6b6a\u307f\u306e\u88dc\u6b63\u304c\u5fc5\u8981\u306a\u5834\u5408\uff1a</p> <pre><code>import cv2\nimport numpy as np\n\n# \u30ad\u30e3\u30ea\u30d6\u30ec\u30fc\u30b7\u30e7\u30f3\u30c7\u30fc\u30bf\uff08\u4e8b\u524d\u306b\u8a08\u7b97\uff09\ncamera_matrix = np.array([...])\ndist_coeffs = np.array([...])\n\n# \u6b6a\u307f\u88dc\u6b63\nundistorted = cv2.undistort(frame, camera_matrix, dist_coeffs)\n</code></pre> <p>\u30ad\u30e3\u30ea\u30d6\u30ec\u30fc\u30b7\u30e7\u30f3\u30c7\u30fc\u30bf\u306e\u53d6\u5f97\u306b\u306f\u3001\u30c1\u30a7\u30c3\u30ab\u30fc\u30dc\u30fc\u30c9\u30d1\u30bf\u30fc\u30f3\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002</p>"},{"location":"reference/inference/","title":"TensorRT / OpenVINO \u63a8\u8ad6","text":"<p>\u5b66\u7fd2\u6e08\u307f\u30e2\u30c7\u30eb\u3092\u9ad8\u901f\u5316\u3059\u308b\u305f\u3081\u306e\u63a8\u8ad6\u30a8\u30f3\u30b8\u30f3\u306b\u3064\u3044\u3066\u89e3\u8aac\u3057\u307e\u3059\u3002</p>"},{"location":"reference/inference/#_1","title":"\u6982\u8981","text":"\u30a8\u30f3\u30b8\u30f3 \u5bfe\u8c61\u30c7\u30d0\u30a4\u30b9 \u7279\u5fb4 PyTorch \u5168\u30c7\u30d0\u30a4\u30b9 \u958b\u767a\u30fb\u30c7\u30d0\u30c3\u30b0\u5411\u3051 TensorRT Jetson NVIDIA GPU\u6700\u9069\u5316 OpenVINO Raspberry Pi Intel CPU\u6700\u9069\u5316"},{"location":"reference/inference/#configpy","title":"config.py\u8a2d\u5b9a","text":"<pre><code># \u63a8\u8ad6\u30a8\u30f3\u30b8\u30f3\u9078\u629e\nINFERENCE_ENGINE = \"pytorch\"  # \"tensorrt\", \"openvino\"\n</code></pre>"},{"location":"reference/inference/#tensorrtjetson","title":"TensorRT\uff08Jetson\u5411\u3051\uff09","text":""},{"location":"reference/inference/#_2","title":"\u5909\u63db\u624b\u9806","text":"<pre><code># \u5b66\u7fd2\u5f8c\u306b\u81ea\u52d5\u3067\u63d0\u6848\u3055\u308c\u308b\u3001\u307e\u305f\u306f\u624b\u52d5\u3067\u5b9f\u884c\npython convert_tensorrt.py --model models/my_model.pth\n</code></pre>"},{"location":"reference/inference/#_3","title":"\u5909\u63db\u30aa\u30d7\u30b7\u30e7\u30f3","text":"<pre><code># config.py\nTENSORRT_FP16 = True         # FP16\u7cbe\u5ea6\uff08\u9ad8\u901f\u5316\uff09\nTENSORRT_BATCH_SIZE = 1      # \u30d0\u30c3\u30c1\u30b5\u30a4\u30ba\nTENSORRT_WORKSPACE = 1 &lt;&lt; 30 # \u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9\u30b5\u30a4\u30ba(1GB)\n</code></pre>"},{"location":"reference/inference/#_4","title":"\u51fa\u529b\u30d5\u30a1\u30a4\u30eb","text":"<pre><code>models/\n\u251c\u2500\u2500 my_model.pth           # \u5143\u306ePyTorch\u30e2\u30c7\u30eb\n\u2514\u2500\u2500 my_model_trt.engine    # TensorRT\u30a8\u30f3\u30b8\u30f3\n</code></pre>"},{"location":"reference/inference/#_5","title":"\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u7d50\u679c\uff08\u53c2\u8003\uff09","text":"\u30e2\u30c7\u30eb PyTorch TensorRT \u9ad8\u901f\u5316\u7387 donkeycar 15ms 3ms 5x resnet18 45ms 8ms 5.6x mobilevit_xxs 25ms 5ms 5x"},{"location":"reference/inference/#openvinoraspberry-pi","title":"OpenVINO\uff08Raspberry Pi\u5411\u3051\uff09","text":""},{"location":"reference/inference/#_6","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<pre><code>pip install openvino-dev\n</code></pre>"},{"location":"reference/inference/#_7","title":"\u5909\u63db\u624b\u9806","text":"<pre><code># ONNX\u7d4c\u7531\u3067\u5909\u63db\npython convert_openvino.py --model models/my_model.pth\n</code></pre>"},{"location":"reference/inference/#_8","title":"\u5909\u63db\u306e\u6d41\u308c","text":"<pre><code>PyTorch (.pth)\n    \u2193\nONNX (.onnx)\n    \u2193\nOpenVINO IR (.xml + .bin)\n</code></pre>"},{"location":"reference/inference/#_9","title":"\u51fa\u529b\u30d5\u30a1\u30a4\u30eb","text":"<pre><code>models/\n\u251c\u2500\u2500 my_model.pth           # \u5143\u306ePyTorch\u30e2\u30c7\u30eb\n\u251c\u2500\u2500 my_model.onnx          # ONNX\u4e2d\u9593\u5f62\u5f0f\n\u251c\u2500\u2500 my_model.xml           # OpenVINO\u30e2\u30c7\u30eb\u5b9a\u7fa9\n\u2514\u2500\u2500 my_model.bin           # OpenVINO\u91cd\u307f\n</code></pre>"},{"location":"reference/inference/#_10","title":"\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u7d50\u679c\uff08\u53c2\u8003\uff09","text":"\u30e2\u30c7\u30eb PyTorch OpenVINO \u9ad8\u901f\u5316\u7387 donkeycar 80ms 25ms 3.2x resnet18 250ms 70ms 3.6x"},{"location":"reference/inference/#_11","title":"\u4f7f\u7528\u65b9\u6cd5","text":""},{"location":"reference/inference/#tensorrt","title":"TensorRT","text":"<pre><code># config.py\nINFERENCE_ENGINE = \"tensorrt\"\nMODEL_NAME = \"my_model_trt.engine\"\n</code></pre>"},{"location":"reference/inference/#openvino","title":"OpenVINO","text":"<pre><code># config.py\nINFERENCE_ENGINE = \"openvino\"\nMODEL_NAME = \"my_model.xml\"\n</code></pre>"},{"location":"reference/inference/#_12","title":"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0","text":""},{"location":"reference/inference/#tensorrt_1","title":"TensorRT\u5909\u63db\u30a8\u30e9\u30fc","text":"<pre><code>Error: CUDA out of memory\n</code></pre> <p>\u5bfe\u7b56: - <code>TENSORRT_WORKSPACE</code>\u3092\u5c0f\u3055\u304f\u3059\u308b - \u4ed6\u306eGPU\u30d7\u30ed\u30bb\u30b9\u3092\u7d42\u4e86\u3059\u308b</p>"},{"location":"reference/inference/#openvino_1","title":"OpenVINO\u5909\u63db\u30a8\u30e9\u30fc","text":"<pre><code>Error: Unsupported operation\n</code></pre> <p>\u5bfe\u7b56: - PyTorch\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u78ba\u8a8d - \u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u6f14\u7b97\u304c\u306a\u3044\u304b\u78ba\u8a8d - ONNX opset\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u8abf\u6574</p>"},{"location":"reference/inference/#_13","title":"\u63a8\u8ad6\u7d50\u679c\u304c\u7570\u306a\u308b","text":"<p>\u78ba\u8a8d\u4e8b\u9805: - \u5165\u529b\u306e\u6b63\u898f\u5316\u304c\u4e00\u81f4\u3057\u3066\u3044\u308b\u304b - FP16\u5909\u63db\u306b\u3088\u308b\u7cbe\u5ea6\u4f4e\u4e0b - \u524d\u51e6\u7406\u30fb\u5f8c\u51e6\u7406\u306e\u9055\u3044</p>"},{"location":"reference/inference/#_14","title":"\u63a8\u5968\u30d5\u30ed\u30fc","text":"<pre><code>graph TD\n    A[PyTorch\u3067\u5b66\u7fd2] --&gt; B{\u30c7\u30d0\u30a4\u30b9\u78ba\u8a8d}\n    B --&gt;|Jetson| C[TensorRT\u5909\u63db]\n    B --&gt;|Raspberry Pi| D[OpenVINO\u5909\u63db]\n    C --&gt; E[\u52d5\u4f5c\u78ba\u8a8d]\n    D --&gt; E\n    E --&gt; F[\u672c\u756a\u904b\u7528]</code></pre> <ol> <li>\u307e\u305aPyTorch\u3067\u5b66\u7fd2\u30fb\u52d5\u4f5c\u78ba\u8a8d</li> <li>\u30c7\u30d0\u30a4\u30b9\u306b\u5fdc\u3058\u3066\u5909\u63db</li> <li>\u5909\u63db\u5f8c\u306e\u30e2\u30c7\u30eb\u3067\u52d5\u4f5c\u78ba\u8a8d</li> <li>\u7cbe\u5ea6\u304c\u8a31\u5bb9\u7bc4\u56f2\u5185\u304b\u691c\u8a3c</li> <li>\u672c\u756a\u904b\u7528</li> </ol>"},{"location":"reference/pwm-mapping/","title":"PWM\u30de\u30c3\u30d4\u30f3\u30b0\u8a73\u7d30","text":""},{"location":"reference/pwm-mapping/#_1","title":"\u6982\u8981","text":"<p>\u5236\u5fa1\u5024\uff08-1.0\u301c1.0\uff09\u304b\u3089PWM\u4fe1\u53f7\u3078\u306e\u5909\u63db\u306b\u3064\u3044\u3066\u8a73\u3057\u304f\u89e3\u8aac\u3057\u307e\u3059\u3002</p> <pre><code>graph LR\n    A[\u5236\u5fa1\u5024&lt;br/&gt;-1.0 ~ 1.0] --&gt; B[\u30de\u30c3\u30d4\u30f3\u30b0\u95a2\u6570]\n    B --&gt; C[PWM\u5024&lt;br/&gt;\u4f8b: 290 ~ 450]\n    C --&gt; D[PCA9685]\n    D --&gt; E[\u30b5\u30fc\u30dc/ESC]</code></pre>"},{"location":"reference/pwm-mapping/#1-angle","title":"1. \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\uff08Angle\uff09\u306e\u30de\u30c3\u30d4\u30f3\u30b0","text":""},{"location":"reference/pwm-mapping/#_2","title":"\u5909\u63db\u5f0f","text":"<pre><code>def steering_to_pwm(steering_value):\n    \"\"\"\n    steering_value: -1.0\uff08\u5de6\u6700\u5927\uff09\u301c 1.0\uff08\u53f3\u6700\u5927\uff09\n    \"\"\"\n    if steering_value &gt;= 0:\n        # \u53f3\u65b9\u5411\uff08steering_value &gt;= 0\uff09\n        pwm = STEERING_CENTER_PWM + (steering_value * STEERING_WIDTH_PWM)\n    else:\n        # \u5de6\u65b9\u5411\uff08steering_value &lt; 0\uff09\n        pwm = STEERING_CENTER_PWM + (steering_value * STEERING_WIDTH_PWM)\n    return int(pwm)\n</code></pre>"},{"location":"reference/pwm-mapping/#_3","title":"\u6570\u5024\u4f8b","text":"steering_value \u8a08\u7b97\u5f0f PWM\u5024 -1.0\uff08\u5de6\u6700\u5927\uff09 370 + (-1.0 \u00d7 80) 290 -0.5\uff08\u5de6\u534a\u5206\uff09 370 + (-0.5 \u00d7 80) 330 0.0\uff08\u4e2d\u592e\uff09 370 + (0.0 \u00d7 80) 370 0.5\uff08\u53f3\u534a\u5206\uff09 370 + (0.5 \u00d7 80) 410 1.0\uff08\u53f3\u6700\u5927\uff09 370 + (1.0 \u00d7 80) 450"},{"location":"reference/pwm-mapping/#_4","title":"\u56f3\u89e3","text":"<pre><code>-1.0 (\u5de6\u6700\u5927) \u2190\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 0.0 (\u4e2d\u592e) \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2192 +1.0 (\u53f3\u6700\u5927)\n     \u2502                      \u2502                      \u2502\n     \u25bc                      \u25bc                      \u25bc\n LEFT_PWM              CENTER_PWM              RIGHT_PWM\n   (290)                  (370)                  (450)\n</code></pre>"},{"location":"reference/pwm-mapping/#2-throttle","title":"2. \u30b9\u30ed\u30c3\u30c8\u30eb\uff08Throttle\uff09\u306e\u30de\u30c3\u30d4\u30f3\u30b0","text":""},{"location":"reference/pwm-mapping/#_5","title":"\u5909\u63db\u5f0f","text":"<pre><code>def throttle_to_pwm(throttle_value):\n    \"\"\"\n    throttle_value: -1.0\uff08\u5f8c\u9000\u6700\u5927\uff09\u301c 1.0\uff08\u524d\u9032\u6700\u5927\uff09\n    \"\"\"\n    if throttle_value &gt;= 0:\n        # \u524d\u9032\u65b9\u5411\uff08throttle_value &gt;= 0\uff09\n        pwm = THROTTLE_STOPPED_PWM + (throttle_value * (THROTTLE_FORWARD_PWM - THROTTLE_STOPPED_PWM))\n    else:\n        # \u5f8c\u9000\u65b9\u5411\uff08throttle_value &lt; 0\uff09\n        pwm = THROTTLE_STOPPED_PWM + (throttle_value * (THROTTLE_STOPPED_PWM - THROTTLE_REVERSE_PWM))\n    return int(pwm)\n</code></pre>"},{"location":"reference/pwm-mapping/#_6","title":"\u6570\u5024\u4f8b","text":"throttle_value \u8a08\u7b97\u5f0f PWM\u5024 -1.0\uff08\u5f8c\u9000\u6700\u5927\uff09 370 + (-1.0 \u00d7 70) 300 0.0\uff08\u505c\u6b62\uff09 370 370 0.6\uff08\u524d\u903260%\uff09 370 + (0.6 \u00d7 130) 448 1.0\uff08\u524d\u9032\u6700\u5927\uff09 370 + (1.0 \u00d7 130) 500"},{"location":"reference/pwm-mapping/#3-pwm","title":"3. PWM\u4fe1\u53f7\u306e\u4ed5\u69d8","text":"\u9805\u76ee \u5024 PWM\u5468\u6ce2\u6570 50Hz\uff0820ms\u5468\u671f\uff09 \u30d1\u30eb\u30b9\u5e45\u7bc4\u56f2 1.0ms\u301c2.0ms \u4e2d\u592e\u5024 1.5ms PCA9685\u5206\u89e3\u80fd 12bit\uff080\u301c4095\uff09"},{"location":"reference/pwm-mapping/#4","title":"4. \u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9","text":"<pre><code>Raspberry Pi / Jetson\n        \u2502\n        \u2502 I2C (SDA, SCL)\n        \u25bc\n    PCA9685\n    PWM\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\n        \u2502\n        \u251c\u2500\u2500 CH0 \u2192 \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u30b5\u30fc\u30dc\n        \u2514\u2500\u2500 CH1 \u2192 ESC\uff08\u30b9\u30ed\u30c3\u30c8\u30eb\uff09\n</code></pre>"},{"location":"reference/pwm-mapping/#5","title":"5. \u30ad\u30e3\u30ea\u30d6\u30ec\u30fc\u30b7\u30e7\u30f3\u624b\u9806","text":""},{"location":"reference/pwm-mapping/#_7","title":"\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0","text":"<ol> <li><code>python motor.py</code> \u3092\u5b9f\u884c</li> <li>\u4e2d\u592e\u4f4d\u7f6e\u306ePWM\u5024\u3092\u63a2\u3059 \u2192 <code>STEERING_CENTER_PWM</code></li> <li>\u5de6\u6700\u5927\u306ePWM\u5024\u3092\u63a2\u3059 \u2192 \u5dee\u5206\u3092\u8a08\u7b97</li> <li>\u53f3\u6700\u5927\u306ePWM\u5024\u3092\u63a2\u3059 \u2192 \u5dee\u5206\u3092\u8a08\u7b97</li> <li><code>STEERING_WIDTH_PWM</code> = (\u53f3\u6700\u5927 - \u4e2d\u592e) \u306e\u5024\u3092\u8a2d\u5b9a</li> </ol>"},{"location":"reference/pwm-mapping/#_8","title":"\u30b9\u30ed\u30c3\u30c8\u30eb","text":"<ol> <li><code>python motor.py</code> \u3092\u5b9f\u884c</li> <li>ESC\u304c\u30d4\u30c3\u30d4\u30c3\u30d4\u3068\u9cf4\u308bPWM\u5024\u3092\u63a2\u3059 \u2192 <code>THROTTLE_STOPPED_PWM</code></li> <li>\u524d\u9032\u6700\u5927\u306ePWM\u5024\u3092\u63a2\u3059 \u2192 <code>THROTTLE_FORWARD_PWM</code></li> <li>\u5f8c\u9000\u6700\u5927\u306ePWM\u5024\u3092\u63a2\u3059 \u2192 <code>THROTTLE_REVERSE_PWM</code></li> </ol>"},{"location":"reference/pwm-mapping/#6","title":"6. \u6ce8\u610f\u4e8b\u9805","text":"<p>\u5b89\u5168\u6ce8\u610f</p> <ul> <li>\u6975\u7aef\u306aPWM\u5024\u306f\u30b5\u30fc\u30dc\u3084\u30e2\u30fc\u30bf\u30fc\u3092\u7834\u640d\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059</li> <li>\u6700\u521d\u306f\u5c0f\u3055\u3044\u5024\u304b\u3089\u5f90\u3005\u306b\u8abf\u6574\u3057\u3066\u304f\u3060\u3055\u3044</li> <li>ESC\u306e\u30ad\u30e3\u30ea\u30d6\u30ec\u30fc\u30b7\u30e7\u30f3\u304c\u5fc5\u8981\u306a\u5834\u5408\u304c\u3042\u308a\u307e\u3059</li> </ul> <p>\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0</p> <ul> <li>\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u304c\u9006\u306b\u52d5\u304f \u2192 <code>STEERING_WIDTH_PWM</code> \u306e\u7b26\u53f7\u3092\u53cd\u8ee2</li> <li>\u30b9\u30ed\u30c3\u30c8\u30eb\u304c\u53cd\u5fdc\u3057\u306a\u3044 \u2192 <code>THROTTLE_STOPPED_PWM</code> \u3092\u5fae\u8abf\u6574</li> </ul>"},{"location":"reference/pwm-mapping/#7","title":"7. \u8eca\u4e21\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u89d2\u5ea6\u3068\u306e\u30de\u30c3\u30d4\u30f3\u30b0","text":"<p>\u5b9f\u969b\u306e\u8eca\u4e21\u306e\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u89d2\u5ea6\u3068\u306e\u5bfe\u5fdc\uff1a</p> steering_value \u89d2\u5ea6\uff08\u53c2\u8003\uff09 -1.0 \u7d04-30\u5ea6\uff08\u5de6\u6700\u5927\uff09 -0.5 \u7d04-15\u5ea6 0.0 0\u5ea6\uff08\u76f4\u9032\uff09 0.5 \u7d04+15\u5ea6 1.0 \u7d04+30\u5ea6\uff08\u53f3\u6700\u5927\uff09 <p>\u203b\u89d2\u5ea6\u306f\u8eca\u4e21\u306b\u3088\u3063\u3066\u7570\u306a\u308a\u307e\u3059</p>"}]}